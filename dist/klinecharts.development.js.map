{"version":3,"file":"klinecharts.development.js","sources":["../klinechart/internal/ViewPortHandler.js","../klinechart/internal/utils/drawUtils.js","../klinechart/chart/Chart.js","../klinechart/render/Render.js","../klinechart/internal/utils/dataUtils.js","../klinechart/internal/constants.js","../klinechart/internal/DataProvider.js","../klinechart/render/IndicatorRender.js","../klinechart/internal/utils/numberUtils.js","../klinechart/render/AxisRender.js","../klinechart/render/YAxisRender.js","../klinechart/chart/IndicatorChart.js","../klinechart/render/MainRender.js","../klinechart/chart/MainChart.js","../klinechart/internal/utils/markerMapUtils.js","../klinechart/render/MarkerRender.js","../klinechart/chart/MarkerChart.js","../klinechart/render/TooltipRender.js","../klinechart/chart/TooltipChart.js","../klinechart/render/XAxisRender.js","../klinechart/chart/XAxisChart.js","../klinechart/internal/calcIndicator.js","../klinechart/config.js","../klinechart/internal/utils/platformUtils.js","../klinechart/internal/event/Event.js","../klinechart/internal/event/eventHelper.js","../klinechart/internal/event/TouchEvent.js","../klinechart/internal/event/MouseEvent.js","../klinechart/internal/event/MarkerEvent.js","../klinechart/internal/event/KeyboardEvent.js","../klinechart/chart/RootChart.js","../klinechart/index.js"],"sourcesContent":["class ViewPortHandler {\n  constructor () {\n    // 绘制区域参数\n    this.contentRect = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }\n    // 整个view的高度\n    this.height = 0\n    // 整个view的宽度\n    this.width = 0\n  }\n\n  /**\n   * 设置尺寸\n   * @param width\n   * @param height\n   * @param offsetLeft\n   * @param offsetRight\n   * @param offsetTop\n   * @param offsetBottom\n   */\n  setDimensions (width, height, offsetLeft, offsetRight, offsetTop, offsetBottom) {\n    this.width = width\n    this.height = height\n    this.contentRect.left = offsetLeft\n    this.contentRect.right = offsetRight\n    this.contentRect.top = offsetTop\n    this.contentRect.bottom = offsetBottom\n  }\n\n  contentTop () {\n    return this.contentRect.top\n  }\n\n  contentLeft () {\n    return this.contentRect.left\n  }\n\n  contentRight () {\n    return this.width - this.contentRect.right\n  }\n\n  contentBottom () {\n    return this.height - this.contentRect.bottom\n  }\n\n  /**\n   * 获取中间点坐标\n   */\n  getContentCenter () {\n    const point = {}\n    point.x = (this.contentLeft() + this.contentRight()) / 2\n    point.y = (this.contentTop() + this.contentBottom()) / 2\n    return point\n  }\n}\n\nexport default ViewPortHandler\n","const ctx = document.createElement('canvas').getContext('2d')\nconst pixelRatio = getPixelRatio(ctx)\nctx.scale(pixelRatio, pixelRatio)\n\n/**\n * 获取屏幕比\n * @param ctx\n * @returns {number}\n */\nexport function getPixelRatio (ctx) {\n  const backingStore = ctx.backingStorePixelRatio ||\n    ctx.webkitBackingStorePixelRatio ||\n    ctx.mozBackingStorePixelRatio ||\n    ctx.msBackingStorePixelRatio ||\n    ctx.oBackingStorePixelRatio ||\n    ctx.backingStorePixelRatio || 1\n  return (window.devicePixelRatio || 1) / backingStore\n}\n\n/**\n * requestAnimationFrame兼容\n * @param fn\n */\nexport function requestAnimationFrame (fn) {\n  if (!window.requestAnimationFrame) {\n    return window.setTimeout(function () { fn() }, 1000 / 60)\n  }\n  return window.requestAnimationFrame(fn)\n}\n\n/**\n * cancelAnimationFrame兼容\n * @param id\n */\nexport function cancelAnimationFrame (id) {\n  if (!window.cancelAnimationFrame) {\n    clearTimeout(id)\n  }\n  window.cancelAnimationFrame(id)\n}\n\n/**\n * 测量文字的宽度\n * @param fontSize\n * @param text\n * @returns {number}\n */\nexport function calcTextWidth (fontSize, text) {\n  ctx.font = `${fontSize}px Arial`\n  return ctx.measureText(text).width\n}\n","import ViewPortHandler from '../internal/ViewPortHandler'\nimport { getPixelRatio, requestAnimationFrame, cancelAnimationFrame } from '../internal/utils/drawUtils'\n\nclass Chart {\n  constructor (dom, style) {\n    this.style = style\n    this.viewPortHandler = new ViewPortHandler()\n    this.init(dom)\n  }\n\n  /**\n   * 初始化canvas\n   * @param dom\n   */\n  init (dom) {\n    const canvasDom = document.createElement('canvas')\n    canvasDom.style.position = 'absolute'\n    canvasDom.style.right = '0'\n    canvasDom.style.left = '0'\n    this.canvasDom = canvasDom\n    this.ctx = this.canvasDom.getContext('2d')\n    dom.appendChild(this.canvasDom)\n  }\n\n  /**\n   * 设置图尺寸\n   * @param chartTop\n   * @param width\n   * @param height\n   * @param offsetLeft\n   * @param offsetRight\n   * @param offsetTop\n   * @param offsetBottom\n   */\n  setChartDimensions (chartTop, width, height, offsetLeft, offsetRight, offsetTop = 0, offsetBottom = 0) {\n    this.clearCanvas()\n    const pixelRatio = getPixelRatio(this.ctx)\n    const canvasWidth = width * pixelRatio\n    const canvasHeight = height * pixelRatio\n    this.canvasDom.style.top = `${chartTop}px`\n    this.canvasDom.style.width = `${width}px`\n    this.canvasDom.style.height = `${height}px`\n    this.canvasDom.width = canvasWidth\n    this.canvasDom.height = canvasHeight\n    this.viewPortHandler.setDimensions(width, height, offsetLeft, offsetRight, offsetTop, offsetBottom)\n    this.ctx.scale(pixelRatio, pixelRatio)\n    this.ctx.translate(-0.5, -0.5)\n    this.draw()\n  }\n\n  /**\n   * 清空画布\n   */\n  clearCanvas () {\n    this.ctx.clearRect(0, 0, this.viewPortHandler.width, this.viewPortHandler.height)\n  }\n\n  /**\n   * 刷新\n   */\n  flush () {\n    if (this.requestAnimationId) {\n      cancelAnimationFrame(this.requestAnimationId)\n    }\n    this.requestAnimationId = requestAnimationFrame(() => {\n      this.clearCanvas()\n      this.draw()\n    })\n  }\n\n  /**\n   * 绘制\n   */\n  draw () {\n  }\n}\n\nexport default Chart\n","class Render {\n  constructor (viewPortHandler, dataProvider) {\n    this.viewPortHandler = viewPortHandler\n    this.dataProvider = dataProvider\n  }\n}\n\nexport default Render\n","/**\n * 格式化时间\n * @param timestamp\n * @returns {string}\n */\nexport function formatDate (timestamp) {\n  if (timestamp && isNumber(timestamp)) {\n    const date = new Date(timestamp)\n    const month = (date.getMonth() + 1).toString()\n    const day = date.getDate().toString()\n    const hours = date.getHours().toString()\n    const minutes = date.getMinutes().toString()\n    return (month.length === 1 ? '0' + month : month) +\n      '-' + (day.length === 1 ? '0' + day : day) +\n      ' ' + (hours.length === 1 ? '0' + hours : hours) +\n      ':' + (minutes.length === 1 ? '0' + minutes : minutes)\n  }\n  return '--'\n}\n\n/**\n * 格式化值\n * @param data\n * @param key\n * @param defaultValue\n * @returns {string|*}\n */\nexport function formatValue (data, key, defaultValue = '--') {\n  if (data && isObject(data)) {\n    const value = data[key]\n    if (value || value === 0 || value === false) {\n      return value\n    }\n  }\n  return defaultValue\n}\n\n/**\n * 格式化小数\n * @param value\n * @param decimal\n * @returns {*|string|*}\n */\nexport function formatDecimal (value, decimal = 2) {\n  if ((value || value === 0) && isNumber(value)) {\n    return value.toFixed(decimal)\n  }\n  return value\n}\n\nexport function merge (target, source) {\n  if (!isObject(target) || !isObject(source)) {\n    return\n  }\n  for (const key in source) {\n    if (target.hasOwnProperty(key)) {\n      const targetProp = target[key]\n      const sourceProp = source[key]\n      if (isObject(sourceProp) &&\n        isObject(targetProp) &&\n        !isArray(sourceProp) &&\n        !isArray(targetProp)\n      ) {\n        merge(targetProp, sourceProp)\n      } else {\n        if (source[key] || source[key] === 0 || source[key] === false) {\n          target[key] = source[key]\n        }\n      }\n    }\n  }\n}\n\nexport function isArray (value) {\n  return Object.prototype.toString.call(value) === '[object Array]'\n}\n\n/**\n * @param {*} value\n * @return {boolean}\n */\nexport function isFunction (value) {\n  return typeof value === 'function'\n}\n\n/**\n * @param {*} value\n * @return {boolean}\n */\nexport function isObject (value) {\n  const type = typeof value\n  return type === 'function' || (!!value && type === 'object')\n}\n\n/**\n * 判断是否是数字\n * @param value\n * @returns {boolean}\n */\nexport function isNumber (value) {\n  return typeof value === 'number' && !isNaN(value)\n}\n","/**\n * 指标类型\n * @type {{NO: string, DMI: string, OBV: string, SAR: string, BIAS: string, MTM: string, CCI: string, RSI: string, TRIX: string, CR: string, EMV: string, KDJ: string, VOL: string, BOLL: string, MA: string, MACD: string, PSY: string, KD: string, DMA: string, WR: string, VR: string, BRAR: string}}\n */\nconst IndicatorType = {\n  NO: 'NO',\n  MA: 'MA',\n  VOL: 'VOL',\n  MACD: 'MACD',\n  BOLL: 'BOLL',\n  KDJ: 'KDJ',\n  RSI: 'RSI',\n  BIAS: 'BIAS',\n  BRAR: 'BRAR',\n  CCI: 'CCI',\n  DMI: 'DMI',\n  CR: 'CR',\n  PSY: 'PSY',\n  DMA: 'DMA',\n  TRIX: 'TRIX',\n  OBV: 'OBV',\n  VR: 'VR',\n  WR: 'WR',\n  MTM: 'MTM',\n  EMV: 'EMV',\n  SAR: 'SAR'\n}\n\n/**\n * 线的样式\n * @type {{DASH: string, SOLID: string}}\n */\nconst LineStyle = {\n  DASH: 'dash',\n  SOLID: 'solid'\n}\n\n/**\n * y轴位置\n * @type {{LEFT: string, RIGHT: string}}\n */\nconst YAxisPosition = {\n  LEFT: 'left',\n  RIGHT: 'right'\n}\n\n/**\n * y轴文字位置\n * @type {{OUTSIDE: string, INSIDE: string}}\n */\nconst YAxisTextPosition = {\n  INSIDE: 'inside',\n  OUTSIDE: 'outside'\n}\n\n/**\n * 主图类型\n * @type {{TIME_LINE: string, CANDLE: string}}\n */\nconst ChartType = {\n  REAL_TIME: 'real_time',\n  CANDLE: 'candle'\n}\n\n/**\n * 蜡烛图样式\n * @type {{STROKE: string, DECREASING_STROKE: string, OHLC: string, INCREASING_STROKE: string, SOLID: string}}\n */\nconst CandleStyle = {\n  SOLID: 'solid',\n  STROKE: 'stroke',\n  INCREASING_STROKE: 'increasing_stroke',\n  DECREASING_STROKE: 'decreasing_stroke',\n  OHLC: 'ohlc'\n}\n\n/**\n * 提示文字显示规则\n * @type {{FOLLOW_CROSS: string, NONE: string, ALWAYS: string}}\n */\nconst TooltipTextDisplayRule = {\n  ALWAYS: 'always',\n  FOLLOW_CROSS: 'follow_cross',\n  NONE: 'none'\n}\n\n/**\n * 主图数据提示显示类型\n * @type {{FLOAT: string, FIXED: string}}\n */\nconst TooltipMainChartTextDisplayType = {\n  FLOAT: 'float',\n  FIXED: 'fixed'\n}\n\n/**\n * 标记图形类型\n * @type {{STRAIGHT_LINE: string, HORIZONTAL_SEGMENT_LINE: string, FIBONACCI_LINE: string, HORIZONTAL_STRAIGHT_LINE: string, PRICE_CHANNEL_LINE: string, VERTICAL_RAY_LINE: string, VERTICAL_SEGMENT_LINE: string, PARALLEL_STRAIGHT_LINE: string, HORIZONTAL_RAY_LINE: string, VERTICAL_STRAIGHT_LINE: string, PRICE_LINE: string, RAY_LINE: string, NONE: string, SEGMENT_LINE: string}}\n */\nconst MarkerType = {\n  NONE: 'none',\n  HORIZONTAL_STRAIGHT_LINE: 'horizontalStraightLine',\n  VERTICAL_STRAIGHT_LINE: 'verticalStraightLine',\n  STRAIGHT_LINE: 'straightLine',\n  HORIZONTAL_RAY_LINE: 'horizontalRayLine',\n  VERTICAL_RAY_LINE: 'verticalRayLine',\n  RAY_LINE: 'rayLine',\n  HORIZONTAL_SEGMENT_LINE: 'horizontalSegmentLine',\n  VERTICAL_SEGMENT_LINE: 'verticalSegmentLine',\n  SEGMENT_LINE: 'segmentLine',\n  PRICE_LINE: 'priceLine',\n  PRICE_CHANNEL_LINE: 'priceChannelLine',\n  PARALLEL_STRAIGHT_LINE: 'parallelStraightLine',\n  FIBONACCI_LINE: 'fibonacciLine'\n}\n\n/**\n * 标记图形绘制步骤\n * @type {{STEP_3: *, STEP_DONE: *, STEP_1: *, STEP_2: *}}\n */\nconst MarkerDrawStep = {\n  STEP_1: 'step_1',\n  STEP_2: 'step_2',\n  STEP_3: 'step_3',\n  STEP_DONE: 'step_done'\n}\n\nexport {\n  IndicatorType, LineStyle, YAxisPosition, YAxisTextPosition, ChartType,\n  CandleStyle, TooltipTextDisplayRule, TooltipMainChartTextDisplayType,\n  MarkerType, MarkerDrawStep\n}\n","import { isArray, isObject } from './utils/dataUtils'\nimport { MarkerType } from '../internal/constants'\n\nexport const DATA_MARGIN_SPACE_RATE = 0.26\n\nclass DataProvider {\n  constructor () {\n    // 数据源\n    this.dataList = []\n    // 数据绘制起始位置\n    this.minPos = 0\n    // 绘制的数据条数\n    this.range = 120\n    // 最大绘制条数\n    this.maxRange = 180\n    // 最小绘制条数\n    this.minRange = 20\n    // 每条数据的所占的空间\n    this.dataSpace = 0\n    // 当前提示数据的位置\n    this.currentTooltipDataPos = 0\n    // 十字光标中心点位置坐标\n    this.crossPoint = null\n\n    // 当前绘制的标记图形的类型\n    this.currentMarkerType = MarkerType.NONE\n    // 标记图形点\n    this.markerPoint = null\n    // 是否在拖拽标记图形\n    this.isDragMarker = false\n    // 绘图标记数据\n    this.markerDatas = {\n      // 水平直线\n      horizontalStraightLine: [],\n      // 垂直直线\n      verticalStraightLine: [],\n      // 直线\n      straightLine: [],\n      // 水平射线\n      horizontalRayLine: [],\n      // 垂直射线\n      verticalRayLine: [],\n      // 射线\n      rayLine: [],\n      // 水平线段\n      horizontalSegmentLine: [],\n      // 垂直线段\n      verticalSegmentLine: [],\n      // 线段\n      segmentLine: [],\n      // 价格线\n      priceLine: [],\n      // 平行直线\n      parallelStraightLine: [],\n      // 价格通道线\n      priceChannelLine: [],\n      // 斐波那契线\n      fibonacciLine: []\n    }\n  }\n\n  space (width) {\n    this.dataSpace = width / this.range\n  }\n\n  addData (data, pos) {\n    if (isObject(data) && !isArray(data)) {\n      if (pos >= this.dataList.length) {\n        this.dataList.push(data)\n      } else if (pos <= 0) {\n        this.dataList.unshift(data)\n      } else {\n        this.dataList[pos] = data\n      }\n      if (this.minPos + this.range >= this.dataList.length - 1) {\n        this.moveToLast()\n      }\n    } else if (isArray(data)) {\n      if (this.dataList.length === 0) {\n        this.dataList = data.concat(this.dataList)\n        this.moveToLast()\n      } else {\n        this.dataList = data.concat(this.dataList)\n        this.minPos += data.length\n      }\n    }\n  }\n\n  moveToLast () {\n    if (this.dataList.length > this.range) {\n      this.minPos = this.dataList.length - this.range\n      this.currentTooltipDataPos = this.dataList.length - 1\n    } else {\n      this.minPos = 0\n    }\n  }\n\n  calcCurrentTooltipDataPos (offsetLeft, x) {\n    const range = +Math.ceil((x - offsetLeft) / this.dataSpace).toFixed(0)\n    this.currentTooltipDataPos = this.minPos + range - 1\n    if (this.currentTooltipDataPos > this.dataList.length - 1) {\n      this.currentTooltipDataPos = this.dataList.length - 1\n    }\n    const sub = this.currentTooltipDataPos - this.minPos\n    this.crossPoint.x = offsetLeft + this.dataSpace * sub + this.dataSpace * (1.0 - DATA_MARGIN_SPACE_RATE) / 2\n  }\n}\n\nexport default DataProvider\n","import Render from './Render'\nimport { DATA_MARGIN_SPACE_RATE } from '../internal/DataProvider'\nimport { IndicatorType } from '../internal/constants'\n\nclass IndicatorRender extends Render {\n  constructor (viewPortHandler, dataProvider, yAxisRender) {\n    super(viewPortHandler, dataProvider)\n    this.yAxisRender = yAxisRender\n  }\n\n  /**\n   * 绘制图与图直接的分割线\n   * @param ctx\n   * @param xAxis\n   */\n  renderHorizontalSeparatorLine (ctx, xAxis) {\n    const lineSize = xAxis.line.size\n    ctx.strokeStyle = xAxis.line.color\n    ctx.lineWidth = lineSize\n    ctx.beginPath()\n    ctx.moveTo(this.viewPortHandler.contentLeft(), this.viewPortHandler.contentTop() + lineSize)\n    ctx.lineTo(this.viewPortHandler.contentRight(), this.viewPortHandler.contentTop() + lineSize)\n    ctx.stroke()\n    ctx.closePath()\n  }\n\n  /**\n   * 绘制指标\n   * @param ctx\n   * @param indicatorType\n   * @param indicator\n   * @param indicatorParams\n   * @param isMainIndicator\n   */\n  renderIndicator (ctx, indicatorType, indicator, indicatorParams, isMainIndicator = false) {\n    let onRendering\n    const params = indicatorParams[indicatorType] || []\n    const linePoints = []\n    switch (indicatorType) {\n      case IndicatorType.MA: {\n        const dataKeys = []\n        params.forEach(p => {\n          dataKeys.push(`ma${p}`)\n        })\n        onRendering = (x, i, kLineData, halfBarSpace) => {\n          this.ohlcIndicatorRendering(\n            ctx, i, x, halfBarSpace, indicator,\n            kLineData, indicatorType, dataKeys,\n            isMainIndicator, (values) => {\n              this.prepareLinePoints(x, values, linePoints)\n            }\n          )\n        }\n        break\n      }\n\n      case IndicatorType.MACD: {\n        onRendering = (x, i, kLineData, halfBarSpace) => {\n          const macd = kLineData.macd || {}\n          this.prepareLinePoints(x, [macd.diff, macd.dea], linePoints)\n          const refKLineData = this.dataProvider.dataList[i - 1] || {}\n          const macdValue = macd.macd\n          const refMacdValue = (refKLineData.macd || {}).macd || Number.MIN_SAFE_INTEGER\n          if (macdValue > 0) {\n            ctx.strokeStyle = indicator.increasingColor\n            ctx.fillStyle = indicator.increasingColor\n          } else {\n            ctx.strokeStyle = indicator.decreasingColor\n            ctx.fillStyle = indicator.decreasingColor\n          }\n          const isFill = !((refMacdValue || refMacdValue === 0) && macdValue > refMacdValue)\n          this.renderBars(ctx, x, halfBarSpace, macdValue, isFill)\n        }\n        break\n      }\n\n      case IndicatorType.VOL: {\n        onRendering = (x, i, kLineData, halfBarSpace) => {\n          const vol = kLineData.vol || {}\n          const lineValues = []\n          params.forEach(p => {\n            lineValues.push(vol[`ma${p}`])\n          })\n          this.prepareLinePoints(x, lineValues, linePoints)\n          const refKLineData = this.dataProvider.dataList[i - 1] || {}\n          const close = kLineData.close\n          const refClose = (refKLineData || {}).close || Number.MIN_SAFE_INTEGER\n          if (close > refClose) {\n            ctx.fillStyle = indicator.increasingColor\n          } else {\n            ctx.fillStyle = indicator.decreasingColor\n          }\n          this.renderBars(ctx, x, halfBarSpace, vol.num, true)\n        }\n        break\n      }\n\n      case IndicatorType.BOLL: {\n        onRendering = (x, i, kLineData, halfBarSpace) => {\n          this.ohlcIndicatorRendering(\n            ctx, i, x, halfBarSpace, indicator,\n            kLineData, indicatorType, ['up', 'mid', 'dn'],\n            isMainIndicator, (values) => {\n              this.prepareLinePoints(x, values, linePoints)\n            }\n          )\n        }\n        break\n      }\n\n      case IndicatorType.BIAS: {\n        onRendering = (x, i, kLineData) => {\n          const bias = kLineData.bias || {}\n          const lineValues = []\n          params.forEach(p => {\n            lineValues.push(bias[`bias${p}`])\n          })\n          this.prepareLinePoints(x, lineValues, linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.BRAR: {\n        onRendering = (x, i, kLineData) => {\n          const brar = kLineData.brar || {}\n          this.prepareLinePoints(x, [brar.br, brar.ar], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.CCI: {\n        onRendering = (x, i, kLineData) => {\n          const cci = kLineData.cci || {}\n          this.prepareLinePoints(x, [cci.cci], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.CR: {\n        onRendering = (x, i, kLineData) => {\n          const cr = kLineData.cr || {}\n          this.prepareLinePoints(x, [cr.cr, cr.ma1, cr.ma2, cr.ma3, cr.ma4], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.DMA: {\n        onRendering = (x, i, kLineData) => {\n          const dma = kLineData.dma || {}\n          this.prepareLinePoints(x, [dma.dif, dma.difMa], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.DMI: {\n        onRendering = (x, i, kLineData) => {\n          const dmi = kLineData.dmi || {}\n          this.prepareLinePoints(x, [dmi.mdi, dmi.pdi, dmi.adx, dmi.adxr], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.KDJ: {\n        onRendering = (x, i, kLineData) => {\n          const kdj = kLineData.kdj || {}\n          this.prepareLinePoints(x, [kdj.k, kdj.d, kdj.j], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.RSI: {\n        onRendering = (x, i, kLineData) => {\n          const rsi = kLineData.rsi || {}\n          const lineValues = []\n          params.forEach(p => {\n            lineValues.push(rsi[`rsi${p}`])\n          })\n          this.prepareLinePoints(x, lineValues, linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.PSY: {\n        onRendering = (x, i, kLineData) => {\n          const psy = kLineData.psy || {}\n          this.prepareLinePoints(x, [psy.psy], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.TRIX: {\n        onRendering = (x, i, kLineData) => {\n          const trix = kLineData.trix || {}\n          this.prepareLinePoints(x, [trix.trix, trix.maTrix], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.OBV: {\n        onRendering = (x, i, kLineData) => {\n          const obv = kLineData.obv || {}\n          this.prepareLinePoints(x, [obv.obv, obv.maObv], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.VR: {\n        onRendering = (x, i, kLineData) => {\n          const vr = kLineData.vr || {}\n          this.prepareLinePoints(x, [vr.vr, vr.maVr], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.WR: {\n        onRendering = (x, i, kLineData) => {\n          const wr = kLineData.wr || {}\n          this.prepareLinePoints(x, [wr.wr1, wr.wr2, wr.wr3], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.MTM: {\n        onRendering = (x, i, kLineData) => {\n          const mtm = kLineData.mtm || {}\n          this.prepareLinePoints(x, [mtm.mtm, mtm.mtmMa], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.EMV: {\n        onRendering = (x, i, kLineData) => {\n          const emv = kLineData.emv || {}\n          this.prepareLinePoints(x, [emv.emv, emv.maEmv], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.SAR: {\n        onRendering = (x, i, kLineData, halfBarSpace) => {\n          this.ohlcIndicatorRendering(\n            ctx, i, x, halfBarSpace, indicator,\n            kLineData, indicatorType, ['sar'],\n            isMainIndicator, (values) => {\n              const sar = values[0]\n              if (sar || sar === 0) {\n                const dataY = this.yAxisRender.getY(sar)\n                if (sar < (kLineData.high + kLineData.low) / 2) {\n                  ctx.strokeStyle = indicator.increasingColor\n                } else {\n                  ctx.strokeStyle = indicator.decreasingColor\n                }\n                ctx.beginPath()\n                ctx.arc(x, dataY, halfBarSpace, Math.PI * 2, 0, true)\n                ctx.stroke()\n                ctx.closePath()\n              }\n            }\n          )\n        }\n      }\n    }\n    this.renderGraphics(\n      ctx, onRendering,\n      () => {\n        this.renderLines(ctx, linePoints, indicator)\n      }\n    )\n  }\n\n  /**\n   * 需要绘制ohlc指标每条数据渲染\n   * @param ctx\n   * @param i\n   * @param x\n   * @param halfBarSpace\n   * @param indicator\n   * @param kLineData\n   * @param indicatorType\n   * @param dataKeys\n   * @param isMainIndicator\n   * @param prepare\n   */\n  ohlcIndicatorRendering (\n    ctx, i, x, halfBarSpace, indicator,\n    kLineData, indicatorType,\n    dataKeys, isMainIndicator, prepare\n  ) {\n    const indicatorData = kLineData[indicatorType.toLowerCase()] || {}\n    const values = []\n    dataKeys.forEach(key => {\n      values.push(indicatorData[key])\n    })\n    if (prepare) {\n      prepare(values)\n    }\n    if (!isMainIndicator) {\n      const refKLineData = this.dataProvider.dataList[i - 1] || {}\n      this.renderOhlc(\n        ctx, halfBarSpace, x, kLineData,\n        refKLineData, indicator.increasingColor, indicator.decreasingColor\n      )\n    }\n  }\n\n  /**\n   * 绘制图形\n   */\n  renderGraphics (ctx, onRendering, onRenderEnd) {\n    let startX = this.viewPortHandler.contentLeft()\n    const dataSpace = this.dataProvider.dataSpace * (1 - DATA_MARGIN_SPACE_RATE)\n    const halfBarSpace = dataSpace / 2\n    const lastPos = Math.min(this.dataProvider.dataList.length, this.dataProvider.minPos + this.dataProvider.range)\n    for (let i = this.dataProvider.minPos; i < lastPos; i++) {\n      const endX = startX + dataSpace\n      const x = (startX + endX) / 2\n      const kLineData = this.dataProvider.dataList[i]\n      if (onRendering) {\n        onRendering(x, i, kLineData, halfBarSpace)\n      }\n      startX += this.dataProvider.dataSpace\n    }\n    if (onRenderEnd) {\n      onRenderEnd()\n    }\n  }\n\n  /**\n   * 准备绘制线的数据\n   * @param x\n   * @param lineValues\n   * @param linePoints\n   */\n  prepareLinePoints (x, lineValues, linePoints) {\n    for (let i = 0; i < lineValues.length; i++) {\n      const value = lineValues[i]\n      const valueY = this.yAxisRender.getY(value)\n      if (!linePoints[i]) {\n        linePoints[i] = [{ x: x, y: valueY }]\n      } else {\n        linePoints[i].push({ x: x, y: valueY })\n      }\n    }\n  }\n\n  /**\n   * 绘制线\n   * @param ctx\n   * @param linePoints\n   * @param indicator\n   */\n  renderLines (ctx, linePoints, indicator) {\n    const colors = indicator.lineColors\n    const pointCount = linePoints.length\n    const lineColorSize = (indicator.lineColors || []).length\n    ctx.lineWidth = indicator.lineSize\n    for (let i = 0; i < pointCount; i++) {\n      const points = linePoints[i]\n      if (points.length > 0) {\n        ctx.strokeStyle = colors[i % lineColorSize]\n        ctx.beginPath()\n        ctx.moveTo(points[0].x, points[0].y)\n        for (let j = 1; j < points.length; j++) {\n          ctx.lineTo(points[j].x, points[j].y)\n        }\n        ctx.stroke()\n        ctx.closePath()\n      }\n    }\n  }\n\n  /**\n   * 绘制柱状图\n   * @param ctx\n   * @param x\n   * @param halfBarSpace\n   * @param barData\n   * @param isFill\n   */\n  renderBars (ctx, x, halfBarSpace, barData, isFill) {\n    if (barData || barData === 0) {\n      ctx.lineWidth = 1\n      const dataY = this.yAxisRender.getY(barData)\n      const zeroY = this.yAxisRender.getY(0)\n      let y = dataY\n      if (barData < 0) {\n        y = zeroY\n      }\n      if (isFill) {\n        ctx.fillRect(x - halfBarSpace, y, halfBarSpace * 2, Math.abs(zeroY - dataY))\n      } else {\n        ctx.strokeRect(x - halfBarSpace, y, halfBarSpace * 2, Math.abs(zeroY - dataY))\n      }\n    }\n  }\n\n  /**\n   * 绘制ohlc\n   * @param ctx\n   * @param halfBarSpace\n   * @param x\n   * @param kLineData\n   * @param refKLineData\n   * @param increasingColor\n   * @param decreasingColor\n   */\n  renderOhlc (ctx, halfBarSpace, x, kLineData, refKLineData, increasingColor, decreasingColor) {\n    const openY = this.yAxisRender.getY(kLineData.open)\n    const closeY = this.yAxisRender.getY(kLineData.close)\n    const highY = this.yAxisRender.getY(kLineData.high)\n    const lowY = this.yAxisRender.getY(kLineData.low)\n    if (kLineData.close > refKLineData.close) {\n      ctx.strokeStyle = increasingColor\n    } else {\n      ctx.strokeStyle = decreasingColor\n    }\n    ctx.lineWidth = 1\n    ctx.beginPath()\n    ctx.moveTo(x, highY)\n    ctx.lineTo(x, lowY)\n    ctx.stroke()\n    ctx.closePath()\n\n    ctx.beginPath()\n    ctx.moveTo(x - halfBarSpace, openY)\n    ctx.lineTo(x, openY)\n    ctx.stroke()\n    ctx.closePath()\n\n    ctx.beginPath()\n    ctx.moveTo(x + halfBarSpace, closeY)\n    ctx.lineTo(x, closeY)\n    ctx.stroke()\n    ctx.closePath()\n  }\n}\n\nexport default IndicatorRender\n","export function nice (value) {\n  const exponent = Math.floor(Math.log(value) / Math.log(10.0))\n  const exp10 = Math.pow(10.0, exponent)\n  const f = value / exp10 // 1 <= f < 10\n  let nf = 0\n  if (f < 1) {\n    nf = 1\n  } else if (f < 2) {\n    nf = 2\n  } else if (f < 3) {\n    nf = 3\n  } else if (f < 5) {\n    nf = 5\n  } else {\n    nf = 10\n  }\n  value = nf * exp10\n  return exponent >= -20 ? +value.toFixed(exponent < 0 ? -exponent : 0) : value\n}\n\nexport function getIntervalPrecision (value) {\n  const str = value.toString()\n\n  // Consider scientific notation: '3.4e-12' '3.4e+12'\n  const eIndex = str.indexOf('e')\n  if (eIndex > 0) {\n    const precision = +str.slice(eIndex + 1)\n    return precision < 0 ? -precision : 0\n  } else {\n    const dotIndex = str.indexOf('.')\n    return dotIndex < 0 ? 0 : str.length - 1 - dotIndex\n  }\n}\n\nexport function round (x, precision) {\n  if (precision == null) {\n    precision = 10\n  }\n  // Avoid range error\n  precision = Math.min(Math.max(0, precision), 20)\n  x = (+x).toFixed(precision)\n  return x\n}\n","import Render from './Render'\nimport { nice, getIntervalPrecision, round } from '../internal/utils/numberUtils'\n\nclass AxisRender extends Render {\n  constructor (viewPortHandler, dataProvider) {\n    super(viewPortHandler, dataProvider)\n    this.axisMaximum = 0\n    this.axisMinimum = 0\n    this.axisRange = 0\n  }\n\n  /**\n   * 计算轴上的值\n   * @param min\n   * @param max\n   * @param axis\n   */\n  computeAxisValues (min, max, axis = null) {\n    const span = this.calcRange(max, min)\n    if (span < 0) {\n      this.values = []\n      return\n    }\n    if (this.isFillChart()) {\n      const interval = +nice(span / 5.0)\n      const precision = getIntervalPrecision(interval)\n      const first = +round(Math.ceil(min / interval) * interval, precision)\n      const last = +round(Math.floor(max / interval) * interval, precision)\n      let n = 0\n      let f = first\n\n      if (interval !== 0) {\n        while (f <= (+last)) {\n          ++n\n          f += interval\n        }\n      }\n      this.values = []\n      f = first\n      for (let i = 0; i < n; i++) {\n        this.values[i] = f\n        f += interval\n      }\n    } else {\n      this.fixComputeAxisValues(axis)\n    }\n  }\n\n  /**\n   * 计算range\n   * @param max\n   * @param min\n   * @returns {number}\n   */\n  calcRange (max, min) {\n    return Math.abs(max - min)\n  }\n\n  /**\n   * 是否数据会超过整个绘制区域\n   * @return Boolean\n   */\n  isFillChart () {\n    return true\n  }\n\n  fixComputeAxisValues () {}\n}\n\nexport default AxisRender\n","import AxisRender from './AxisRender'\nimport { formatValue, isFunction } from '../internal/utils/dataUtils'\nimport { LineStyle, YAxisPosition, YAxisTextPosition, IndicatorType } from '../internal/constants'\n\nclass YAxisRender extends AxisRender {\n  /**\n   * 绘制边框线\n   * @param ctx\n   * @param yAxis\n   * @param display\n   */\n  renderStrokeLine (ctx, yAxis, display) {\n    if (!display) {\n      return\n    }\n    ctx.strokeStyle = yAxis.line.color\n    ctx.lineWidth = yAxis.line.size\n    let x = this.viewPortHandler.contentLeft()\n    if (yAxis.position === YAxisPosition.LEFT) {\n      x = this.viewPortHandler.contentRight()\n    }\n    ctx.beginPath()\n    ctx.moveTo(x, this.viewPortHandler.contentTop())\n    ctx.lineTo(x, this.viewPortHandler.contentBottom())\n    ctx.stroke()\n    ctx.closePath()\n  }\n\n  /**\n   * 绘制轴线\n   * @param ctx\n   * @param yAxis\n   */\n  renderAxisLine (ctx, yAxis) {\n    if (!yAxis.display || !yAxis.line.display) {\n      return\n    }\n    ctx.strokeStyle = yAxis.line.color\n    ctx.lineWidth = yAxis.line.size\n    ctx.beginPath()\n    if (yAxis.position === YAxisPosition.LEFT) {\n      ctx.moveTo(this.viewPortHandler.contentLeft(), this.viewPortHandler.contentTop())\n      ctx.lineTo(this.viewPortHandler.contentLeft(), this.viewPortHandler.contentBottom())\n    } else {\n      ctx.moveTo(this.viewPortHandler.contentRight(), this.viewPortHandler.contentTop())\n      ctx.lineTo(this.viewPortHandler.contentRight(), this.viewPortHandler.contentBottom())\n    }\n    ctx.stroke()\n    ctx.closePath()\n  }\n\n  /**\n   * 绘制y轴上文字\n   * @param ctx\n   * @param yAxis\n   */\n  renderAxisLabels (ctx, yAxis) {\n    const tickText = yAxis.tick.text\n    if (!yAxis.display || !tickText.display) {\n      return\n    }\n    const tickLine = yAxis.tick.line\n    const tickTextPosition = tickText.position\n    const tickLineDisplay = tickLine.display\n    const tickLineLength = tickLine.length\n    const tickTextMargin = tickText.margin\n    let initX\n    if (yAxis.position === YAxisPosition.LEFT) {\n      if (tickTextPosition === YAxisTextPosition.OUTSIDE) {\n        if (tickLineDisplay) {\n          initX = this.viewPortHandler.contentLeft() - tickLineLength - tickTextMargin\n        } else {\n          initX = this.viewPortHandler.contentLeft() - tickTextMargin\n        }\n      } else {\n        if (tickLineDisplay) {\n          initX = this.viewPortHandler.contentLeft() + tickLineLength + tickTextMargin\n        } else {\n          initX = this.viewPortHandler.contentLeft() + tickTextMargin\n        }\n      }\n    } else {\n      if (tickTextPosition === YAxisTextPosition.OUTSIDE) {\n        if (tickLineDisplay) {\n          initX = this.viewPortHandler.contentRight() + tickLineLength + tickTextMargin\n        } else {\n          initX = this.viewPortHandler.contentRight() + tickTextMargin\n        }\n      } else {\n        if (tickLineDisplay) {\n          initX = this.viewPortHandler.contentRight() - tickLineLength - tickTextMargin\n        } else {\n          initX = this.viewPortHandler.contentRight() - tickTextMargin\n        }\n      }\n    }\n    const textSize = tickText.size\n    const valueFormatter = tickText.valueFormatter\n    ctx.textBaseline = 'middle'\n    ctx.font = `${textSize}px Arial`\n    ctx.fillStyle = tickText.color\n\n    for (let i = 0; i < this.values.length; i++) {\n      const labelY = this.getY(this.values[i])\n      let label = this.values[i].toString()\n      if (isFunction(valueFormatter)) {\n        label = valueFormatter(this.values[i]) || '--'\n      }\n      if (this.checkShowLabel(labelY, textSize)) {\n        if ((yAxis.position === YAxisPosition.LEFT && tickTextPosition === YAxisTextPosition.OUTSIDE) ||\n          (yAxis.position === YAxisPosition.RIGHT && tickTextPosition !== YAxisTextPosition.OUTSIDE)) {\n          ctx.textAlign = 'right'\n        } else {\n          ctx.textAlign = 'left'\n        }\n        ctx.fillText(label, initX, labelY)\n      }\n    }\n    ctx.textAlign = 'left'\n  }\n\n  /**\n   * 绘制y轴分割线\n   * @param ctx\n   * @param yAxis\n   */\n  renderSeparatorLines (ctx, yAxis) {\n    const separatorLine = yAxis.separatorLine\n    if (!yAxis.display || !separatorLine.display) {\n      return\n    }\n    ctx.strokeStyle = separatorLine.color\n    ctx.lineWidth = separatorLine.size\n\n    const labelHeight = yAxis.tick.text.size\n    if (separatorLine.style === LineStyle.DASH) {\n      ctx.setLineDash(separatorLine.dashValue)\n    }\n\n    for (let i = 0; i < this.values.length; i++) {\n      const y = this.getY(this.values[i])\n      if (this.checkShowLabel(y, labelHeight)) {\n        ctx.beginPath()\n        ctx.moveTo(this.viewPortHandler.contentLeft(), y)\n        ctx.lineTo(this.viewPortHandler.contentRight(), y)\n        ctx.stroke()\n        ctx.closePath()\n      }\n    }\n    ctx.setLineDash([])\n  }\n\n  /**\n   * 绘制刻度线\n   * @param ctx\n   * @param yAxis\n   */\n  renderTickLines (ctx, yAxis) {\n    const tickText = yAxis.tick.text\n    if (!yAxis.display || !tickText.display) {\n      return\n    }\n    const tickLine = yAxis.tick.line\n    ctx.lineWidth = tickLine.size\n    ctx.strokeStyle = tickLine.color\n\n    const labelHeight = tickText.size\n\n    const tickLineLength = tickLine.length\n\n    let startX\n    let endX\n    const tickTextPosition = tickText.position\n    if (yAxis.position === YAxisPosition.LEFT) {\n      startX = this.viewPortHandler.contentLeft()\n      if (tickTextPosition === YAxisTextPosition.OUTSIDE) {\n        endX = startX - tickLineLength\n      } else {\n        endX = startX + tickLineLength\n      }\n    } else {\n      startX = this.viewPortHandler.contentRight()\n      if (tickTextPosition === YAxisTextPosition.OUTSIDE) {\n        endX = startX + tickLineLength\n      } else {\n        endX = startX - tickLineLength\n      }\n    }\n    for (let i = 0; i < this.values.length; i++) {\n      const y = this.getY(this.values[i])\n      if (this.checkShowLabel(y, labelHeight)) {\n        ctx.beginPath()\n        ctx.moveTo(startX, y)\n        ctx.lineTo(endX, y)\n        ctx.stroke()\n        ctx.closePath()\n      }\n    }\n  }\n\n  /**\n   * 检查是否需要真正显示label及tick线 分割线\n   * @param y\n   * @param labelHeight\n   */\n  checkShowLabel (y, labelHeight) {\n    return y > this.viewPortHandler.contentTop() + labelHeight && y < this.viewPortHandler.contentBottom() - labelHeight\n  }\n\n  calcAxisMinMax (indicatorType, isMainChart = false, isRealTimeChart = false) {\n    const dataList = this.dataProvider.dataList\n    const min = this.dataProvider.minPos\n    const max = Math.min(min + this.dataProvider.range, dataList.length)\n    const minMaxArray = [Number.MAX_SAFE_INTEGER, Number.MIN_SAFE_INTEGER]\n    if (isRealTimeChart) {\n      for (let i = min; i < max; i++) {\n        const kLineData = dataList[i]\n        minMaxArray[0] = Math.min.apply(null, [kLineData.average, kLineData.close, minMaxArray[0]])\n        minMaxArray[1] = Math.max.apply(null, [kLineData.average, kLineData.close, minMaxArray[1]])\n      }\n    } else {\n      for (let i = min; i < max; i++) {\n        const kLineData = dataList[i]\n        this.compareMinMax(kLineData, indicatorType, minMaxArray)\n        if (isMainChart) {\n          minMaxArray[0] = Math.min(kLineData.low, minMaxArray[0])\n          minMaxArray[1] = Math.max(kLineData.high, minMaxArray[1])\n        }\n      }\n    }\n\n    if (minMaxArray[0] !== Number.MAX_SAFE_INTEGER && minMaxArray[1] !== Number.MIN_SAFE_INTEGER) {\n      this.axisMinimum = minMaxArray[0]\n      this.axisMaximum = minMaxArray[1]\n    }\n  }\n\n  compareMinMax (kLineData, indicatorType, minMaxArray) {\n    const indicatorData = formatValue(kLineData, indicatorType.toLowerCase(), {})\n    Object.keys(indicatorData).forEach(key => {\n      const value = indicatorData[key]\n      if (value || value === 0) {\n        minMaxArray[0] = Math.min(minMaxArray[0], value)\n        minMaxArray[1] = Math.max(minMaxArray[1], value)\n      }\n    })\n    if (indicatorType === IndicatorType.BOLL || indicatorType === IndicatorType.SAR) {\n      minMaxArray[0] = Math.min(minMaxArray[0], kLineData.low)\n      minMaxArray[1] = Math.max(minMaxArray[1], kLineData.high)\n    }\n    return minMaxArray\n  }\n\n  computeAxis () {\n    let min = this.axisMinimum\n    let max = this.axisMaximum\n    if (min === Number.MAX_SAFE_INTEGER || max === Number.MIN_SAFE_INTEGER) {\n      return\n    }\n\n    let range = Math.abs(max - min)\n    if (range === 0) {\n      max += 1\n      min -= 1\n      range = Math.abs(max - min)\n    }\n\n    this.axisMinimum = min - (range / 100.0) * 10.0\n    this.axisMaximum = max + (range / 100.0) * 20.0\n\n    this.axisRange = Math.abs(this.axisMaximum - this.axisMinimum)\n\n    this.computeAxisValues(this.axisMinimum, this.axisMaximum)\n  }\n\n  getY (value) {\n    return (1.0 - (value - this.axisMinimum) / this.axisRange) * (this.viewPortHandler.contentBottom() - this.viewPortHandler.contentTop())\n  }\n\n  getValue (y) {\n    return (1.0 - y / (this.viewPortHandler.contentBottom() - this.viewPortHandler.contentTop())) * this.axisRange + this.axisMinimum\n  }\n}\n\nexport default YAxisRender\n","import Chart from './Chart'\nimport IndicatorRender from '../render/IndicatorRender'\nimport YAxisRender from '../render/YAxisRender'\n\nimport { IndicatorType } from '../internal/constants'\n\nclass IndicatorChart extends Chart {\n  constructor (\n    dom, style, dataProvider, indicatorParams,\n    defaultIndicatorType = IndicatorType.MACD) {\n    super(dom, style)\n    this.indicatorParams = indicatorParams\n    this.indicatorType = defaultIndicatorType\n    this.yAxisRender = new YAxisRender(this.viewPortHandler, dataProvider)\n    this.chartRender = new IndicatorRender(this.viewPortHandler, dataProvider, this.yAxisRender)\n  }\n\n  draw () {\n    if (this.isDrawChart()) {\n      const isMainChart = this.isMainChart()\n      if (!isMainChart) {\n        this.chartRender.renderHorizontalSeparatorLine(this.ctx, this.style.xAxis)\n      }\n      const yAxis = this.style.yAxis\n      const isRealTimeChart = this.isRealTimeChart()\n      this.yAxisRender.calcAxisMinMax(this.indicatorType, isMainChart, isRealTimeChart)\n      this.yAxisRender.computeAxis()\n      this.yAxisRender.renderSeparatorLines(this.ctx, yAxis)\n      this.drawChart()\n      this.yAxisRender.renderStrokeLine(this.ctx, yAxis, this.style.grid)\n      this.yAxisRender.renderAxisLine(this.ctx, yAxis)\n      this.yAxisRender.renderTickLines(this.ctx, yAxis)\n      this.yAxisRender.renderAxisLabels(this.ctx, yAxis)\n    }\n  }\n\n  drawChart () {\n    this.chartRender.renderIndicator(\n      this.ctx, this.indicatorType, this.style.indicator, this.indicatorParams, false)\n  }\n\n  isDrawChart () {\n    return this.indicatorType !== IndicatorType.NO\n  }\n\n  isMainChart () {\n    return false\n  }\n\n  isRealTimeChart () {\n    return false\n  }\n}\n\nexport default IndicatorChart\n","import IndicatorRender from './IndicatorRender'\nimport { calcTextWidth } from '../internal/utils/drawUtils'\nimport { formatDecimal, isFunction } from '../internal/utils/dataUtils'\nimport { CandleStyle, LineStyle } from '../internal/constants'\n\nclass MainRender extends IndicatorRender {\n  /**\n   * 渲染蜡烛图\n   * @param ctx\n   * @param candle\n   * @param lastPriceMark\n   */\n  renderCandle (ctx, candle, lastPriceMark) {\n    ctx.lineWidth = 1\n    let rect = []\n    let markHighestPrice = Number.MIN_SAFE_INTEGER\n    let markHighestPriceX = -1\n    let markLowestPrice = Number.MAX_SAFE_INTEGER\n    let markLowestPriceX = -1\n    const dataList = this.dataProvider.dataList\n    const onRendering = (x, i, kLineData, halfBarSpace) => {\n      const refKLineData = dataList[i - 1] || {}\n      const refClose = refKLineData.close || Number.MIN_SAFE_INTEGER\n      const high = kLineData.high\n      const low = kLineData.low\n      const close = kLineData.close\n      const open = kLineData.open\n      if (markHighestPrice < high) {\n        markHighestPrice = high\n        markHighestPriceX = x\n      }\n\n      if (low < markLowestPrice) {\n        markLowestPrice = low\n        markLowestPriceX = x\n      }\n      if (close > refClose) {\n        ctx.strokeStyle = candle.increasingColor\n        ctx.fillStyle = candle.increasingColor\n      } else {\n        ctx.strokeStyle = candle.decreasingColor\n        ctx.fillStyle = candle.decreasingColor\n      }\n\n      if (candle.style !== CandleStyle.OHLC) {\n        const openY = this.yAxisRender.getY(open)\n        const closeY = this.yAxisRender.getY(close)\n        const highY = this.yAxisRender.getY(high)\n        const lowY = this.yAxisRender.getY(low)\n        const highLine = []\n        const lowLine = []\n        highLine[0] = highY\n        lowLine[1] = lowY\n        if (openY > closeY) {\n          highLine[1] = closeY\n          lowLine[0] = openY\n          rect = [x - halfBarSpace, closeY, halfBarSpace * 2, openY - closeY]\n        } else if (openY < closeY) {\n          highLine[1] = openY\n          lowLine[0] = closeY\n          rect = [x - halfBarSpace, openY, halfBarSpace * 2, closeY - openY]\n        } else {\n          highLine[1] = openY\n          lowLine[0] = closeY\n          rect = [x - halfBarSpace, openY, halfBarSpace * 2, 1]\n        }\n        ctx.beginPath()\n        ctx.moveTo(x, highLine[0])\n        ctx.lineTo(x, highLine[1])\n        ctx.stroke()\n        ctx.closePath()\n\n        ctx.beginPath()\n        ctx.moveTo(x, lowLine[0])\n        ctx.lineTo(x, lowLine[1])\n        ctx.stroke()\n        ctx.closePath()\n        if (rect[3] < 1) {\n          rect[3] = 1\n        }\n        switch (candle.style) {\n          case CandleStyle.SOLID: {\n            ctx.fillRect(rect[0], rect[1], rect[2], rect[3])\n            break\n          }\n          case CandleStyle.STROKE: {\n            ctx.strokeRect(rect[0], rect[1], rect[2], rect[3])\n            break\n          }\n          case CandleStyle.INCREASING_STROKE: {\n            if (close > refClose) {\n              ctx.strokeRect(rect[0], rect[1], rect[2], rect[3])\n            } else {\n              ctx.fillRect(rect[0], rect[1], rect[2], rect[3])\n            }\n            break\n          }\n          case CandleStyle.DECREASING_STROKE: {\n            if (close > refClose) {\n              ctx.fillRect(rect[0], rect[1], rect[2], rect[3])\n            } else {\n              ctx.strokeRect(rect[0], rect[1], rect[2], rect[3])\n            }\n            break\n          }\n        }\n      } else {\n        this.renderOhlc(\n          ctx, halfBarSpace, x, kLineData,\n          refKLineData, candle.increasingColor, candle.decreasingColor\n        )\n      }\n    }\n    this.renderGraphics(ctx, onRendering)\n    this.highestMarkData = { x: markHighestPriceX, price: markHighestPrice }\n    this.lowestMarkData = { x: markLowestPriceX, price: markLowestPrice }\n  }\n\n  /**\n   * 渲染最高价标记\n   * @param ctx\n   * @param highestPriceMark\n   */\n  renderHighestPriceMark (ctx, highestPriceMark) {\n    const price = this.highestMarkData.price\n    if (price === Number.MIN_SAFE_INTEGER || !highestPriceMark.display) {\n      return\n    }\n    this.renderLowestHighestPriceMark(\n      ctx, highestPriceMark, this.highestMarkData.x, price, true\n    )\n  }\n\n  /**\n   * 绘制最低价标记\n   * @param ctx\n   * @param lowestPriceMark\n   */\n  renderLowestPriceMark (ctx, lowestPriceMark) {\n    const price = this.lowestMarkData.price\n    if (price === Number.MAX_SAFE_INTEGER || !lowestPriceMark.display) {\n      return\n    }\n    this.renderLowestHighestPriceMark(\n      ctx, lowestPriceMark, this.lowestMarkData.x, price\n    )\n  }\n\n  /**\n   * 渲染最高最低价格标记\n   * @param ctx\n   * @param priceMark\n   * @param x\n   * @param price\n   * @param isHigh\n   */\n  renderLowestHighestPriceMark (ctx, priceMark, x, price, isHigh = false) {\n    ctx.save()\n    ctx.beginPath()\n    ctx.rect(\n      0, 0,\n      this.viewPortHandler.contentRight() - this.viewPortHandler.contentLeft(),\n      this.viewPortHandler.contentBottom() - this.viewPortHandler.contentTop()\n    )\n    ctx.closePath()\n    ctx.clip()\n    const priceY = this.yAxisRender.getY(price)\n    const startX = x\n    let startY = priceY + (isHigh ? -2 : 2)\n    ctx.textAlign = 'left'\n    ctx.lineWidth = 1\n    ctx.strokeStyle = priceMark.color\n    ctx.fillStyle = priceMark.color\n    ctx.beginPath()\n    ctx.moveTo(startX, startY)\n    ctx.lineTo(startX - 2, startY + (isHigh ? -2 : 2))\n    ctx.stroke()\n    ctx.closePath()\n\n    ctx.beginPath()\n    ctx.moveTo(startX, startY)\n    ctx.lineTo(startX + 2, startY + (isHigh ? -2 : 2))\n    ctx.stroke()\n    ctx.closePath()\n    // 绘制竖线\n    ctx.beginPath()\n    ctx.moveTo(startX, startY)\n    startY = startY + (isHigh ? -5 : 5)\n    ctx.lineTo(startX, startY)\n    ctx.stroke()\n    ctx.closePath()\n\n    ctx.beginPath()\n    ctx.moveTo(startX, startY)\n    ctx.lineTo(startX + 5, startY)\n    ctx.stroke()\n    ctx.closePath()\n\n    const textSize = priceMark.text.size\n    const valueFormatter = priceMark.text.valueFormatter\n    ctx.font = `${textSize}px Arial`\n    let value = price.toFixed(2)\n    if (valueFormatter) {\n      value = valueFormatter(price) + ''\n    }\n    ctx.textBaseline = 'middle'\n    ctx.fillText(value, startX + 5 + priceMark.text.margin, startY)\n    ctx.restore()\n  }\n\n  /**\n   * 绘制最新价标记\n   * @param ctx\n   * @param lastPriceMark\n   * @param isRenderTextLeft\n   * @param isRenderTextOutside\n   */\n  renderLastPriceMark (ctx, lastPriceMark, isRenderTextLeft, isRenderTextOutside) {\n    const dataSize = this.dataProvider.dataList.length\n    if (!lastPriceMark.display || dataSize === 0) {\n      return\n    }\n    const preKLineData = this.dataProvider.dataList[dataSize - 2] || {}\n    const preLastPrice = preKLineData.close || Number.MIN_SAFE_INTEGER\n    const lastPrice = this.dataProvider.dataList[dataSize - 1].close\n    let priceY = this.yAxisRender.getY(lastPrice)\n    const height = this.viewPortHandler.contentBottom() - this.viewPortHandler.contentTop()\n    priceY = +(Math.max(height * 0.05, Math.min(priceY, height * 0.98))).toFixed(0)\n    const color = lastPrice > preLastPrice ? lastPriceMark.increasingColor : lastPriceMark.decreasingColor\n    let lineStartX = this.viewPortHandler.contentLeft()\n    let lineEndX = this.viewPortHandler.contentRight()\n    const priceMarkText = lastPriceMark.text\n    const displayText = priceMarkText.display\n    if (displayText) {\n      let text = formatDecimal(lastPrice)\n      const valueFormatter = priceMarkText.valueFormatter\n      if (isFunction(valueFormatter)) {\n        text = valueFormatter(lastPrice) || '--'\n      }\n      const textSize = lastPriceMark.text.size\n      const rectWidth = calcTextWidth(textSize, text) + priceMarkText.paddingLeft + priceMarkText.paddingRight\n      const rectHeight = priceMarkText.paddingTop + textSize + priceMarkText.paddingBottom\n      let rectStartX\n      if (isRenderTextOutside) {\n        if (isRenderTextLeft) {\n          rectStartX = lineStartX - rectWidth\n        } else {\n          rectStartX = lineEndX\n        }\n      } else {\n        if (isRenderTextLeft) {\n          rectStartX = lineStartX\n          lineStartX += rectWidth\n        } else {\n          rectStartX = lineEndX - rectWidth\n          lineEndX = rectStartX\n        }\n      }\n      ctx.fillStyle = color\n      ctx.fillRect(rectStartX, priceY - priceMarkText.paddingTop - textSize / 2, rectWidth, rectHeight)\n      ctx.fillStyle = priceMarkText.color\n      ctx.font = `${textSize}px Arial`\n      ctx.textBaseline = 'middle'\n      ctx.fillText(text, rectStartX + priceMarkText.paddingLeft, priceY)\n    }\n    const priceMarkLine = lastPriceMark.line\n    if (priceMarkLine.display) {\n      ctx.strokeStyle = color\n      ctx.lineWidth = priceMarkLine.size\n      if (priceMarkLine.style === LineStyle.DASH) {\n        ctx.setLineDash(priceMarkLine.dashValue)\n      }\n      ctx.beginPath()\n      ctx.moveTo(lineStartX, priceY)\n      ctx.lineTo(lineEndX, priceY)\n      ctx.stroke()\n      ctx.closePath()\n      ctx.setLineDash([])\n    }\n  }\n\n  /**\n   * 绘制分时线\n   * @param ctx\n   * @param realTime\n   */\n  renderTimeLine (ctx, realTime) {\n    const timeLinePoints = []\n    const timeLineAreaPoints = [{ x: this.viewPortHandler.contentLeft(), y: this.viewPortHandler.contentBottom() }]\n    const averageLinePoints = []\n\n    const minPos = this.dataProvider.minPos\n    const range = this.dataProvider.range\n    const dataSize = this.dataProvider.dataList.length\n    const onRendering = (x, i, kLineData) => {\n      const average = kLineData.average\n      const closeY = this.yAxisRender.getY(kLineData.close)\n      const averageY = this.yAxisRender.getY(average)\n      timeLinePoints.push({ x: x, y: closeY })\n      if (average || average === 0) {\n        averageLinePoints.push({ x: x, y: averageY })\n      }\n      if (i === minPos) {\n        timeLineAreaPoints.push({ x: this.viewPortHandler.contentLeft(), y: closeY })\n        timeLineAreaPoints.push({ x: x, y: closeY })\n      } else if (i === minPos + range - 1) {\n        timeLineAreaPoints.push({ x: x, y: closeY })\n        timeLineAreaPoints.push({ x: this.viewPortHandler.contentRight(), y: closeY })\n        timeLineAreaPoints.push({ x: this.viewPortHandler.contentRight(), y: this.viewPortHandler.contentBottom() })\n      } else if (i === dataSize - 1) {\n        timeLineAreaPoints.push({ x: x, y: closeY })\n        timeLineAreaPoints.push({ x: x, y: this.viewPortHandler.contentBottom() })\n      } else {\n        timeLineAreaPoints.push({ x: x, y: closeY })\n      }\n    }\n    const onRenderEnd = () => {\n      const timeLine = realTime.timeLine\n      if (timeLinePoints.length > 0) {\n        // 绘制分时线\n        ctx.lineWidth = timeLine.size\n        ctx.strokeStyle = timeLine.color\n        ctx.beginPath()\n        ctx.moveTo(timeLinePoints[0].x, timeLinePoints[0].y)\n        for (let i = 1; i < timeLinePoints.length; i++) {\n          ctx.lineTo(timeLinePoints[i].x, timeLinePoints[i].y)\n        }\n        ctx.stroke()\n        ctx.closePath()\n      }\n\n      if (timeLineAreaPoints.length > 0) {\n        // 绘制分时线填充区域\n        ctx.fillStyle = timeLine.areaFillColor\n        ctx.beginPath()\n        ctx.moveTo(timeLineAreaPoints[0].x, timeLineAreaPoints[0].y)\n        for (let i = 1; i < timeLineAreaPoints.length; i++) {\n          ctx.lineTo(timeLineAreaPoints[i].x, timeLineAreaPoints[i].y)\n        }\n        ctx.closePath()\n        ctx.fill()\n      }\n      const averageLine = realTime.averageLine\n      if (averageLine.display && averageLinePoints.length > 0) {\n        // 绘制均线\n        ctx.lineWidth = averageLine.size\n        ctx.strokeStyle = averageLine.color\n        ctx.beginPath()\n        ctx.moveTo(averageLinePoints[0].x, averageLinePoints[0].y)\n        for (let i = 1; i < averageLinePoints.length; i++) {\n          ctx.lineTo(averageLinePoints[i].x, averageLinePoints[i].y)\n        }\n        ctx.stroke()\n        ctx.closePath()\n      }\n    }\n    this.renderGraphics(ctx, onRendering, onRenderEnd)\n  }\n}\n\nexport default MainRender\n","import IndicatorChart from './IndicatorChart'\nimport MainRender from '../render/MainRender'\n\nimport { IndicatorType, YAxisPosition, YAxisTextPosition, ChartType } from '../internal/constants'\n\nclass MainChart extends IndicatorChart {\n  constructor (dom, style, dataProvider, indicatorParams) {\n    super(dom, style, dataProvider, indicatorParams, IndicatorType.MA)\n    this.chartRender = new MainRender(this.viewPortHandler, dataProvider, this.yAxisRender)\n    this.chartType = ChartType.CANDLE\n  }\n\n  draw () {\n    super.draw()\n    this.chartRender.renderLastPriceMark(\n      this.ctx, this.style.lastPriceMark,\n      this.style.yAxis.position === YAxisPosition.LEFT,\n      this.style.yAxis.tick.text.position === YAxisTextPosition.OUTSIDE\n    )\n  }\n\n  drawChart () {\n    if (this.chartType !== ChartType.REAL_TIME) {\n      this.chartRender.renderCandle(this.ctx, this.style.candle)\n      this.chartRender.renderIndicator(this.ctx, this.indicatorType, this.style.indicator, this.indicatorParams, true)\n      this.chartRender.renderHighestPriceMark(this.ctx, this.style.highestPriceMark)\n      this.chartRender.renderLowestPriceMark(this.ctx, this.style.lowestPriceMark)\n    } else {\n      this.chartRender.renderTimeLine(this.ctx, this.style.realTime)\n    }\n  }\n\n  isRealTimeChart () {\n    return this.chartType === ChartType.REAL_TIME\n  }\n\n  isDrawChart () {\n    return true\n  }\n\n  isMainChart () {\n    return true\n  }\n}\n\nexport default MainChart\n","/**\n * 获取某点在两点决定的一次函数上的y值\n * @param point1\n * @param point2\n * @param targetPoints\n */\nexport function getLinearY (point1, point2, targetPoints) {\n  const v = []\n  if (point1 && point2 && targetPoints.length > 0) {\n    const subX = (point1.x - point2.x)\n    if (subX === 0) {\n      targetPoints.forEach(point => {\n        v.push(point.y)\n      })\n    } else {\n      const k = (point1.y - point2.y) / subX\n      const b = point1.y - k * point1.x\n      targetPoints.forEach(point => {\n        v.push(point.x * k + b)\n      })\n    }\n  }\n  return v\n}\n\n/**\n * 点是否在线上\n * @param point1\n * @param point2\n * @param targetPoint\n */\nexport function checkPointOnStraightLine (point1, point2, targetPoint) {\n  if (!targetPoint || !point1 || !point2) {\n    return false\n  }\n  if (point1.x === point2.x) {\n    return Math.abs(targetPoint.x - point1.x) < 1\n  }\n  if (point1.y === point2.y) {\n    return Math.abs(targetPoint.y - point1.y) < 1\n  }\n  return Math.abs(targetPoint.y - getLinearY(point1, point2, [targetPoint])[0]) < 1\n}\n\n/**\n * 点是否在线段上\n * @param point1\n * @param point2\n * @param targetPoint\n * @returns {boolean}\n */\nexport function checkPointOnRayLine (point1, point2, targetPoint) {\n  if (!targetPoint || !point1 || !point2) {\n    return false\n  }\n  if (checkPointOnStraightLine(point1, point2, targetPoint)) {\n    if (point1.x === point2.x) {\n      if (point1.y < point2.y) {\n        return targetPoint.y > point1.y - 2\n      } else {\n        return targetPoint.y < point1.y + 2\n      }\n    }\n    if (point1.x < point2.x) {\n      return targetPoint.x > point1.x - 2\n    } else {\n      return targetPoint.x < point1.x + 2\n    }\n  }\n  return false\n}\n\n/**\n * 判断点是否在线段上面\n * @param point1\n * @param point2\n * @param targetPoint\n */\nexport function checkPointOnSegmentLine (point1, point2, targetPoint) {\n  if (!targetPoint || !point1 || !point2) {\n    return false\n  }\n  if (checkPointOnStraightLine(point1, point2, targetPoint)) {\n    const a = Math.sqrt(Math.pow(targetPoint.x - point1.x, 2) + Math.pow(targetPoint.y - point1.y, 2))\n    const b = Math.sqrt(Math.pow(targetPoint.x - point2.x, 2) + Math.pow(targetPoint.y - point2.y, 2))\n    const c = Math.sqrt(Math.pow(point1.x - point2.x, 2) + Math.pow(point1.y - point2.y, 2))\n    return Math.abs(a + b - c) < 2\n  }\n  return false\n}\n\n/**\n * 点是否在圆上\n * @param circleCenterPoint\n * @param radius\n * @param targetPoint\n * @returns {boolean}\n */\nexport function checkPointOnCircle (circleCenterPoint, radius, targetPoint) {\n  if (!targetPoint) {\n    return false\n  }\n  const subX = targetPoint.x - circleCenterPoint.x\n  const subY = targetPoint.y - circleCenterPoint.y\n  return !(subX * subX + subY * subY > radius * radius)\n}\n\n/**\n * 获取平行线\n * @param points\n * @param viewportHandler\n * @param isPriceChannelLine\n * @returns {Array}\n */\nexport function getParallelLines (points, viewportHandler, isPriceChannelLine) {\n  const lines = []\n  if (points.length > 1) {\n    if (points[0].x === points[1].x) {\n      const startY = viewportHandler.contentTop()\n      const endY = viewportHandler.contentBottom()\n      lines.push([{ x: points[0].x, y: startY }, { x: points[0].x, y: endY }])\n      if (points.length > 2) {\n        lines.push([{ x: points[2].x, y: startY }, { x: points[2].x, y: endY }])\n        if (isPriceChannelLine) {\n          const distance = points[0].x - points[2].x\n          lines.push([{ x: points[0].x + distance, y: startY }, { x: points[0].x + distance, y: endY }])\n        }\n      }\n    } else {\n      const startX = viewportHandler.contentLeft()\n      const endX = viewportHandler.contentRight()\n      if (points[0].y === points[1].y) {\n        lines.push([{ x: startX, y: points[0].y }, { x: endX, y: points[0].y }])\n        if (points.length > 2) {\n          lines.push([{ x: startX, y: points[2].y }, { x: endX, y: points[2].y }])\n          if (isPriceChannelLine) {\n            const distance = points[0].y - points[2].y\n            lines.push([{ x: startX, y: points[0].y + distance }, { x: endX, y: points[0].y + distance }])\n          }\n        }\n      } else {\n        const k = (points[0].y - points[1].y) / (points[0].x - points[1].x)\n        const b = points[0].y - k * points[0].x\n        lines.push([{ x: startX, y: startX * k + b }, { x: endX, y: endX * k + b }])\n        if (points.length > 2) {\n          const b1 = points[2].y - k * points[2].x\n          lines.push([{ x: startX, y: startX * k + b1 }, { x: endX, y: endX * k + b1 }])\n          if (isPriceChannelLine) {\n            const b2 = b + (b - b1)\n            lines.push([{ x: startX, y: startX * k + b2 }, { x: endX, y: endX * k + b2 }])\n          }\n        }\n      }\n    }\n  }\n  return lines\n}\n\n/**\n * 获取斐波那契线\n * @param points\n * @param viewportHandler\n */\nexport function getFibonacciLines (points, viewportHandler) {\n  const lines = []\n  if (points.length > 0) {\n    const startX = viewportHandler.contentLeft()\n    const endX = viewportHandler.contentRight()\n    lines.push([{ x: startX, y: points[0].y }, { x: endX, y: points[0].y }])\n    if (points.length > 1) {\n      const yDistance = points[0].y - points[1].y\n      lines.push([{ x: startX, y: points[1].y + yDistance * 0.786 }, { x: endX, y: points[1].y + yDistance * 0.786 }])\n      lines.push([{ x: startX, y: points[1].y + yDistance * 0.618 }, { x: endX, y: points[1].y + yDistance * 0.618 }])\n      lines.push([{ x: startX, y: points[1].y + yDistance * 0.5 }, { x: endX, y: points[1].y + yDistance * 0.5 }])\n      lines.push([{ x: startX, y: points[1].y + yDistance * 0.382 }, { x: endX, y: points[1].y + yDistance * 0.382 }])\n      lines.push([{ x: startX, y: points[1].y + yDistance * 0.236 }, { x: endX, y: points[1].y + yDistance * 0.236 }])\n      lines.push([{ x: startX, y: points[1].y }, { x: endX, y: points[1].y }])\n    }\n  }\n  return lines\n}\n","import Render from './Render'\nimport {\n  checkPointOnStraightLine,\n  checkPointOnCircle,\n  getLinearY,\n  checkPointOnRayLine,\n  checkPointOnSegmentLine,\n  getParallelLines, getFibonacciLines\n} from '../internal/utils/markerMapUtils'\nimport { formatDecimal, isFunction } from '../internal/utils/dataUtils'\nimport { MarkerType, MarkerDrawStep } from '../internal/constants'\n\nclass MarkerRender extends Render {\n  constructor (viewPortHandler, dataProvider, yRender) {\n    super(viewPortHandler, dataProvider)\n    this.yRender = yRender\n  }\n\n  /**\n   * 渲染水平直线\n   * @param ctx\n   * @param marker\n   */\n  renderHorizontalStraightLine (ctx, marker) {\n    this.renderPointMarker(\n      ctx, MarkerType.HORIZONTAL_STRAIGHT_LINE, marker, checkPointOnStraightLine,\n      (points) => {\n        return [[\n          {\n            x: this.viewPortHandler.contentLeft(),\n            y: points[0].y\n          }, {\n            x: this.viewPortHandler.contentRight(),\n            y: points[0].y\n          }\n        ]]\n      }\n    )\n  }\n\n  /**\n   * 渲染垂直直线\n   * @param ctx\n   * @param marker\n   */\n  renderVerticalStraightLine (ctx, marker) {\n    this.renderPointMarker(\n      ctx, MarkerType.VERTICAL_STRAIGHT_LINE, marker, checkPointOnStraightLine,\n      (points) => {\n        return [[\n          {\n            x: points[0].x,\n            y: this.viewPortHandler.contentTop()\n          }, {\n            x: points[0].x,\n            y: this.viewPortHandler.contentBottom()\n          }\n        ]]\n      }\n    )\n  }\n\n  /**\n   * 渲染直线\n   * @param ctx\n   * @param marker\n   */\n  renderStraightLine (ctx, marker) {\n    this.renderPointMarker(\n      ctx, MarkerType.STRAIGHT_LINE, marker, checkPointOnStraightLine,\n      (points) => {\n        if (points[0].x === points[1].x) {\n          return [[\n            {\n              x: points[0].x,\n              y: this.viewPortHandler.contentTop()\n            }, {\n              x: points[0].x,\n              y: this.viewPortHandler.bottom\n            }\n          ]]\n        }\n        const y = getLinearY(\n          points[0], points[1],\n          [\n            {\n              x: this.viewPortHandler.contentLeft(),\n              y: points[0].y\n            }, {\n              x: this.viewPortHandler.contentRight(),\n              y: points[0].y\n            }\n          ]\n        )\n        return [[\n          {\n            x: this.viewPortHandler.contentLeft(),\n            y: y[0]\n          }, {\n            x: this.viewPortHandler.contentRight(),\n            y: y[1]\n          }\n        ]]\n      }\n    )\n  }\n\n  /**\n   * 绘制水平射线\n   * @param ctx\n   * @param marker\n   */\n  renderHorizontalRayLine (ctx, marker) {\n    this.renderPointMarker(\n      ctx, MarkerType.HORIZONTAL_RAY_LINE, marker, checkPointOnRayLine,\n      (points) => {\n        const point = { x: this.viewPortHandler.contentLeft(), y: points[0].y }\n        if (points[0].x < points[1].x) {\n          point.x = this.viewPortHandler.contentRight()\n        }\n        return [[points[0], point]]\n      }\n    )\n  }\n\n  /**\n   * 绘制垂直射线\n   * @param ctx\n   * @param marker\n   */\n  renderVerticalRayLine (ctx, marker) {\n    this.renderPointMarker(\n      ctx, MarkerType.VERTICAL_RAY_LINE, marker, checkPointOnRayLine,\n      (points) => {\n        const point = { x: points[0].x, y: this.viewPortHandler.contentTop() }\n        if (points[0].y < points[1].y) {\n          point.y = this.viewPortHandler.contentBottom()\n        }\n        return [[points[0], point]]\n      }\n    )\n  }\n\n  /**\n   * 渲染射线\n   * @param ctx\n   * @param marker\n   */\n  renderRayLine (ctx, marker) {\n    this.renderPointMarker(\n      ctx, MarkerType.RAY_LINE, marker, checkPointOnRayLine,\n      (points) => {\n        let point\n        if (points[0].x === points[1].x && points[0].y !== points[1].y) {\n          if (points[0].y < points[1].y) {\n            point = {\n              x: points[0].x,\n              y: this.viewPortHandler.contentBottom()\n            }\n          } else {\n            point = {\n              x: points[0].x,\n              y: this.viewPortHandler.contentTop()\n            }\n          }\n        } else if (points[0].x > points[1].x) {\n          point = {\n            x: this.viewPortHandler.contentLeft(),\n            y: getLinearY(points[0], points[1], [{ x: this.viewPortHandler.contentLeft(), y: points[0].y }])[0]\n          }\n        } else {\n          point = {\n            x: this.viewPortHandler.contentRight(),\n            y: getLinearY(points[0], points[1], [{ x: this.viewPortHandler.contentRight(), y: points[0].y }])[0]\n          }\n        }\n        return [[points[0], point]]\n      }\n    )\n  }\n\n  /**\n   * 绘制线段，水平线段，垂直线段，普通线段一起绘制\n   * @param ctx\n   * @param marker\n   */\n  renderSegmentLine (ctx, marker) {\n    this.renderPointMarker(\n      ctx, MarkerType.HORIZONTAL_SEGMENT_LINE, marker, checkPointOnSegmentLine\n    )\n    this.renderPointMarker(\n      ctx, MarkerType.VERTICAL_SEGMENT_LINE, marker, checkPointOnSegmentLine\n    )\n    this.renderPointMarker(\n      ctx, MarkerType.SEGMENT_LINE, marker, checkPointOnSegmentLine\n    )\n  }\n\n  /**\n   * 绘制价格线\n   * @param ctx\n   * @param marker\n   */\n  renderPriceLine (ctx, marker) {\n    this.renderPointMarker(\n      ctx, MarkerType.PRICE_LINE, marker, checkPointOnRayLine,\n      (points) => {\n        return [[points[0], { x: this.viewPortHandler.contentRight(), y: points[0].y }]]\n      },\n      true\n    )\n  }\n\n  /**\n   * 渲染价格通道线\n   * @param ctx\n   * @param marker\n   */\n  renderPriceChannelLine (ctx, marker) {\n    this.renderPointMarker(\n      ctx, MarkerType.PRICE_CHANNEL_LINE, marker, checkPointOnStraightLine,\n      (points) => {\n        return getParallelLines(points, this.viewPortHandler, true)\n      }\n    )\n  }\n\n  /**\n   * 渲染平行直线\n   * @param ctx\n   * @param marker\n   */\n  renderParallelStraightLine (ctx, marker) {\n    this.renderPointMarker(\n      ctx, MarkerType.PARALLEL_STRAIGHT_LINE, marker, checkPointOnStraightLine,\n      (points) => {\n        return getParallelLines(points, this.viewPortHandler)\n      }\n    )\n  }\n\n  /**\n   * 渲染斐波那契线\n   * @param ctx\n   * @param marker\n   */\n  renderFibonacciLine (ctx, marker) {\n    this.renderPointMarker(\n      ctx, MarkerType.FIBONACCI_LINE, marker, checkPointOnStraightLine,\n      (points) => {\n        return getFibonacciLines(points, this.viewPortHandler)\n      }, true, ['(100.0%)', '(78.6%)', '(61.8%)', '(50.0%)', '(38.2%)', '(23.6%)', '(0.0%)']\n    )\n  }\n\n  /**\n   * 渲染点形成的图形\n   * @param ctx\n   * @param markerKey\n   * @param marker\n   * @param checkPointOnLine\n   * @param generatedLinePoints\n   * @param isRenderPrice\n   * @param priceExtendsText\n   */\n  renderPointMarker (ctx, markerKey, marker, checkPointOnLine, generatedLinePoints, isRenderPrice, priceExtendsText) {\n    const markerData = this.dataProvider.markerDatas[markerKey]\n    markerData.forEach(({ points, drawStep }) => {\n      const circlePoints = []\n      points.forEach(({ xPos, price }) => {\n        const x = (xPos - this.dataProvider.minPos) * this.dataProvider.dataSpace\n        const y = this.yRender.getY(price)\n        circlePoints.push({ x, y })\n      })\n      const linePoints = generatedLinePoints ? generatedLinePoints(circlePoints) : [circlePoints]\n      this.renderMarker(ctx, linePoints, circlePoints, marker, drawStep, checkPointOnLine, isRenderPrice, priceExtendsText)\n    })\n  }\n\n  /**\n   * 绘制标记图形\n   * @param ctx\n   * @param linePoints\n   * @param circlePoints\n   * @param marker\n   * @param drawStep\n   * @param checkPointOnLine\n   * @param isRenderPrice\n   * @param priceExtendsText\n   */\n  renderMarker (ctx, linePoints, circlePoints, marker, drawStep, checkPointOnLine, isRenderPrice, priceExtendsText = []) {\n    const markerPoint = this.dataProvider.markerPoint\n    let isOnLine = false\n    const valueFormatter = marker.text.valueFormatter\n    linePoints.forEach((points, i) => {\n      if (points.length > 1) {\n        const isOn = checkPointOnLine(points[0], points[1], markerPoint)\n        if (!isOnLine) {\n          isOnLine = isOn\n        }\n        if (drawStep !== MarkerDrawStep.STEP_1) {\n          ctx.strokeStyle = marker.line.color\n          ctx.lineWidth = marker.line.size\n          ctx.beginPath()\n          ctx.moveTo(points[0].x, points[0].y)\n          ctx.lineTo(points[1].x, points[1].y)\n          ctx.stroke()\n          ctx.closePath()\n          // 渲染价格\n          if (isRenderPrice) {\n            const price = this.yRender.getValue(points[0].y)\n            let priceText = formatDecimal(price)\n            if (isFunction(valueFormatter)) {\n              priceText = valueFormatter(price) || '--'\n            }\n            const textSize = marker.text.size\n            ctx.font = `${textSize}px Arial`\n            ctx.fillStyle = marker.text.color\n            ctx.fillText(`${priceText} ${priceExtendsText[i] || ''}`, points[0].x + marker.text.marginLeft, points[0].y - marker.text.marginBottom)\n          }\n        }\n      }\n    })\n    const radius = marker.point.radius\n    let isCircleActive = false\n    for (let i = 0; i < circlePoints.length; i++) {\n      isCircleActive = checkPointOnCircle(circlePoints[i], radius, markerPoint)\n      if (isCircleActive) {\n        break\n      }\n    }\n    circlePoints.forEach(circlePoint => {\n      const isOnCircle = checkPointOnCircle(circlePoint, radius, markerPoint)\n      if (isCircleActive || isOnLine) {\n        const circleRadius = isOnCircle ? marker.point.activeRadius : radius\n        const circleColor = isOnCircle ? marker.point.activeBackgroundColor : marker.point.backgroundColor\n        const circleBorderColor = isOnCircle ? marker.point.activeBorderColor : marker.point.borderColor\n        const circleBorderSize = isOnCircle ? marker.point.activeBorderSize : marker.point.borderSize\n        ctx.fillStyle = circleColor\n        ctx.beginPath()\n        ctx.arc(circlePoint.x, circlePoint.y, circleRadius, 0, Math.PI * 2)\n        ctx.closePath()\n        ctx.fill()\n        ctx.lineWidth = circleBorderSize\n        ctx.strokeStyle = circleBorderColor\n        ctx.beginPath()\n        ctx.arc(circlePoint.x, circlePoint.y, circleRadius, 0, Math.PI * 2)\n        ctx.closePath()\n        ctx.stroke()\n      }\n    })\n  }\n}\n\nexport default MarkerRender\n","import Chart from './Chart'\nimport MarkerRender from '../render/MarkerRender'\n\nclass MarkerChart extends Chart {\n  constructor (dom, style, dataProvider, yAxisRender) {\n    super(dom, style)\n    this.markerRender = new MarkerRender(this.viewPortHandler, dataProvider, yAxisRender)\n  }\n\n  draw () {\n    // 画线\n    const marker = this.style.marker\n    this.markerRender.renderHorizontalStraightLine(this.ctx, marker)\n    this.markerRender.renderVerticalStraightLine(this.ctx, marker)\n    this.markerRender.renderStraightLine(this.ctx, marker)\n    this.markerRender.renderHorizontalRayLine(this.ctx, marker)\n    this.markerRender.renderVerticalRayLine(this.ctx, marker)\n    this.markerRender.renderRayLine(this.ctx, marker)\n    this.markerRender.renderSegmentLine(this.ctx, marker)\n    this.markerRender.renderPriceLine(this.ctx, marker)\n    this.markerRender.renderPriceChannelLine(this.ctx, marker)\n    this.markerRender.renderParallelStraightLine(this.ctx, marker)\n    this.markerRender.renderFibonacciLine(this.ctx, marker)\n  }\n}\n\nexport default MarkerChart\n","import Render from './Render'\n\nimport { calcTextWidth } from '../internal/utils/drawUtils'\nimport { formatDate, isFunction, formatValue, formatDecimal, isArray } from '../internal/utils/dataUtils'\n\nimport { IndicatorType, LineStyle, MarkerType, TooltipMainChartTextDisplayType } from '../internal/constants'\n\nclass TooltipRender extends Render {\n  constructor (\n    viewPortHandler, dataProvider, indicatorParams,\n    candleViewPortHandler, volViewPortHandler, subIndicatorViewPortHandler,\n    candleYAxisRender, volYAxisRender, subIndicatorYAxisRender\n  ) {\n    super(viewPortHandler, dataProvider)\n    this.indicatorParams = indicatorParams\n    this.candleViewPortHandler = candleViewPortHandler\n    this.volViewPortHandler = volViewPortHandler\n    this.subIndicatorViewPortHandler = subIndicatorViewPortHandler\n    this.candleYAxisRender = candleYAxisRender\n    this.volYAxisRender = volYAxisRender\n    this.subIndicatorYAxisRender = subIndicatorYAxisRender\n  }\n\n  /**\n   * 绘制水平线\n   * @param ctx\n   * @param mainIndicatorType\n   * @param subIndicatorType\n   * @param isRenderYAxisLeft\n   * @param isRenderYAxisTextOutside\n   * @param tooltip\n   */\n  renderCrossHorizontalLine (ctx, mainIndicatorType, subIndicatorType, isRenderYAxisLeft, isRenderYAxisTextOutside, tooltip) {\n    const yAxisDataLabel = this.getCrossYAxisLabel(tooltip, mainIndicatorType, subIndicatorType)\n    const crossPoint = this.dataProvider.crossPoint\n    if (!yAxisDataLabel || !crossPoint || !tooltip.cross.display) {\n      return\n    }\n    const textHorizontal = tooltip.cross.text.horizontal\n    const textSize = textHorizontal.size\n    const yAxisDataLabelWidth = calcTextWidth(textSize, yAxisDataLabel)\n    let rectStartX\n\n    let lineStartX = this.viewPortHandler.contentLeft()\n    let lineEndX = this.viewPortHandler.contentRight()\n\n    const centerPoint = this.viewPortHandler.getContentCenter()\n\n    const paddingLeft = textHorizontal.paddingLeft\n    const paddingRight = textHorizontal.paddingRight\n    const paddingTop = textHorizontal.paddingTop\n    const paddingBottom = textHorizontal.paddingBottom\n    const borderSize = textHorizontal.borderSize\n\n    const rectWidth = yAxisDataLabelWidth + borderSize * 2 + paddingLeft + paddingRight\n    const rectHeight = textSize + borderSize * 2 + paddingTop + paddingBottom\n    if (isRenderYAxisTextOutside) {\n      if (isRenderYAxisLeft) {\n        rectStartX = lineStartX - rectWidth\n      } else {\n        rectStartX = lineEndX\n      }\n    } else {\n      if (crossPoint.x > centerPoint.x) {\n        // 左边\n        lineStartX = this.viewPortHandler.contentLeft() + rectWidth\n        rectStartX = this.viewPortHandler.contentLeft() + 1\n      } else {\n        lineEndX = this.viewPortHandler.contentRight() - rectWidth\n        rectStartX = lineEndX - 1\n      }\n    }\n    // 绘制十字光标水平线\n    ctx.lineWidth = tooltip.cross.line.size\n    ctx.strokeStyle = tooltip.cross.line.color\n    if (tooltip.cross.line.style === LineStyle.DASH) {\n      ctx.setLineDash(tooltip.cross.line.dashValue)\n    }\n    ctx.beginPath()\n    ctx.moveTo(lineStartX, crossPoint.y)\n    ctx.lineTo(lineEndX, crossPoint.y)\n    ctx.stroke()\n    ctx.closePath()\n    ctx.setLineDash([])\n\n    const rectY = crossPoint.y - borderSize - paddingTop - textSize / 2\n    // 绘制y轴文字外的边框\n    ctx.fillStyle = textHorizontal.backgroundColor\n    ctx.fillRect(rectStartX, rectY, rectWidth, rectHeight)\n\n    ctx.lineWidth = borderSize\n    ctx.strokeStyle = textHorizontal.borderColor\n    ctx.strokeRect(rectStartX, rectY, rectWidth, rectHeight)\n\n    ctx.textBaseline = 'middle'\n    ctx.fillStyle = textHorizontal.color\n    ctx.font = `${textSize}px Arial`\n    ctx.fillText(yAxisDataLabel, rectStartX + borderSize + paddingLeft, crossPoint.y)\n  }\n\n  /**\n   * 获取十字光标y轴上的文字\n   * @param tooltip\n   * @param mainIndicatorType\n   * @param subIndicatorType\n   * @returns {null|*|string}\n   */\n  getCrossYAxisLabel (tooltip, mainIndicatorType, subIndicatorType) {\n    if (!this.dataProvider.crossPoint) {\n      return null\n    }\n    const eventY = this.dataProvider.crossPoint.y\n    let top\n    if (eventY && eventY > 0 && eventY < this.candleViewPortHandler.height + this.volViewPortHandler.height + this.subIndicatorViewPortHandler.height) {\n      let yAxisRender\n      let indicatorType\n      if (eventY > 0 && eventY < this.candleViewPortHandler.contentBottom()) {\n        yAxisRender = this.candleYAxisRender\n        indicatorType = mainIndicatorType\n        top = 0\n      } else if (eventY > this.candleViewPortHandler.contentBottom() && eventY < this.candleViewPortHandler.contentBottom() + this.volViewPortHandler.height) {\n        yAxisRender = this.volYAxisRender\n        indicatorType = IndicatorType.VOL\n        top = this.candleViewPortHandler.height\n      } else {\n        yAxisRender = this.subIndicatorYAxisRender\n        indicatorType = subIndicatorType\n        top = this.candleViewPortHandler.height + this.volViewPortHandler.height\n      }\n      const yData = yAxisRender.getValue(eventY - top)\n      let text = yData.toFixed(2)\n      if (indicatorType === IndicatorType.VOL) {\n        text = yData.toFixed(0)\n      }\n      const valueFormatter = tooltip.cross.text.horizontal.valueFormatter\n      if (isFunction(valueFormatter)) {\n        text = valueFormatter(indicatorType, yData) || '--'\n      }\n      return text\n    }\n    return null\n  }\n\n  /**\n   * 绘制十字光标垂直线\n   * @param ctx\n   * @param kLineData\n   * @param tooltip\n   */\n  renderCrossVerticalLine (ctx, kLineData, tooltip) {\n    const crossPoint = this.dataProvider.crossPoint\n    if (!crossPoint || !tooltip.cross.display) {\n      return\n    }\n    const crossLine = tooltip.cross.line\n    ctx.lineWidth = crossLine.size\n    ctx.strokeStyle = crossLine.color\n\n    if (crossLine.style === LineStyle.DASH) {\n      ctx.setLineDash(crossLine.dashValue)\n    }\n    ctx.beginPath()\n    ctx.moveTo(crossPoint.x, this.viewPortHandler.contentTop())\n    ctx.lineTo(crossPoint.x, this.viewPortHandler.contentBottom())\n    ctx.stroke()\n    ctx.closePath()\n    ctx.setLineDash([])\n\n    const timestamp = kLineData.timestamp\n    let label = formatDate(timestamp)\n    const textVertical = tooltip.cross.text.vertical\n    const valueFormatter = textVertical.valueFormatter\n    if (isFunction(valueFormatter)) {\n      label = valueFormatter(kLineData) || '--'\n    }\n\n    const textSize = textVertical.size\n    const labelWidth = calcTextWidth(textSize, label)\n    let xAxisLabelX = crossPoint.x - labelWidth / 2\n\n    const paddingLeft = textVertical.paddingLeft\n    const paddingRight = textVertical.paddingRight\n    const paddingTop = textVertical.paddingTop\n    const paddingBottom = textVertical.paddingBottom\n    const borderSize = textVertical.borderSize\n\n    // 保证整个x轴上的提示文字总是完全显示\n    if (xAxisLabelX < this.viewPortHandler.contentLeft() + paddingLeft + borderSize) {\n      xAxisLabelX = this.viewPortHandler.contentLeft() + paddingLeft + borderSize\n    } else if (xAxisLabelX > this.viewPortHandler.contentRight() - labelWidth - borderSize - paddingRight) {\n      xAxisLabelX = this.viewPortHandler.contentRight() - labelWidth - borderSize - paddingRight\n    }\n\n    const rectLeft = xAxisLabelX - borderSize - paddingLeft\n    const rectTop = this.viewPortHandler.contentBottom()\n    const rectRight = xAxisLabelX + labelWidth + borderSize + paddingRight\n    const rectBottom = this.viewPortHandler.contentBottom() + textSize + borderSize * 2 + paddingTop + paddingBottom\n    ctx.fillStyle = textVertical.backgroundColor\n    ctx.fillRect(rectLeft, rectTop, rectRight - rectLeft, rectBottom - rectTop)\n\n    ctx.lineWidth = borderSize\n    ctx.strokeStyle = textVertical.borderColor\n    ctx.strokeRect(rectLeft, rectTop, rectRight - rectLeft, rectBottom - rectTop)\n\n    // 绘制轴上的提示文字\n    ctx.textBaseline = 'top'\n    ctx.font = `${textSize}px Arial`\n    ctx.fillStyle = textVertical.color\n    ctx.fillText(\n      label,\n      xAxisLabelX,\n      this.viewPortHandler.contentBottom() + borderSize + paddingTop\n    )\n  }\n\n  /**\n   * 渲染主图提示文字\n   * @param ctx\n   * @param kLineData\n   * @param indicatorType\n   * @param isCandle\n   * @param tooltip\n   * @param indicator\n   */\n  renderMainChartTooltip (ctx, kLineData, indicatorType, isCandle, tooltip, indicator) {\n    const baseDataStyle = tooltip.data.base\n    const indicatorDataStyle = tooltip.data.indicator\n    const indicatorColors = indicator.lineColors\n    const data = this.getRenderIndicatorTooltipData(kLineData, indicatorType, indicatorDataStyle)\n    if (baseDataStyle.showType === TooltipMainChartTextDisplayType.FIXED) {\n      let startY = baseDataStyle.text.marginTop\n      this.renderMainChartFixedBaseDataTooltipText(ctx, startY, kLineData, baseDataStyle)\n      if (isCandle) {\n        startY += (baseDataStyle.text.size + baseDataStyle.text.marginBottom + tooltip.data.indicator.text.marginTop)\n        this.renderIndicatorTooltipText(ctx, startY, data, indicatorDataStyle, indicatorColors)\n      }\n    } else {\n      this.renderMainChartFloatRectText(ctx, kLineData, isCandle ? data : {}, baseDataStyle, indicatorDataStyle, indicatorColors)\n    }\n    if (isCandle) {\n      this.renderIndicatorLineCircle(ctx, indicatorType, this.candleViewPortHandler.contentTop(), data.values, this.candleYAxisRender, indicatorColors)\n    }\n  }\n\n  /**\n   * 渲染指标图提示文字\n   * @param ctx\n   * @param offsetTop\n   * @param kLineData\n   * @param indicatorType\n   * @param tooltip\n   * @param indicator\n   * @param isVolChart\n   */\n  renderIndicatorChartTooltip (ctx, offsetTop, kLineData, indicatorType, tooltip, indicator, isVolChart) {\n    const indicatorDataStyle = tooltip.data.indicator\n    const data = this.getRenderIndicatorTooltipData(kLineData, indicatorType, indicatorDataStyle)\n    const indicatorLineColors = indicator.lineColors\n    this.renderIndicatorTooltipText(\n      ctx, offsetTop + indicatorDataStyle.text.marginTop,\n      data, indicatorDataStyle, indicatorLineColors\n    )\n    const circleOffsetTop = isVolChart\n      ? this.candleViewPortHandler.height + this.volViewPortHandler.contentTop()\n      : this.candleViewPortHandler.height + this.volViewPortHandler.height + this.subIndicatorViewPortHandler.contentTop()\n    this.renderIndicatorLineCircle(ctx, indicatorType, circleOffsetTop, data.values, isVolChart ? this.volYAxisRender : this.subIndicatorYAxisRender, indicatorLineColors)\n  }\n\n  /**\n   * 渲染主图固定的基础数据文字\n   * @param ctx\n   * @param startY\n   * @param kLineData\n   * @param baseDataStyle\n   */\n  renderMainChartFixedBaseDataTooltipText (ctx, startY, kLineData, baseDataStyle) {\n    const values = this.getMainChartBaseValues(kLineData, baseDataStyle)\n    const textMarginLeft = baseDataStyle.text.marginLeft\n    const textMarginRight = baseDataStyle.text.marginRight\n    const textSize = baseDataStyle.text.size\n    const textColor = baseDataStyle.text.color\n    const labels = baseDataStyle.labels\n    ctx.textBaseline = 'top'\n    ctx.font = `${textSize}px Arial`\n    let startX = this.viewPortHandler.contentLeft() + textMarginLeft\n    labels.forEach((label, i) => {\n      const labelText = `${label}: `\n      const labelWidth = calcTextWidth(textSize, labelText)\n      ctx.fillStyle = textColor\n      ctx.fillText(labelText, startX, startY)\n      startX += labelWidth\n\n      const value = values[i] || '--'\n      let valueText\n      if (typeof value === 'object') {\n        valueText = value.value || '--'\n        ctx.fillStyle = value.color || textColor\n      } else {\n        ctx.fillStyle = textColor\n        valueText = value\n      }\n      const textWidth = calcTextWidth(textSize, valueText)\n      ctx.fillText(valueText, startX, startY)\n      startX += (textWidth + textMarginLeft + textMarginRight)\n    })\n  }\n\n  /**\n   * 渲染主图浮动文字\n   * @param ctx\n   * @param kLineData\n   * @param indicatorData\n   * @param baseDataStyle\n   * @param indicatorDataStyle\n   * @param indicatorColors\n   */\n  renderMainChartFloatRectText (ctx, kLineData, indicatorData, baseDataStyle, indicatorDataStyle, indicatorColors = []) {\n    const baseLabels = baseDataStyle.labels\n    const baseValues = this.getMainChartBaseValues(kLineData, baseDataStyle)\n    const baseTextMarginLeft = baseDataStyle.text.marginLeft\n    const baseTextMarginRight = baseDataStyle.text.marginRight\n    const baseTextMarginTop = baseDataStyle.text.marginTop\n    const baseTextMarginBottom = baseDataStyle.text.marginBottom\n    const baseTextSize = baseDataStyle.text.size\n    const baseTextColor = baseDataStyle.text.color\n\n    ctx.textBaseline = 'top'\n    let maxLabelWidth = 0\n    baseLabels.forEach((label, i) => {\n      const value = baseValues[i] || '--'\n      let v = value\n      if (typeof value === 'object') {\n        v = value.value || '--'\n      }\n      const text = `${label}: ${v}`\n      const labelWidth = calcTextWidth(baseTextSize, text) + baseTextMarginLeft + baseTextMarginRight\n      maxLabelWidth = Math.max(maxLabelWidth, labelWidth)\n    })\n    const indicatorLabels = indicatorData.labels || []\n    const indicatorValues = indicatorData.values || []\n    const indicatorTextMarginLeft = indicatorDataStyle.text.marginLeft\n    const indicatorTextMarginRight = indicatorDataStyle.text.marginRight\n    const indicatorTextMarginTop = indicatorDataStyle.text.marginTop\n    const indicatorTextMarginBottom = indicatorDataStyle.text.marginBottom\n    const indicatorTextSize = indicatorDataStyle.text.size\n    indicatorLabels.forEach((label, i) => {\n      const v = indicatorValues[i] || '--'\n      const text = `${label}: ${v}`\n      const labelWidth = calcTextWidth(indicatorTextSize, text) + indicatorTextMarginLeft + indicatorTextMarginRight\n      maxLabelWidth = Math.max(maxLabelWidth, labelWidth)\n    })\n    const floatRect = baseDataStyle.floatRect\n    const floatRectBorderSize = floatRect.borderSize\n    const floatRectPaddingLeft = floatRect.paddingLeft\n    const floatRectPaddingRight = floatRect.paddingRight\n    const floatRectPaddingTop = floatRect.paddingTop\n    const floatRectPaddingBottom = floatRect.paddingBottom\n    const floatRectLeft = floatRect.left\n    const floatRectRight = floatRect.right\n    const floatRectWidth = floatRectBorderSize * 2 + maxLabelWidth + floatRectPaddingLeft + floatRectPaddingRight\n    const floatRectHeight = floatRectBorderSize * 2 +\n      floatRectPaddingTop + floatRectPaddingBottom +\n      (baseTextMarginBottom + baseTextMarginTop + baseTextSize) * baseLabels.length +\n      (indicatorTextMarginTop + indicatorTextMarginBottom + indicatorTextSize) * indicatorLabels.length\n\n    const centerPoint = this.volViewPortHandler.getContentCenter()\n    let rectX\n    const crossPoint = this.dataProvider.crossPoint\n    if (crossPoint && crossPoint.x < centerPoint.x) {\n      rectX = this.viewPortHandler.contentRight() - floatRectRight - floatRectWidth\n    } else {\n      rectX = this.viewPortHandler.contentLeft() + floatRectLeft\n    }\n    const rectY = floatRect.top\n    const radius = floatRect.borderRadius\n    ctx.lineWidth = floatRectBorderSize\n    ctx.strokeStyle = floatRect.borderColor\n    ctx.fillStyle = floatRect.fillColor\n    this.renderRoundRect(ctx, rectX, rectY, floatRectWidth, floatRectHeight, radius)\n    ctx.stroke()\n    this.renderRoundRect(ctx, rectX, rectY, floatRectWidth, floatRectHeight, radius)\n    ctx.fill()\n\n    const baseLabelX = rectX + floatRectBorderSize + floatRectPaddingLeft + baseTextMarginLeft\n    let labelY = rectY + floatRectBorderSize + floatRectPaddingTop\n    // 开始渲染基础数据文字\n    ctx.font = `${baseTextSize}px Arial`\n    baseLabels.forEach((label, i) => {\n      labelY += baseTextMarginTop\n      ctx.textAlign = 'left'\n      ctx.fillStyle = baseTextColor\n      ctx.fillText(`${label}: `, baseLabelX, labelY)\n\n      const value = baseValues[i] || '--'\n      let text\n      ctx.fillStyle = value.color || baseTextColor\n      if (typeof value === 'object') {\n        text = value.value || '--'\n      } else {\n        text = value\n      }\n      ctx.textAlign = 'right'\n      ctx.fillText(text, rectX + floatRectWidth - floatRectBorderSize - baseTextMarginRight - floatRectPaddingRight, labelY)\n      labelY += (baseTextSize + baseTextMarginBottom)\n    })\n    // 开始渲染指标数据文字\n    const indicatorLabelX = rectX + floatRectBorderSize + floatRectPaddingLeft + indicatorTextMarginLeft\n    const colorLength = indicatorColors.length\n    ctx.font = `${indicatorTextSize}px Arial`\n    indicatorLabels.forEach((label, i) => {\n      labelY += indicatorTextMarginTop\n      ctx.textAlign = 'left'\n      ctx.fillStyle = indicatorColors[i % colorLength] || indicatorDataStyle.text.color\n      ctx.fillText(`${label.toUpperCase()}: `, indicatorLabelX, labelY)\n\n      ctx.textAlign = 'right'\n      ctx.fillText(\n        indicatorValues[i] || '--',\n        rectX + floatRectWidth - floatRectBorderSize - indicatorTextMarginRight - floatRectPaddingRight,\n        labelY\n      )\n      labelY += (indicatorTextSize + indicatorTextMarginBottom)\n    })\n    ctx.textAlign = 'left'\n  }\n\n  /**\n   * 渲染圆角矩形\n   * @param ctx\n   * @param x\n   * @param y\n   * @param w\n   * @param h\n   * @param r\n   */\n  renderRoundRect (ctx, x, y, w, h, r) {\n    ctx.beginPath()\n    ctx.moveTo(x + r, y)\n    ctx.arcTo(x + w, y, x + w, y + h, r)\n    ctx.arcTo(x + w, y + h, x, y + h, r)\n    ctx.arcTo(x, y + h, x, y, r)\n    ctx.arcTo(x, y, x + w, y, r)\n    ctx.closePath()\n  }\n\n  /**\n   * 获取主信息提示值\n   * @param kLineData\n   * @param baseDataStyle\n   * @returns {*}\n   */\n  getMainChartBaseValues (kLineData, baseDataStyle) {\n    const baseValues = baseDataStyle.values\n    let values = []\n    if (baseValues) {\n      if (isFunction(baseValues)) {\n        values = baseValues(kLineData) || []\n      } else {\n        values = baseValues\n      }\n    } else {\n      const valueFormatter = baseDataStyle.text.valueFormatter\n      values = [\n        formatValue(kLineData, 'timestamp'),\n        formatValue(kLineData, 'open'),\n        formatValue(kLineData, 'close'),\n        formatValue(kLineData, 'high'),\n        formatValue(kLineData, 'low'),\n        formatValue(kLineData, 'volume')\n      ]\n      if (isFunction(valueFormatter)) {\n        values.forEach((value, index) => {\n          values[index] = valueFormatter(index, value) || '--'\n        })\n      } else {\n        values.forEach((value, index) => {\n          switch (index) {\n            case 0: {\n              values[index] = formatDate(value)\n              break\n            }\n            case values.length - 1: {\n              values[index] = formatDecimal(value, 0)\n              break\n            }\n            default: {\n              values[index] = formatDecimal(value)\n              break\n            }\n          }\n        })\n      }\n    }\n    return values\n  }\n\n  /**\n   * 绘制指标提示文字\n   * @param ctx\n   * @param startY\n   * @param data\n   * @param indicatorDataStyle\n   * @param indicatorColors\n   */\n  renderIndicatorTooltipText (ctx, startY, data, indicatorDataStyle, indicatorColors = []) {\n    const nameText = data.name\n    const labels = data.labels\n    const values = data.values\n    const indicatorText = indicatorDataStyle.text\n    const textMarginLeft = indicatorText.marginLeft\n    const textMarginRight = indicatorText.marginRight\n    let labelX = this.viewPortHandler.contentLeft() + textMarginLeft\n    const textSize = indicatorText.size\n    const textColor = indicatorDataStyle.text.color\n    const lineColorSize = indicatorColors.length\n    ctx.textBaseline = 'top'\n    ctx.font = `${textSize}px Arial`\n    const nameTextWidth = calcTextWidth(textSize, nameText)\n    ctx.fillStyle = textColor\n    ctx.fillText(nameText, labelX, startY)\n    labelX += (textMarginLeft + nameTextWidth)\n    for (let i = 0; i < labels.length; i++) {\n      const text = `${labels[i].toUpperCase()}: ${values[i] || '--'}`\n      const textWidth = calcTextWidth(textSize, text)\n      ctx.fillStyle = indicatorColors[i % lineColorSize] || textColor\n      ctx.fillText(text, labelX, startY)\n      labelX += (textMarginLeft + textMarginRight + textWidth)\n    }\n  }\n\n  /**\n   * 渲染指标线上的圆点\n   * @param ctx\n   * @param indicatorType\n   * @param values\n   * @param offsetTop\n   * @param yAxisRender\n   * @param indicatorColors\n   */\n  renderIndicatorLineCircle (ctx, indicatorType, offsetTop, values = [], yAxisRender, indicatorColors = []) {\n    const crossPoint = this.dataProvider.crossPoint\n    if (!crossPoint ||\n      this.dataProvider.currentMarkerType !== MarkerType.NONE ||\n      indicatorType === IndicatorType.SAR ||\n      this.dataProvider.isDragMarker) {\n      return\n    }\n    const colorSize = indicatorColors.length\n    const valueSize = indicatorType === IndicatorType.MACD || indicatorType === IndicatorType.VOL ? values.length - 1 : values.length\n    for (let i = 0; i < valueSize; i++) {\n      const value = values[i]\n      if (value || value === 0) {\n        const y = yAxisRender.getY(value) + offsetTop\n        ctx.fillStyle = indicatorColors[i % colorSize]\n        ctx.beginPath()\n        ctx.arc(crossPoint.x, y, 3, 0, Math.PI * 2)\n        ctx.closePath()\n        ctx.fill()\n      }\n    }\n  }\n\n  /**\n   * 获取需要渲染的指标提示数据\n   * @param kLineData\n   * @param indicatorType\n   * @param indicatorDataStyle\n   * @returns {{values: Array, labels: Array}}\n   */\n  getRenderIndicatorTooltipData (kLineData, indicatorType, indicatorDataStyle) {\n    const values = []\n    let labels = []\n    const params = this.indicatorParams[indicatorType] || []\n    switch (indicatorType) {\n      case IndicatorType.MA: {\n        params.forEach(p => {\n          labels.push(`ma${p}`)\n        })\n        break\n      }\n      case IndicatorType.VOL: {\n        params.forEach(p => {\n          labels.push(`ma${p}`)\n        })\n        labels.push('num')\n        break\n      }\n      case IndicatorType.MACD: {\n        labels = ['diff', 'dea', 'macd']\n        break\n      }\n      case IndicatorType.BOLL: {\n        labels = ['up', 'mid', 'dn']\n        break\n      }\n      case IndicatorType.BIAS: {\n        params.forEach(p => {\n          labels.push(`bias${p}`)\n        })\n        break\n      }\n      case IndicatorType.BRAR: {\n        labels = ['br', 'ar']\n        break\n      }\n      case IndicatorType.CCI: {\n        labels = ['cci']\n        break\n      }\n      case IndicatorType.CR: {\n        labels = ['cr', 'ma1', 'ma2', 'ma3', 'ma4']\n        break\n      }\n      case IndicatorType.DMA: {\n        labels = ['dif', 'difMa']\n        break\n      }\n      case IndicatorType.DMI: {\n        labels = ['mdi', 'pdi', 'adx', 'adxr']\n        break\n      }\n      case IndicatorType.KDJ: {\n        labels = ['k', 'd', 'j']\n        break\n      }\n\n      case IndicatorType.RSI: {\n        params.forEach(p => {\n          labels.push(`rsi${p}`)\n        })\n        break\n      }\n      case IndicatorType.PSY: {\n        labels = ['psy']\n        break\n      }\n      case IndicatorType.TRIX: {\n        labels = ['trix', 'maTrix']\n        break\n      }\n      case IndicatorType.OBV: {\n        labels = ['obv', 'maObv']\n        break\n      }\n      case IndicatorType.VR: {\n        labels = ['vr', 'maVr']\n        break\n      }\n      case IndicatorType.WR: {\n        labels = ['wr1', 'wr2', 'wr3']\n        break\n      }\n      case IndicatorType.MTM: {\n        labels = ['mtm', 'mtmMa']\n        break\n      }\n\n      case IndicatorType.EMV: {\n        labels = ['emv', 'maEmv']\n        break\n      }\n\n      case IndicatorType.SAR: {\n        labels = ['sar']\n        break\n      }\n    }\n    let name = ''\n    if (labels.length > 0) {\n      name = `${indicatorType}`\n      if (params && isArray(params) && params.length > 0) {\n        name = `${name}(${params.join(',')})`\n      }\n      const indicatorData = formatValue(kLineData, indicatorType.toLowerCase())\n      labels.forEach(label => {\n        values.push(formatValue(indicatorData, label))\n      })\n\n      const valueFormatter = indicatorDataStyle.text.valueFormatter\n      if (isFunction(valueFormatter)) {\n        values.forEach((value, index) => {\n          values[index] = valueFormatter(indicatorType, value) || '--'\n        })\n      } else {\n        const decimal = indicatorType === IndicatorType.VOL ? 0 : 2\n        values.forEach((value, index) => {\n          values[index] = formatDecimal(value, decimal)\n        })\n      }\n    }\n    return { labels, values, name }\n  }\n}\n\nexport default TooltipRender\n","import Chart from './Chart'\nimport TooltipRender from '../render/TooltipRender'\nimport { IndicatorType, YAxisPosition, YAxisTextPosition, ChartType, TooltipTextDisplayRule, MarkerType } from '../internal/constants'\n\nclass TooltipChart extends Chart {\n  constructor (dom, style, mainChart, volChart, subIndicatorChart, xAxisChart, dataProvider, indicatorParams) {\n    super(dom, style)\n    this.mainChart = mainChart\n    this.volChart = volChart\n    this.subIndicatorChart = subIndicatorChart\n    this.dataProvider = dataProvider\n    this.tooltipRender = new TooltipRender(\n      this.viewPortHandler, dataProvider, indicatorParams,\n      mainChart.viewPortHandler, volChart.viewPortHandler, subIndicatorChart.viewPortHandler,\n      mainChart.yAxisRender, volChart.yAxisRender, subIndicatorChart.yAxisRender\n    )\n  }\n\n  draw () {\n    const kLineData = this.dataProvider.dataList[this.dataProvider.currentTooltipDataPos] || {}\n    const tooltip = this.style.tooltip\n    // 如果不是绘图才显示十字线\n    if (this.dataProvider.currentMarkerType === MarkerType.NONE && !this.dataProvider.isDragMarker) {\n      this.tooltipRender.renderCrossHorizontalLine(\n        this.ctx,\n        this.mainChart.indicatorType,\n        this.subIndicatorChart.indicatorType,\n        this.style.yAxis.position === YAxisPosition.LEFT,\n        this.style.yAxis.tick.text.position === YAxisTextPosition.OUTSIDE,\n        tooltip\n      )\n      this.tooltipRender.renderCrossVerticalLine(this.ctx, kLineData, tooltip)\n    }\n    const tooltipData = tooltip.data\n    if (tooltipData.displayRule === TooltipTextDisplayRule.ALWAYS ||\n      (tooltipData.displayRule === TooltipTextDisplayRule.FOLLOW_CROSS && this.dataProvider.crossPoint)) {\n      const indicator = this.style.indicator\n\n      this.tooltipRender.renderMainChartTooltip(\n        this.ctx, kLineData,\n        this.mainChart.indicatorType,\n        this.mainChart.chartType === ChartType.CANDLE,\n        tooltip, indicator\n      )\n      if (this.volChart.indicatorType !== IndicatorType.NO) {\n        this.tooltipRender.renderIndicatorChartTooltip(\n          this.ctx, this.mainChart.viewPortHandler.height,\n          kLineData, IndicatorType.VOL, tooltip, indicator, true\n        )\n      }\n      if (this.subIndicatorChart.indicatorType !== IndicatorType.NO) {\n        this.tooltipRender.renderIndicatorChartTooltip(\n          this.ctx, this.mainChart.viewPortHandler.height + this.volChart.viewPortHandler.height,\n          kLineData, this.subIndicatorChart.indicatorType, tooltip, indicator\n        )\n      }\n    }\n  }\n}\n\nexport default TooltipChart\n","import AxisRender from './AxisRender'\n\nimport { DATA_MARGIN_SPACE_RATE } from '../internal/DataProvider'\nimport { formatDate, isFunction } from '../internal/utils/dataUtils'\nimport { calcTextWidth } from '../internal/utils/drawUtils'\nimport { LineStyle } from '../internal/constants'\n\nclass XAxisRender extends AxisRender {\n  /**\n   * 渲染边框\n   * @param ctx\n   * @param xAxis\n   * @param display\n   */\n  renderStrokeLine (ctx, xAxis, display) {\n    if (!display) {\n      return\n    }\n    ctx.strokeStyle = xAxis.line.color\n    ctx.lineWidth = xAxis.line.size\n    ctx.beginPath()\n    ctx.moveTo(this.viewPortHandler.contentLeft(), this.viewPortHandler.contentTop())\n    ctx.lineTo(this.viewPortHandler.contentRight(), this.viewPortHandler.contentTop())\n    ctx.stroke()\n    ctx.closePath()\n  }\n\n  /**\n   * 绘制轴线\n   * @param ctx\n   * @param xAxis\n   */\n  renderAxisLine (ctx, xAxis) {\n    if (!xAxis.display || !xAxis.line.display) {\n      return\n    }\n    ctx.strokeStyle = xAxis.line.color\n    ctx.lineWidth = xAxis.line.size\n    ctx.beginPath()\n    ctx.moveTo(this.viewPortHandler.contentLeft(), this.viewPortHandler.contentBottom())\n    ctx.lineTo(this.viewPortHandler.contentRight(), this.viewPortHandler.contentBottom())\n    ctx.stroke()\n    ctx.closePath()\n  }\n\n  /**\n   * 绘制坐标轴上的文字\n   * @param ctx\n   * @param xAxis\n   */\n  renderAxisLabels (ctx, xAxis) {\n    const tickText = xAxis.tick.text\n    if (!xAxis.display || !tickText.display) {\n      return\n    }\n    const tickLine = xAxis.tick.line\n\n    ctx.textBaseline = 'top'\n    ctx.font = `${tickText.size}px Arial`\n    ctx.textAlign = 'center'\n    ctx.fillStyle = tickText.color\n\n    let labelY = this.viewPortHandler.contentBottom() + tickText.margin\n    if (tickLine.display) {\n      labelY += (tickLine.length)\n    }\n\n    const formatter = tickText.valueFormatter\n    for (let i = 0; i < this.valuePoints.length; i++) {\n      const x = this.valuePoints[i]\n      const kLineModel = this.dataProvider.dataList[parseInt(this.values[i])]\n      const timestamp = kLineModel.timestamp\n      let label = formatDate(timestamp)\n      if (isFunction(formatter)) {\n        label = formatter(kLineModel)\n      }\n      ctx.fillText(label, x, labelY)\n    }\n  }\n\n  /**\n   * 绘制分割线\n   * @param ctx\n   * @param xAxis\n   */\n  renderSeparatorLines (ctx, xAxis) {\n    if (!xAxis.display || !xAxis.separatorLine.display) {\n      return\n    }\n    ctx.strokeStyle = xAxis.separatorLine.color\n    ctx.lineWidth = xAxis.separatorLine.size\n    if (xAxis.separatorLine.style === LineStyle.DASH) {\n      ctx.setLineDash(xAxis.separatorLine.dashValue)\n    }\n    for (let i = 0; i < this.valuePoints.length; i++) {\n      const x = this.valuePoints[i]\n      ctx.beginPath()\n      ctx.moveTo(x, this.viewPortHandler.contentTop())\n      ctx.lineTo(x, this.viewPortHandler.contentBottom())\n      ctx.stroke()\n      ctx.closePath()\n    }\n    ctx.setLineDash([])\n  }\n\n  /**\n   * 绘制tick线\n   * @param ctx\n   * @param xAxis\n   */\n  renderTickLines (ctx, xAxis) {\n    const tickLine = xAxis.tick.line\n    if (!xAxis.display || !tickLine.display) {\n      return\n    }\n    ctx.lineWidth = tickLine.size\n    ctx.strokeStyle = tickLine.color\n\n    const startY = this.viewPortHandler.contentBottom()\n\n    const endY = startY + tickLine.length\n\n    for (let i = 0; i < this.valuePoints.length; i++) {\n      const x = this.valuePoints[i]\n      ctx.beginPath()\n      ctx.moveTo(x, startY)\n      ctx.lineTo(x, endY)\n      ctx.stroke()\n      ctx.closePath()\n    }\n  }\n\n  computeAxis (xAxis) {\n    const minPos = this.dataProvider.minPos\n    const max = Math.min(minPos + this.dataProvider.range - 1, this.dataProvider.dataList.length - 1)\n    this.computeAxisValues(minPos, max, xAxis)\n    this.pointValuesToPixel()\n  }\n\n  fixComputeAxisValues (xAxis) {\n    const dataSize = this.dataProvider.dataList.length\n    if (dataSize > 0) {\n      const defaultLabelWidth = calcTextWidth(xAxis.tick.text.size, '0000-00-00 00:00:00')\n      let startPos = Math.ceil(defaultLabelWidth / 2 / this.dataProvider.dataSpace) - 1\n      if (startPos > dataSize - 1) {\n        startPos = dataSize - 1\n      }\n      const barCount = Math.ceil(defaultLabelWidth / (this.dataProvider.dataSpace * (1 + DATA_MARGIN_SPACE_RATE))) + 1\n      if (dataSize > barCount) {\n        this.valueCount = Math.floor((dataSize - startPos) / barCount) + 1\n      } else {\n        this.valueCount = 1\n      }\n      this.values = [startPos]\n      for (let i = 1; i < this.valueCount; i++) {\n        this.values[i] = startPos + i * (barCount - 1)\n      }\n    } else {\n      this.valueCount = 0\n      this.values = []\n    }\n  }\n\n  pointValuesToPixel () {\n    const offsetLeft = this.viewPortHandler.contentLeft()\n    this.valuePoints = []\n    for (let i = 0; i < this.values.length; i++) {\n      const pos = this.values[i]\n      this.valuePoints[i] = offsetLeft + ((pos - this.dataProvider.minPos) * this.dataProvider.dataSpace + this.dataProvider.dataSpace * (1 - DATA_MARGIN_SPACE_RATE) / 2)\n    }\n  }\n\n  calcRange (max, min) {\n    if (max < 0) {\n      return 0\n    }\n    return Math.abs(max - min) + 1\n  }\n\n  isFillChart () {\n    return this.dataProvider.dataList.length > this.dataProvider.range\n  }\n}\n\nexport default XAxisRender\n","import Chart from './Chart'\nimport XAxisRender from '../render/XAxisRender'\n\nclass XAxisChart extends Chart {\n  constructor (dom, style, dataProvider) {\n    super(dom, style)\n    this.xAxisRender = new XAxisRender(this.viewPortHandler, dataProvider)\n  }\n\n  draw () {\n    const xAxis = this.style.xAxis\n    this.xAxisRender.computeAxis(xAxis)\n    this.xAxisRender.renderAxisLine(this.ctx, xAxis)\n    this.xAxisRender.renderAxisLabels(this.ctx, xAxis)\n    this.xAxisRender.renderSeparatorLines(this.ctx, xAxis)\n    this.xAxisRender.renderTickLines(this.ctx, xAxis)\n    this.xAxisRender.renderStrokeLine(this.ctx, xAxis, this.style.grid)\n  }\n}\n\nexport default XAxisChart\n","import { IndicatorType } from '../internal/constants'\nimport { isArray } from './utils/dataUtils'\n\nconst calcIndicator = {}\n\nexport default calcIndicator\n\n/**\n * 计算均线数据\n * 默认参数5，10，20，60\n * @param dataList\n * @param params\n * @returns {*}\n */\ncalcIndicator[IndicatorType.MA] = function (dataList, params) {\n  if (!checkParams(params)) {\n    return dataList\n  }\n  const closeSums = []\n  const paramsLength = params.length\n  return calc(dataList, (i) => {\n    const ma = {}\n    const close = dataList[i].close\n    for (let j = 0; j < paramsLength; j++) {\n      closeSums[j] = (closeSums[j] || 0) + close\n      const p = params[j]\n      if (i < p) {\n        ma[`ma${p}`] = closeSums[j] / (i + 1)\n      } else {\n        closeSums[j] -= dataList[i - p].close\n        ma[`ma${p}`] = closeSums[j] / p\n      }\n    }\n    dataList[i].ma = ma\n  })\n}\n\n/**\n * 计算成交量包含ma5、ma10、ma20\n * 默认参数5，10，20\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.VOL] = function (dataList, params) {\n  if (!checkParams(params)) {\n    return dataList\n  }\n  const volumeSums = []\n  const paramsLength = params.length\n  return calc(dataList, (i) => {\n    const num = dataList[i].volume\n    const vol = {}\n    for (let j = 0; j < paramsLength; j++) {\n      volumeSums[j] = (volumeSums[j] || 0) + num\n      const p = params[j]\n      if (i < p) {\n        vol[`ma${p}`] = volumeSums[j] / (i + 1)\n      } else {\n        volumeSums[j] -= dataList[i - p].volume\n        vol[`ma${p}`] = volumeSums[j] / p\n      }\n    }\n    vol.num = num\n    dataList[i].vol = vol\n  })\n}\n\n/**\n * 计算MACD指标\n *\n * MACD：参数快线移动平均、慢线移动平均、移动平均，\n * 默认参数值12、26、9。\n * 公式：⒈首先分别计算出收盘价12日指数平滑移动平均线与26日指数平滑移动平均线，分别记为EMA(12）与EMA(26）。\n * ⒉求这两条指数平滑移动平均线的差，即：DIFF=EMA（SHORT）－EMA（LONG）。\n * ⒊再计算DIFF的M日的平均的指数平滑移动平均线，记为DEA。\n * ⒋最后用DIFF减DEA，得MACD。MACD通常绘制成围绕零轴线波动的柱形图。MACD柱状大于0涨颜色，小于0跌颜色。\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.MACD] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 3)) {\n    return dataList\n  }\n  let emaShort\n  let emaLong\n  let oldEmaShort = 0\n  let oldEmaLong = 0\n  let diff = 0\n  let dea = 0\n  let oldDea = 0\n  let macd = 0\n\n  return calc(dataList, (i) => {\n    const closePrice = dataList[i].close\n    if (i === 0) {\n      emaShort = closePrice\n      emaLong = closePrice\n    } else {\n      emaShort = (2 * closePrice + (params[0] - 1) * oldEmaShort) / (params[0] + 1)\n      emaLong = (2 * closePrice + (params[1] - 1) * oldEmaLong) / (params[1] + 1)\n    }\n\n    diff = emaShort - emaLong\n    dea = (diff * 2 + oldDea * (params[2] - 1)) / (params[2] + 1)\n    macd = (diff - dea) * 2\n    oldEmaShort = emaShort\n    oldEmaLong = emaLong\n    oldDea = dea\n\n    dataList[i].macd = { diff, dea, macd }\n  })\n}\n\n/**\n * 计算BOLL指标\n * 默认参数20\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.BOLL] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 1)) {\n    return dataList\n  }\n  let closeSum = 0\n  let ma// 中轨线\n  let md// 标准差\n  let up// 上轨线\n  let dn// 下轨线\n\n  return calc(dataList, (i) => {\n    const closePrice = dataList[i].close\n    closeSum += closePrice\n    if (i < params[0]) {\n      ma = closeSum / (i + 1)\n      md = getBollMd(dataList.slice(0, i + 1), ma)\n    } else {\n      closeSum -= dataList[i - params[0]].close\n      ma = closeSum / params[0]\n      md = getBollMd(dataList.slice(i - (params[0] - 1), i + 1), ma)\n    }\n    up = ma + 2 * md\n    dn = ma - 2 * md\n    dataList[i].boll = { up, mid: ma, dn }\n  })\n}\n\n/**\n * 计算KDJ\n * 默认参数9，3，3\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.KDJ] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 3)) {\n    return dataList\n  }\n  let k\n  let d\n  let j\n\n  // n日内最低价\n  let ln\n  // n日内最高价\n  let hn\n\n  return calc(dataList, (i) => {\n    // n日收盘价\n    const cn = dataList[i].close\n\n    if (i < (params[0] - 1)) {\n      ln = getLow(dataList.slice(0, i + 1))\n      hn = getHigh(dataList.slice(0, i + 1))\n    } else {\n      ln = getLow(dataList.slice(i - (params[0] - 1), i + 1))\n      hn = getHigh(dataList.slice(i - (params[0] - 1), i + 1))\n    }\n    const rsv = (cn - ln) / (hn - ln === 0 ? 1 : hn - ln) * 100\n    // 当日K值=2/3×前一日K值+1/3×当日RSV\n    // 当日D值=2/3×前一日D值+1/3×当日K值\n    // 若无前一日K 值与D值，则可分别用50来代替。\n    // J值=3*当日K值-2*当日D值\n    k = (params[1] - 1) / params[1] * (i < (params[0] - 1) ? 50.0 : dataList[i - 1].kdj.k) + 1.0 / params[1] * rsv\n    d = (params[2] - 1) / params[2] * (i < (params[0] - 1) ? 50.0 : dataList[i - 1].kdj.d) + 1.0 / params[2] * k\n    j = 3.0 * k - 2.0 * d\n    dataList[i].kdj = { k, d, j }\n  })\n}\n\n/**\n * 计算RSI\n * 默认参数6，12，24\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.RSI] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 3)) {\n    return dataList\n  }\n  // N日RSI =\n  // N日内收盘涨幅的平均值/(N日内收盘涨幅均值+N日内收盘跌幅均值) ×100%\n  let sumCloseA1 = 0\n  let sumCloseB1 = 0\n\n  let sumCloseA2 = 0\n  let sumCloseB2 = 0\n\n  let sumCloseA3 = 0\n  let sumCloseB3 = 0\n\n  let a1\n  let b1\n\n  let a2\n  let b2\n\n  let a3\n  let b3\n\n  return calc(dataList, (i) => {\n    const rsi = { [`rsi${params[0]}`]: 0, [`rsi${params[1]}`]: 0, [`rsi${params[2]}`]: 0 }\n    if (i > 0) {\n      const tmp = dataList[i].close - dataList[i - 1].close\n      if (tmp > 0) {\n        sumCloseA1 += tmp\n        sumCloseA2 += tmp\n        sumCloseA3 += tmp\n      } else {\n        const absTmp = Math.abs(tmp)\n        sumCloseB1 += absTmp\n        sumCloseB2 += absTmp\n        sumCloseB3 += absTmp\n      }\n\n      if (i < params[0]) {\n        a1 = sumCloseA1 / (i + 1)\n        b1 = (sumCloseA1 + sumCloseB1) / (i + 1)\n      } else {\n        if (i > params[0]) {\n          const agoTmp = dataList[i - params[0]].close - dataList[i - params[0] - 1].close\n          if (agoTmp > 0) {\n            sumCloseA1 -= agoTmp\n          } else {\n            sumCloseB1 -= Math.abs(agoTmp)\n          }\n        }\n        a1 = sumCloseA1 / params[0]\n        b1 = (sumCloseA1 + sumCloseB1) / params[0]\n      }\n      rsi[`rsi${params[0]}`] = b1 !== 0.0 ? a1 / b1 * 100 : 0.0\n\n      if (i < params[1]) {\n        a2 = sumCloseA2 / (i + 1)\n        b2 = (sumCloseA2 + sumCloseB2) / (i + 1)\n      } else {\n        if (i > params[1]) {\n          const agoTmp = dataList[i - params[1]].close - dataList[i - params[1] - 1].close\n          if (agoTmp > 0) {\n            sumCloseA2 -= agoTmp\n          } else {\n            sumCloseB2 -= Math.abs(agoTmp)\n          }\n        }\n        a2 = sumCloseA2 / params[1]\n        b2 = (sumCloseA2 + sumCloseB2) / params[1]\n      }\n      rsi[`rsi${params[1]}`] = b2 !== 0.0 ? a2 / b2 * 100 : 0.0\n\n      if (i < params[2]) {\n        a3 = sumCloseA3 / (i + 1)\n        b3 = (sumCloseA3 + sumCloseB3) / (i + 1)\n      } else {\n        if (i > params[2]) {\n          const agoTmp = dataList[i - params[2]].close - dataList[i - params[2] - 1].close\n          if (agoTmp > 0) {\n            sumCloseA3 -= agoTmp\n          } else {\n            sumCloseB3 -= Math.abs(agoTmp)\n          }\n        }\n        a3 = sumCloseA3 / params[2]\n        b3 = (sumCloseA3 + sumCloseB3) / params[2]\n      }\n      rsi[`rsi${params[2]}`] = b3 !== 0.0 ? a3 / b3 * 100 : 0.0\n    }\n    dataList[i].rsi = rsi\n  })\n}\n\n/**\n * 计算BIAS指标\n * 乖离率=[(当日收盘价-N日平均价)/N日平均价]*100%\n * 默认参数：6，12、24\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.BIAS] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 3)) {\n    return dataList\n  }\n  let mean1\n  let mean2\n  let mean3\n  let closes1 = 0\n  let closes2 = 0\n  let closes3 = 0\n\n  return calc(dataList, (i) => {\n    const bias = {}\n    const closePrice = dataList[i].close\n    closes1 += closePrice\n    closes2 += closePrice\n    closes3 += closePrice\n\n    if (i < params[0]) {\n      mean1 = closes1 / (i + 1)\n    } else {\n      closes1 -= dataList[i - params[0]].close\n      mean1 = closes1 / params[0]\n    }\n    bias[`bias${params[0]}`] = ((closePrice - mean1) / mean1) * 100\n\n    if (i < params[1]) {\n      mean2 = closes2 / (i + 1)\n    } else {\n      closes2 -= dataList[i - params[1]].close\n      mean2 = closes2 / params[1]\n    }\n    bias[`bias${params[1]}`] = ((closePrice - mean2) / mean2) * 100\n\n    if (i < params[2]) {\n      mean3 = closes3 / (i + 1)\n    } else {\n      closes3 -= dataList[i - params[2]].close\n      mean3 = closes3 / params[2]\n    }\n    bias[`bias${params[2]}`] = ((closePrice - mean3) / mean3) * 100\n\n    dataList[i].bias = bias\n  })\n}\n\n/**\n * 计算BRAR指标\n * 默认参数是26。\n * 公式N日BR=N日内（H－CY）之和除以N日内（CY－L）之和*100，\n * 其中，H为当日最高价，L为当日最低价，CY为前一交易日的收盘价，N为设定的时间参数。\n * N日AR=(N日内（H－O）之和除以N日内（O－L）之和)*100，\n * 其中，H为当日最高价，L为当日最低价，O为当日开盘价，N为设定的时间参数\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.BRAR] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 1)) {\n    return dataList\n  }\n  let br = 0\n  let ar = 0\n  let hcy = 0\n  let cyl = 0\n  let ho = 0\n  let ol = 0\n\n  return calc(dataList, (i) => {\n    const high = dataList[i].high\n    const low = dataList[i].low\n    const open = dataList[i].open\n    ho += (high - open)\n    ol += (open - low)\n    if (i > 0) {\n      const refClose = dataList[i - 1].close\n      hcy += (high - refClose)\n      cyl += (refClose - low)\n      if (i > params[0] - 1) {\n        const agoHigh = dataList[i - params[0]].high\n        const agoLow = dataList[i - params[0]].low\n        const agoOpen = dataList[i - params[0]].open\n        if (i > params[0]) {\n          const agoRefClose = dataList[i - params[0] - 1].close\n          hcy -= (agoHigh - agoRefClose)\n          cyl -= (agoRefClose - agoLow)\n        }\n        ho -= (agoHigh - agoOpen)\n        ol -= (agoOpen - agoLow)\n      }\n      if (ol !== 0) {\n        ar = ho / ol * 100\n      } else {\n        ar = 0\n      }\n      if (cyl !== 0) {\n        br = hcy / cyl * 100\n      } else {\n        br = 0\n      }\n    }\n    dataList[i].brar = { br, ar }\n  })\n}\n\n/**\n * 计算CCI指标\n * CCI（N日）=（TP－MA）÷MD÷0.015\n * 其中，TP=（最高价+最低价+收盘价）÷3\n * MA=近N日收盘价的累计之和÷N\n * MD=近N日（MA－收盘价）的累计之和÷N\n * 默认参数13\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.CCI] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 1)) {\n    return dataList\n  }\n  let closes = 0.0\n  let closeMa\n  const closeMaList = []\n  let md\n  let maCloseSum = 0.0\n  let cci\n\n  return calc(dataList, (i) => {\n    const closePrice = dataList[i].close\n    closes += closePrice\n\n    const tp = (dataList[i].high + dataList[i].low + closePrice) / 3\n    if (i < params[0]) {\n      closeMa = closes / (i + 1)\n      maCloseSum += Math.abs(closeMa - closePrice)\n      closeMaList.push(closeMa)\n      md = maCloseSum / (i + 1)\n    } else {\n      const agoClosePrice = dataList[i - params[0]].close\n      closes -= agoClosePrice\n      closeMa = closes / params[0]\n      closeMaList.push(closeMa)\n      maCloseSum += Math.abs(closeMa - closePrice)\n      maCloseSum -= Math.abs(closeMaList[i - params[0]] - agoClosePrice)\n      md = maCloseSum / params[0]\n    }\n    cci = md !== 0.0 ? (tp - closeMa) / md / 0.015 : 0.0\n    dataList[i].cci = { cci }\n  })\n}\n\n/**\n * 计算DMI\n *\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.DMI] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 2)) {\n    return dataList\n  }\n  // 默认参数 14，6\n  // MTR:=EXPMEMA(MAX(MAX(HIGH-LOW,ABS(HIGH-REF(CLOSE,1))),ABS(REF(CLOSE,1)-LOW)),N)\n  // HD :=HIGH-REF(HIGH,1);\n  // LD :=REF(LOW,1)-LOW;\n  // DMP:=EXPMEMA(IF(HD>0&&HD>LD,HD,0),N);\n  // DMM:=EXPMEMA(IF(LD>0&&LD>HD,LD,0),N);\n  //\n  // PDI: DMP*100/MTR;\n  // MDI: DMM*100/MTR;\n  // ADX: EXPMEMA(ABS(MDI-PDI)/(MDI+PDI)*100,MM);\n  // ADXR:EXPMEMA(ADX,MM);\n  // 公式含义：\n  // MTR赋值:最高价-最低价和最高价-昨收的绝对值的较大值和昨收-最低价的绝对值的较大值的N日指数平滑移动平均\n  // HD赋值:最高价-昨日最高价\n  // LD赋值:昨日最低价-最低价\n  // DMP赋值:如果HD>0并且HD>LD,返回HD,否则返回0的N日指数平滑移动平均\n  // DMM赋值:如果LD>0并且LD>HD,返回LD,否则返回0的N日指数平滑移动平均\n  // 输出PDI:DMP*100/MTR\n  // 输出MDI:DMM*100/MTR\n  // 输出ADX:MDI-PDI的绝对值/(MDI+PDI)*100的MM日指数平滑移动平均\n  // 输出ADXR:ADX的MM日指数平滑移动平均\n  let pdi = 0.0\n  let mdi = 0.0\n  let adx = 0.0\n  let adxr = 0.0\n\n  const trList = [0.0]\n  let trSum = 0.0\n  const dmpList = [0.0]\n  let dmpSum = 0.0\n  const dmmList = [0.0]\n  let dmmSum = 0.0\n  const dxList = [0.0]\n  let dxSum = 0.0\n\n  return calc(dataList, (i) => {\n    if (i > 0) {\n      const refClose = dataList[i - 1].close\n      const highPrice = dataList[i].high\n      const lowPrice = dataList[i].low\n      const hl = highPrice - lowPrice\n      const hcy = Math.abs(highPrice - refClose)\n      const lcy = Math.abs(lowPrice - refClose)\n      const hhy = highPrice - dataList[i - 1].high\n      const lyl = dataList[i - 1].low - lowPrice\n      const tr = Math.max(Math.max(hl, hcy), lcy)\n      trSum += tr\n      trList.push(tr)\n\n      const h = (hhy > 0.0 && hhy > lyl) ? hhy : 0.0\n      dmpSum += h\n      dmpList.push(h)\n\n      const l = (lyl > 0 && lyl > hhy) ? lyl : 0.0\n      dmmSum += l\n      dmmList.push(l)\n\n      if (i > params[0] - 1) {\n        trSum -= trList[i - params[0]]\n        dmpSum -= dmpList[i - params[0]]\n        dmmSum -= dmmList[i - params[0]]\n      }\n\n      if (trSum === 0) {\n        pdi = 0\n        mdi = 0\n      } else {\n        pdi = dmpSum * 100 / trSum\n        mdi = dmmSum * 100 / trSum\n      }\n\n      const dx = Math.abs((mdi - pdi)) / (mdi + pdi) * 100\n      dxSum += dx\n      dxList.push(dx)\n      if (i < params[1]) {\n        adx = dxSum / (i + 1)\n        adxr = adx\n      } else {\n        const agoAdx = dxList[i - params[1]]\n        dxSum -= agoAdx\n        adx = dxSum / params[1]\n        adxr = (adx + agoAdx) / 2\n      }\n    }\n    dataList[i].dmi = { pdi, mdi, adx, adxr }\n  })\n}\n\n/**\n * 计算CR\n *\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.CR] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 5)) {\n    return dataList\n  }\n  // 默认参数26、10、20、40、60\n  // MID:=REF(HIGH+LOW,1)/2;\n  // CR:SUM(MAX(0,HIGH-MID),N)/SUM(MAX(0,MID-LOW),N)*100;\n  // MA1:REF(MA(CR,M1),M1/2.5+1);\n  // MA2:REF(MA(CR,M2),M2/2.5+1);\n  // MA3:REF(MA(CR,M3),M3/2.5+1);\n  // MA4:REF(MA(CR,M4),M4/2.5+1);\n  // MID赋值:(昨日最高价+昨日最低价)/2\n  // 输出带状能量线:0和最高价-MID的较大值的N日累和/0和MID-最低价的较大值的N日累和*100\n  // 输出MA1:M1(5)/2.5+1日前的CR的M1(5)日简单移动平均\n  // 输出MA2:M2(10)/2.5+1日前的CR的M2(10)日简单移动平均\n  // 输出MA3:M3(20)/2.5+1日前的CR的M3(20)日简单移动平均\n  // 输出MA4:M4/2.5+1日前的CR的M4日简单移动平均\n  let cr = 0\n  let ma1\n  let ma2\n  let ma3\n  let ma4\n  let p1 = 0\n  let p2 = 0\n  let ma1Sum = 0\n  let ma1Mean\n  const ma1List = []\n  let ma2Sum = 0\n  let ma2Mean\n  const ma2List = []\n  let ma3Sum = 0\n  let ma3Mean\n  const ma3List = []\n  let ma4Sum = 0\n  let ma4Mean\n  const ma4List = []\n\n  return calc(dataList, (i) => {\n    if (i > 0) {\n      const preHighestPrice = dataList[i - 1].high\n      const preLowestPrice = dataList[i - 1].low\n      const preClosePrice = dataList[i - 1].close\n      const preOpenPrice = dataList[i - 1].open\n      const preMidPrice = (preHighestPrice + preClosePrice + preLowestPrice + preOpenPrice) / 4\n\n      const highestPrice = dataList[i].high\n      const lowestPrice = dataList[i].low\n\n      let highSubPreMid = highestPrice - preMidPrice\n      if (highSubPreMid < 0) {\n        highSubPreMid = 0\n      }\n      p1 += highSubPreMid\n\n      let preMidSubLow = preMidPrice - lowestPrice\n      if (preMidSubLow < 0) {\n        preMidSubLow = 0\n      }\n      p2 += preMidSubLow\n\n      if (i > params[0]) {\n        const firstHighestPrice = dataList[i - params[0] - 1].high\n        const firstLowestPrice = dataList[i - params[0] - 1].low\n        const firstClosePrice = dataList[i - params[0] - 1].close\n        const firstOpenPrice = dataList[i - params[0] - 1].open\n        const firstMidPrice = (firstHighestPrice + firstLowestPrice + firstClosePrice + firstOpenPrice) / 4\n\n        const secondHighestPrice = dataList[i - params[0]].high\n        const secondLowestPrice = dataList[i - params[0]].low\n\n        let secondHighSubFirstMid = secondHighestPrice - firstMidPrice\n        if (secondHighSubFirstMid < 0) {\n          secondHighSubFirstMid = 0\n        }\n\n        let firstMidSubSecondLow = firstMidPrice - secondLowestPrice\n        if (firstMidSubSecondLow < 0) {\n          firstMidSubSecondLow = 0\n        }\n        p1 -= secondHighSubFirstMid\n        p2 -= firstMidSubSecondLow\n      }\n\n      if (p2 !== 0) {\n        cr = p1 / p2 * 100\n      }\n\n      const YM = (dataList[i - 1].high + dataList[i - 1].low + dataList[i - 1].close) / 3\n      const HYM = dataList[i].high - YM\n      p1 += (HYM <= 0 ? 0 : HYM)\n      const LYM = YM - dataList[i].low\n      p2 += (LYM <= 0 ? 0 : LYM)\n    }\n    ma1Sum += cr\n    ma2Sum += cr\n    ma3Sum += cr\n    ma4Sum += cr\n\n    if (i < params[1]) {\n      ma1Mean = ma1Sum / (i + 1)\n    } else {\n      ma1Sum -= dataList[i - params[1]].cr.cr\n      ma1Mean = ma1Sum / params[1]\n    }\n    ma1List.push(ma1Mean)\n\n    if (i < params[2]) {\n      ma2Mean = ma2Sum / (i + 1)\n    } else {\n      ma2Sum -= dataList[i - params[2]].cr.cr\n      ma2Mean = ma2Sum / params[2]\n    }\n    ma2List.push(ma2Mean)\n\n    if (i < params[3]) {\n      ma3Mean = ma3Sum / (i + 1)\n    } else {\n      ma3Sum -= dataList[i - params[3]].cr.cr\n      ma3Mean = ma3Sum / params[3]\n    }\n    ma3List.push(ma3Mean)\n\n    if (i < params[4]) {\n      ma4Mean = ma4Sum / (i + 1)\n    } else {\n      ma4Sum -= dataList[i - params[4]].cr.cr\n      ma4Mean = ma4Sum / params[4]\n    }\n    ma4List.push(ma4Mean)\n\n    if (i < 5) {\n      ma1 = ma1List[0]\n    } else {\n      ma1 = ma1List[i - 5]\n    }\n\n    if (i < 9) {\n      ma2 = ma2List[0]\n    } else {\n      ma2 = ma2List[i - 9]\n    }\n\n    if (i < 17) {\n      ma3 = ma3List[0]\n    } else {\n      ma3 = ma3List[i - 17]\n    }\n\n    if (i < 25) {\n      ma4 = ma4List[0]\n    } else {\n      ma4 = ma4List[i - 25]\n    }\n    dataList[i].cr = { cr, ma1, ma2, ma3, ma4 }\n  })\n}\n\n/**\n * 计算PSY\n * 默认参数是12。公式：PSY=N日内的上涨天数/N×100%。\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.PSY] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 1)) {\n    return dataList\n  }\n  let psy = 0\n  let upDay = 0\n\n  return calc(dataList, (i) => {\n    if (i > 0) {\n      upDay += (dataList[i].close - dataList[i - 1].close > 0 ? 1 : 0)\n      if (i < params[0]) {\n        psy = upDay / (i + 1) * 100\n      } else {\n        if (i > params[0]) {\n          upDay -= ((dataList[i - params[0] + 1].close - dataList[i - params[0]].close > 0) ? 1.0 : 0.0)\n        }\n        psy = upDay / params[0] * 100\n      }\n    }\n    dataList[i].psy = { psy }\n  })\n}\n\n/**\n * 计算DMA\n * 默认参数是10、50、10。\n * 公式：DIF:MA(CLOSE,N1)-MA(CLOSE,N2);DIFMA:MA(DIF,M)\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.DMA] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 3)) {\n    return dataList\n  }\n  let dif\n  let difMa\n  let ma1Sum = 0\n  let ma1\n  let ma2Sum = 0\n  let ma2\n  let difSum = 0\n  return calc(dataList, (i) => {\n    const closePrice = dataList[i].close\n\n    ma1Sum += closePrice\n    ma2Sum += closePrice\n\n    if (i < params[0]) {\n      ma1 = ma1Sum / (i + 1)\n    } else {\n      ma1Sum -= dataList[i - params[0]].close\n      ma1 = ma1Sum / params[0]\n    }\n\n    if (i < params[1]) {\n      ma2 = ma2Sum / (i + 1)\n    } else {\n      ma2Sum -= dataList[i - params[1]].close\n      ma2 = ma2Sum / params[1]\n    }\n    dif = ma1 - ma2\n    difSum += dif\n\n    if (i < params[2]) {\n      difMa = difSum / (i + 1)\n    } else {\n      difSum -= dataList[i - params[2]].dma.dif\n      difMa = difSum / params[2]\n    }\n\n    dataList[i].dma = { dif, difMa }\n  })\n}\n\n/**\n * 计算TRIX\n *\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.TRIX] = function (dataList, params) {\n  // TR=收盘价的N日指数移动平均的N日指数移动平均的N日指数移动平均；\n  // TRIX=(TR-昨日TR)/昨日TR*100；\n  // MATRIX=TRIX的M日简单移动平均；\n  // 默认参数N设为12，默认参数M设为20；\n  // 默认参数12、20\n  // 公式：MTR:=EMA(EMA(EMA(CLOSE,N),N),N)\n  // TRIX:(MTR-REF(MTR,1))/REF(MTR,1)*100;\n  // TRMA:MA(TRIX,M)\n  if (!checkParamsWithSize(params, 2)) {\n    return dataList\n  }\n  let trix = 0\n  let maTrix\n  let sumTrix = 0\n\n  let emaClose1\n  let oldEmaClose1 = 0.0\n\n  let emaClose2\n  let oldEmaClose2 = 0.0\n\n  let emaClose3\n  let oldEmaClose3 = 0.0\n  const emaClose3List = []\n\n  return calc(dataList, (i) => {\n    const closePrice = dataList[i].close\n    if (i === 0) {\n      emaClose1 = closePrice\n      emaClose2 = emaClose1\n      emaClose3 = emaClose2\n    } else {\n      emaClose1 = (2 * closePrice + (params[0] - 1) * oldEmaClose1) / (params[0] + 1)\n      emaClose2 = (2 * emaClose1 + (params[0] - 1) * oldEmaClose2) / (params[0] + 1)\n      emaClose3 = (2 * emaClose2 + (params[0] - 1) * oldEmaClose3) / (params[0] + 1)\n      const refEmaClose3 = emaClose3List[i - 1]\n      trix = refEmaClose3 === 0.0 ? 0.0 : (emaClose3 - refEmaClose3) / refEmaClose3 * 100\n    }\n    oldEmaClose1 = emaClose1\n    oldEmaClose2 = emaClose2\n    oldEmaClose3 = emaClose3\n    emaClose3List.push(emaClose3)\n    sumTrix += trix\n    if (i < params[1]) {\n      maTrix = sumTrix / (i + 1)\n    } else {\n      sumTrix -= dataList[i - params[1]].trix.trix\n      maTrix = sumTrix / params[1]\n    }\n    dataList[i].trix = { trix, maTrix }\n  })\n}\n\n/**\n * 计算obv指标\n * VA:=IF(CLOSE>REF(CLOSE,1),VOL,-VOL);\n * OBV:SUM(IF(CLOSE=REF(CLOSE,1),0,VA),0);\n * MAOBV:MA(OBV,M);\n * VA赋值:如果收盘价>昨收,返回成交量(手),否则返回-成交量(手)\n * 输出OBV:如果收盘价=昨收,返回0,否则返回VA的历史累和\n * 输出MAOBV:OBV的M日简单移动平均\n * 默认参数30\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.OBV] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 1)) {\n    return dataList\n  }\n  let obv\n  let sumObv = 0.0\n  let maObv\n  let sumVa = 0.0\n\n  return calc(dataList, (i) => {\n    const volume = dataList[i].volume\n    if (i === 0) {\n      obv = volume\n      sumVa += volume\n    } else {\n      const refClosePrice = dataList[i - 1].close\n      const closePrice = dataList[i].close\n      const va = closePrice > refClosePrice ? volume : -volume\n\n      sumVa += va\n      obv = closePrice === refClosePrice ? 0.0 : sumVa\n    }\n    sumObv += obv\n    if (i < params[0]) {\n      maObv = sumObv / (i + 1)\n    } else {\n      sumObv -= dataList[i - params[0]].obv.obv\n      maObv = sumObv / params[0]\n    }\n    dataList[i].obv = { obv, maObv }\n  })\n}\n\n/**\n * 计算vr指标\n * 默认参数24 ， 30\n * VR=（AVS+1/2CVS）/（BVS+1/2CVS）\n * 24天以来凡是股价上涨那一天的成交量都称为AV，将24天内的AV总和相加后称为AVS\n * 24天以来凡是股价下跌那一天的成交量都称为BV，将24天内的BV总和相加后称为BVS\n * 24天以来凡是股价不涨不跌，则那一天的成交量都称为CV，将24天内的CV总和相加后称为CVS\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.VR] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 2)) {\n    return dataList\n  }\n  let avs = 0\n  let bvs = 0\n  let cvs = 0\n  let vr = 0\n  let maVr\n  let sumVr = 0\n  return calc(dataList, (i) => {\n    const closePrice = dataList[i].close\n    const openPrice = dataList[i].open\n    const volume = dataList[i].volume\n    if (closePrice > openPrice) {\n      avs += volume\n    } else if (closePrice < openPrice) {\n      bvs += volume\n    } else {\n      cvs += volume\n    }\n\n    if (i > params[0] - 1) {\n      const agoClosePrice = dataList[i - params[0]].close\n      const agoOpenPrice = dataList[i - params[0]].open\n      const agoVolume = dataList[i - params[0]].volume\n      if (agoClosePrice > agoOpenPrice) {\n        avs -= agoVolume\n      } else if (agoClosePrice < agoOpenPrice) {\n        bvs -= agoVolume\n      } else {\n        cvs -= agoVolume\n      }\n    }\n\n    const v = bvs + 1 / 2 * cvs\n    if (v !== 0) {\n      vr = (avs + 1 / 2 * cvs) / v * 100\n    }\n    sumVr += vr\n    if (i < params[1]) {\n      maVr = sumVr / (i + 1)\n    } else {\n      sumVr -= dataList[i - params[1]].vr.vr\n      maVr = sumVr / params[1]\n    }\n    dataList[i].vr = { vr, maVr }\n  })\n}\n\n/**\n * 计算wr指标\n * 默认参数13 34 89\n * 公式 WR(N) = 100 * [ HIGH(N)-C ] / [ HIGH(N)-LOW(N) ]\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.WR] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 3)) {\n    return dataList\n  }\n  let wr1\n  let wr2\n  let wr3\n  let h1 = Number.MIN_SAFE_INTEGER\n  let l1 = Number.MAX_SAFE_INTEGER\n  let h2 = Number.MIN_SAFE_INTEGER\n  let l2 = Number.MAX_SAFE_INTEGER\n  let h3 = Number.MIN_SAFE_INTEGER\n  let l3 = Number.MAX_SAFE_INTEGER\n\n  let hl1\n  let hl2\n  let hl3\n\n  return calc(dataList, (i) => {\n    const closePrice = dataList[i].close\n    const highPrice = dataList[i].high\n    const lowPrice = dataList[i].low\n\n    if (i < params[0]) {\n      h1 = Math.max(highPrice, h1)\n      l1 = Math.min(lowPrice, l1)\n    } else {\n      const highLowPriceArray = getHighLow(dataList.slice(i - params[0], i))\n      h1 = highLowPriceArray[0]\n      l1 = highLowPriceArray[1]\n    }\n    hl1 = h1 - l1\n    wr1 = hl1 !== 0 ? (h1 - closePrice) / hl1 * 100 : 0.0\n\n    if (i < params[1]) {\n      h2 = Math.max(highPrice, h2)\n      l2 = Math.min(lowPrice, l2)\n    } else {\n      const highLowPriceArray = getHighLow(dataList.slice(i - params[1], i))\n      h2 = highLowPriceArray[0]\n      l2 = highLowPriceArray[1]\n    }\n    hl2 = h2 - l2\n    wr2 = hl2 !== 0 ? (h2 - closePrice) / hl2 * 100 : 0.0\n\n    if (i < params[2]) {\n      h3 = Math.max(highPrice, h3)\n      l3 = Math.min(lowPrice, l3)\n    } else {\n      const highLowPriceArray = getHighLow(dataList.slice(i - params[2], i))\n      h3 = highLowPriceArray[0]\n      l3 = highLowPriceArray[1]\n    }\n    hl3 = h3 - l3\n    wr3 = hl3 !== 0.0 ? (h3 - closePrice) / hl3 * 100 : 0.0\n\n    dataList[i].wr = { wr1, wr2, wr3 }\n  })\n}\n\n/**\n * 计算mtm指标\n * 默认参数6 10\n * 公式 MTM（N日）=C－CN\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.MTM] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 2)) {\n    return dataList\n  }\n  let mtm\n  let mtmSum = 0\n  let mtmMa\n  return calc(dataList, (i) => {\n    if (i < params[0]) {\n      mtm = 0.0\n      mtmMa = 0.0\n    } else {\n      const closePrice = dataList[i].close\n      mtm = closePrice - dataList[i - params[0]].close\n      mtmSum += mtm\n      if (i < params[0] + params[1]) {\n        mtmMa = mtmSum / (i - params[0] + 1)\n      } else {\n        mtmMa = mtmSum / params[1]\n        mtmSum -= dataList[i - params[1]].mtm.mtm\n      }\n    }\n    dataList[i].mtm = { mtm, mtmMa }\n  })\n}\n\n/**\n * 简易波动指标\n * 默认参数N为14，默认参数M为9\n * 公式：\n * A=（今日最高+今日最低）/2\n * B=（前日最高+前日最低）/2\n * C=今日最高-今日最低\n * EM=（A-B）*C/今日成交额\n * EMV=N日内EM的累和\n * MAEMV=EMV的M日的简单移动平均\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.EMV] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 2)) {\n    return dataList\n  }\n\n  let emv = 0\n  let maEmv\n  let sumEmv = 0\n  let em = 0\n\n  const emList = []\n\n  return calc(dataList, (i) => {\n    if (i > 0) {\n      const turnover = dataList[i].turnover\n      const highestPrice = dataList[i].high\n      const lowestPrice = dataList[i].low\n      const preHighestPrice = dataList[i - 1].high\n      const preLowestPrice = dataList[i - 1].low\n      const highSubLow = highestPrice - lowestPrice\n      const halfHighAddLow = (highestPrice + lowestPrice) / 2\n      const preHalfHighAddLow = (preHighestPrice + preLowestPrice) / 2\n      em = (halfHighAddLow - preHalfHighAddLow) * highSubLow / turnover\n    }\n    emList.push(em)\n    if (i < params[0]) {\n      emv += em\n    } else {\n      emv -= emList[i - params[0]]\n    }\n    sumEmv += emv\n    if (i < params[1]) {\n      maEmv = sumEmv / (i + 1)\n    } else {\n      sumEmv -= dataList[i - params[1]].emv.emv\n      maEmv = sumEmv / params[1]\n    }\n    dataList[i].emv = { emv, maEmv }\n  })\n}\n\n/**\n * 计算sar\n * 默认参数2， 2， 20（开始值，步长，最大值）\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.SAR] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 3)) {\n    return dataList\n  }\n  const startAf = params[0] / 100\n  const step = params[1] / 100\n  const maxAf = params[2] / 100\n  // 加速因子\n  let af = startAf\n  // 极值\n  let ep = -100\n  // 判断是上涨还是下跌  false：下跌\n  let isIncreasing = false\n  let sar = 0\n\n  return calc(dataList, (i) => {\n    // 上一个周期的sar\n    const preSar = sar\n    const highestPrice = dataList[i].high\n    const lowestPrice = dataList[i].low\n    if (isIncreasing) {\n      // 上涨\n      if (ep === -100 || ep < highestPrice) {\n        // 重新初始化值\n        ep = highestPrice\n        af = Math.min(af + step, maxAf)\n      }\n      sar = preSar + af * (ep - preSar)\n      const lowestPriceMin = Math.min(dataList[Math.max(1, i) - 1].low, lowestPrice)\n      if (sar > dataList[i].low) {\n        sar = ep\n        // 重新初始化值\n        af = startAf\n        ep = -100\n        isIncreasing = !isIncreasing\n      } else if (sar > lowestPriceMin) {\n        sar = lowestPriceMin\n      }\n    } else {\n      if (ep === -100 || ep > lowestPrice) {\n        // 重新初始化值\n        ep = lowestPrice\n        af = Math.min(af + step, maxAf)\n      }\n      sar = preSar + af * (ep - preSar)\n      const highestPriceMax = Math.max(dataList[Math.max(1, i) - 1].high, highestPrice)\n      if (sar < dataList[i].high) {\n        sar = ep\n        // 重新初始化值\n        af = 0\n        ep = -100\n        isIncreasing = !isIncreasing\n      } else if (sar < highestPriceMax) {\n        sar = highestPriceMax\n      }\n    }\n    dataList[i].sar = { sar }\n  })\n}\n\n/**\n * 计算\n * @param dataList\n * @param calcIndicator\n */\nfunction calc (dataList, calcIndicator) {\n  let totalTurnover = 0\n  let totalVolume = 0\n  const dataSize = dataList.length\n  for (let i = 0; i < dataSize; i++) {\n    const turnover = dataList[i].turnover || 0\n    totalVolume += dataList[i].volume || 0\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      dataList[i].average = totalTurnover / totalVolume\n    } else {\n      dataList[i].average = 0\n    }\n    calcIndicator(i)\n  }\n  return dataList\n}\n\n/**\n * 计算布林指标中的标准差\n *\n * @param list\n * @param ma\n * @return\n */\nfunction getBollMd (list, ma) {\n  let sum = 0\n  for (let i = 0; i < list.length; i++) {\n    const closeMa = list[i].close - ma\n    sum += closeMa * closeMa\n  }\n  const b = sum > 0\n  sum = Math.abs(sum)\n  const md = Math.sqrt(sum / list.length)\n  return b ? md : -1 * md\n}\n\n/**\n * 获取list中的最大的最高价\n *\n * @param list\n * @return\n */\nfunction getHigh (list) {\n  let high = 0\n  if (list && list.length > 0) {\n    const size = list.length\n    high = list[0].high\n    for (let i = 1; i < size; i++) {\n      high = Math.max(list[i].high, high)\n    }\n  }\n  return high\n}\n\n/**\n * 获取list中的最小的最低价\n *\n * @param list\n * @return\n */\nfunction getLow (list) {\n  let low = 0\n  if (list && list.length > 0) {\n    const size = list.length\n    low = list[0].low\n    for (let i = 1; i < size; i++) {\n      low = Math.min(list[i].low, low)\n    }\n  }\n  return low\n}\n\n/**\n * 获取最大最小值\n * @param list\n * @returns {number[]}\n */\nfunction getHighLow (list) {\n  let high = 0\n  let low = 0\n  if (list && list.length > 0) {\n    const size = list.length\n    high = list[0].high\n    low = list[0].low\n    for (let i = 1; i < size; i++) {\n      high = Math.max(list[i].high, high)\n      low = Math.min(list[i].low, low)\n    }\n  }\n  return [high, low]\n}\n\n/**\n * 检查参数\n * @param params\n */\nfunction checkParams (params) {\n  return params && isArray(params)\n}\n\n/**\n * 检查参数, 并检查参数个数\n * @param params\n * @param paramsSize\n */\nfunction checkParamsWithSize (params, paramsSize) {\n  return checkParams(params) && params.length === paramsSize\n}\n","/**\n * 默认的样式配置\n * @returns {{realTime: {timeLine: {areaFillColor: string, color: string, size: number}, averageLine: {color: string, size: number, display: boolean}}, indicator: {decreasingColor: string, lineColors: [string, string, string, string, string], increasingColor: string, lineSize: number}, yAxis: {line: {color: string, size: number, display: boolean}, display: boolean, minWidth: number, position: string, tick: {line: {size: number, color: string, display: boolean, length: number}, text: {margin: number, color: string, size: number, display: boolean, valueFormatter: null, position: string}}, separatorLine: {size: number, color: string, dashValue: number[], display: boolean, style: string}, maxWidth: number}, lowestPriceMark: {color: string, display: boolean, text: {margin: number, size: number, valueFormatter: null}}, xAxis: {minHeight: number, maxHeight: number, line: {color: string, size: number, display: boolean}, display: boolean, tick: {line: {size: number, color: string, display: boolean, length: number}, text: {margin: number, color: string, size: number, display: boolean, valueFormatter: null}}, separatorLine: {size: number, color: string, dashValue: number[], display: boolean, style: string}}, lastPriceMark: {decreasingColor: string, line: {dashValue: number[], size: number, display: boolean, style: string}, display: boolean, increasingColor: string, text: {paddingBottom: number, size: number, color: string, display: boolean, paddingRight: number, valueFormatter: null, paddingTop: number, paddingLeft: number}}, grid: boolean, marker: {line: {color: string, size: number}, text: {marginRight: number, color: string, size: number, valueFormatter: null, marginBottom: number, marginTop: number, marginLeft: number}, point: {backgroundColor: string, borderColor: string, activeBorderSize: number, activeRadius: number, activeBorderColor: string, activeBackgroundColor: string, borderSize: number, radius: number}}, candle: {decreasingColor: string, style: string, increasingColor: string}, tooltip: {data: {indicator: {text: {marginRight: number, size: number, color: string, valueFormatter: null, marginBottom: number, marginTop: number, marginLeft: number}}, displayRule: string, base: {floatRect: {fillColor: string, borderColor: string, paddingBottom: number, top: number, borderRadius: number, left: number, paddingRight: number, borderSize: number, paddingTop: number, right: number, paddingLeft: number}, values: null, showType: string, text: {marginRight: number, size: number, color: string, valueFormatter: null, marginBottom: number, marginTop: number, marginLeft: number}, labels: string[]}}, cross: {line: {dashValue: number[], size: number, color: string, style: string}, display: boolean, text: {horizontal: {borderColor: string, backgroundColor: string, paddingBottom: number, color: string, size: number, paddingRight: number, valueFormatter: null, borderSize: number, paddingTop: number, paddingLeft: number}, vertical: {borderColor: string, backgroundColor: string, paddingBottom: number, color: string, size: number, paddingRight: number, valueFormatter: null, borderSize: number, paddingTop: number, paddingLeft: number}}}}, highestPriceMark: {color: string, display: boolean, text: {margin: number, size: number, valueFormatter: null}}}}\n */\nexport function getDefaultStyle () {\n  return {\n    grid: false,\n    realTime: {\n      /**\n       * 分时线\n       */\n      timeLine: {\n        color: '#1e88e5',\n        size: 1,\n        areaFillColor: 'rgba(30, 136, 229, 0.08)'\n      },\n      /**\n       * 均线\n       */\n      averageLine: {\n        display: true,\n        color: '#F5A623',\n        size: 1\n      }\n    },\n\n    candle: {\n      /**\n       * 蜡烛样式\n       */\n      style: 'solid',\n      /**\n       * 上涨颜色\n       */\n      increasingColor: '#26A69A',\n      /**\n       * 下跌颜色\n       */\n      decreasingColor: '#EF5350'\n    },\n\n    /**\n     * 最大价格标记参数\n     */\n    highestPriceMark: {\n      display: true,\n      color: '#D9D9D9',\n      text: {\n        margin: 5,\n        size: 10,\n        valueFormatter: null\n      }\n    },\n\n    /**\n     * 最小价格标记参数\n     */\n    lowestPriceMark: {\n      display: true,\n      color: '#D9D9D9',\n      text: {\n        margin: 5,\n        size: 10,\n        valueFormatter: null\n      }\n    },\n\n    /**\n     * 最新价标记参数\n     */\n    lastPriceMark: {\n      display: true,\n      increasingColor: '#26A69A',\n      decreasingColor: '#EF5350',\n      line: {\n        display: true,\n        style: 'dash',\n        dashValue: [4, 4],\n        size: 1\n      },\n      text: {\n        display: true,\n        size: 12,\n        paddingLeft: 2,\n        paddingTop: 2,\n        paddingRight: 2,\n        paddingBottom: 2,\n        color: '#FFFFFF',\n        valueFormatter: null\n      }\n    },\n    indicator: {\n      /**\n       * 线的尺寸\n       */\n      lineSize: 1,\n      increasingColor: '#26A69A',\n      decreasingColor: '#EF5350',\n      lineColors: ['#D9D9D9', '#F5A623', '#F601FF', '#1587DD', '#1e88e5']\n    },\n    xAxis: {\n      /**\n       * 是否显示整个轴\n       */\n      display: true,\n      /**\n       * x轴最大高度\n       */\n      maxHeight: 50,\n      /**\n       * x轴最小高度\n       */\n      minHeight: 30,\n      /**\n       * 轴线配置\n       */\n      line: {\n        display: true,\n        color: '#888888',\n        size: 1\n      },\n\n      /**\n       * 分割配置\n       */\n      tick: {\n        // 文字\n        text: {\n          display: true,\n          color: '#D9D9D9',\n          size: 12,\n          margin: 3,\n          valueFormatter: null\n        },\n        // 线\n        line: {\n          display: true,\n          size: 1,\n          length: 3,\n          color: '#888888'\n        }\n      },\n\n      /**\n       * 分割线配置\n       */\n      separatorLine: {\n        display: false,\n        size: 1,\n        color: '#393939',\n        style: 'dash',\n        dashValue: [2, 2]\n      }\n    },\n    yAxis: {\n      /**\n       * 是否显示整个轴\n       */\n      display: true,\n      /**\n       * y轴位置\n       */\n      position: 'right',\n\n      /**\n       * y轴最大宽度\n       */\n      maxWidth: 80,\n\n      /**\n       * y轴最小宽度\n       */\n      minWidth: 60,\n      /**\n       * 轴线配置\n       */\n      line: {\n        display: true,\n        color: '#888888',\n        size: 1\n      },\n\n      /**\n       * 分割配置\n       */\n      tick: {\n        // 文字\n        text: {\n          display: true,\n          position: 'outside',\n          color: '#D9D9D9',\n          size: 12,\n          margin: 3,\n          valueFormatter: null\n        },\n        // 线\n        line: {\n          display: true,\n          size: 1,\n          length: 3,\n          color: '#888888'\n        }\n      },\n\n      /**\n       * 分割线配置\n       */\n      separatorLine: {\n        display: true,\n        size: 1,\n        color: '#393939',\n        style: 'dash',\n        dashValue: [2, 2]\n      }\n    },\n    tooltip: {\n      /**\n       * 光标线配置\n       */\n      cross: {\n        display: true,\n        line: {\n          style: 'dash',\n          dashValue: [2, 2],\n          size: 1,\n          color: '#888888'\n        },\n        text: {\n          horizontal: {\n            color: '#D9D9D9',\n            size: 12,\n            paddingLeft: 2,\n            paddingRight: 2,\n            paddingTop: 2,\n            paddingBottom: 2,\n            borderSize: 1,\n            borderColor: '#505050',\n            backgroundColor: '#505050',\n            valueFormatter: null\n          },\n          vertical: {\n            color: '#D9D9D9',\n            size: 12,\n            paddingLeft: 2,\n            paddingRight: 2,\n            paddingTop: 2,\n            paddingBottom: 2,\n            borderSize: 1,\n            borderColor: '#505050',\n            backgroundColor: '#505050',\n            valueFormatter: null\n          }\n        }\n      },\n\n      /**\n       * 数据配置\n       */\n      data: {\n        displayRule: 'always',\n        base: {\n          showType: 'fixed',\n          labels: ['时间', '开', '收', '高', '低', '成交量'],\n          values: null,\n          text: {\n            size: 12,\n            color: '#D9D9D9',\n            marginLeft: 8,\n            marginTop: 6,\n            marginRight: 8,\n            marginBottom: 0,\n            valueFormatter: null\n          },\n          floatRect: {\n            paddingLeft: 0,\n            paddingRight: 0,\n            paddingTop: 0,\n            paddingBottom: 6,\n            left: 8,\n            top: 8,\n            right: 8,\n            borderRadius: 4,\n            borderSize: 1,\n            borderColor: '#3f4254',\n            fillColor: 'rgba(17, 17, 17, .3)'\n          }\n        },\n        indicator: {\n          text: {\n            size: 12,\n            color: '#D9D9D9',\n            marginTop: 6,\n            marginRight: 8,\n            marginBottom: 0,\n            marginLeft: 8,\n            valueFormatter: null\n          }\n        }\n      }\n    },\n\n    marker: {\n      line: {\n        color: '#1e88e5',\n        size: 1\n      },\n      point: {\n        backgroundColor: '#1e88e5',\n        borderColor: '#1e88e5',\n        borderSize: 1,\n        radius: 4,\n        activeBackgroundColor: '#1e88e5',\n        activeBorderColor: '#1e88e5',\n        activeBorderSize: 1,\n        activeRadius: 6\n      },\n      text: {\n        color: '#1e88e5',\n        size: 12,\n        marginLeft: 2,\n        marginRight: 2,\n        marginTop: 2,\n        marginBottom: 6,\n        valueFormatter: null\n      }\n    }\n  }\n}\n\n/**\n * 默认的指标参数配置\n */\nexport function getDefaultIndicatorParams () {\n  return {\n    MA: [5, 10, 30, 60],\n    VOL: [5, 10, 20],\n    MACD: [12, 26, 9],\n    BOLL: [20],\n    KDJ: [9, 3, 3],\n    RSI: [6, 12, 24],\n    BIAS: [6, 12, 24],\n    BRAR: [26],\n    CCI: [13],\n    DMI: [14, 6],\n    CR: [26, 10, 20, 40, 60],\n    PSY: [12],\n    DMA: [10, 50, 10],\n    TRIX: [12, 20],\n    OBV: [30],\n    VR: [24, 30],\n    WR: [13, 34, 89],\n    MTM: [6, 10],\n    EMV: [14, 9],\n    SAR: [2, 2, 20]\n  }\n}\n","export function isIPad (ua) {\n  return ua.match(/(iPad).*OS\\s([\\d_]+)/)\n}\n\nexport function isIPhone (ua) {\n  return !isIPad(ua) && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/)\n}\n\nexport function isAndroid (ua) {\n  // eslint-disable-next-line no-useless-escape\n  return ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/)\n}\n\nexport function isMobile (ua) {\n  return isIPad(ua) || isIPhone(ua) || isAndroid(ua)\n}\n","import {isFunction} from \"../utils/dataUtils\"\n\nclass Event {\n  constructor (\n    tooltipChart, mainChart, volChart,\n    subIndicatorChart, xAxisChart, dataProvider\n  ) {\n    this.tooltipChart = tooltipChart\n    this.mainChart = mainChart\n    this.volChart = volChart\n    this.subIndicatorChart = subIndicatorChart\n    this.xAxisChart = xAxisChart\n    this.dataProvider = dataProvider\n    this.viewPortHandler = tooltipChart.viewPortHandler\n  }\n\n  /**\n   * 拖拽\n   * @param eventPoint\n   * @param dragX\n   * @param loadMore\n   * @returns {boolean}\n   */\n  drag (eventPoint, dragX, loadMore) {\n    const dataSpace = this.dataProvider.dataSpace\n    const dataSize = this.dataProvider.dataList.length\n    const range = this.dataProvider.range\n    let minPos = this.dataProvider.minPos\n    const moveDist = dragX - eventPoint.x\n    if (moveDist > dataSpace / 2) {\n      if (minPos === 0 || dataSize < range) {\n        return false\n      }\n\n      eventPoint.x = dragX\n\n      let moveRange = +Math.abs(moveDist / dataSpace).toFixed(0)\n      if (moveRange === 0) {\n        moveRange = 1\n      }\n\n      minPos -= moveRange\n      if (minPos < 0) {\n        minPos = 0\n      }\n      this.dataProvider.minPos = minPos\n      this.mainChart.flush()\n      this.volChart.flush()\n      this.subIndicatorChart.flush()\n      this.xAxisChart.flush()\n      if (minPos === 0) {\n        loadMore()\n      }\n      return true\n    } else if (moveDist < 0 - dataSpace / 2) {\n      if (minPos + range === dataSize || dataSize < range) {\n        return false\n      }\n\n      eventPoint.x = dragX\n\n      let moveRange = +Math.abs(moveDist / dataSpace).toFixed(0)\n      if (moveRange === 0) {\n        moveRange = 1\n      }\n\n      minPos += moveRange\n      if (minPos >= dataSize - range) {\n        minPos = dataSize - range\n      }\n      this.dataProvider.minPos = minPos\n      this.mainChart.flush()\n      this.volChart.flush()\n      this.subIndicatorChart.flush()\n      this.xAxisChart.flush()\n      return true\n    }\n    return false\n  }\n\n  /**\n   * 缩放\n   * @param isZoomingOut\n   * @param scaleX\n   * @param touchStartPosition\n   * @param touchRange\n   * @returns {boolean}\n   */\n  zoom (isZoomingOut, scaleX, touchStartPosition, touchRange) {\n    let range = this.dataProvider.range\n    const maxRange = this.dataProvider.maxRange\n    const minRange = this.dataProvider.minRange\n    if (isZoomingOut) {\n      if (range >= maxRange) {\n        // 无法继续缩小\n        return false\n      }\n    } else {\n      if (range <= minRange) {\n        // 无法继续放大\n        return false\n      }\n    }\n\n    // 计算缩放后的range大小\n    range = +(touchRange / scaleX).toFixed(0)\n\n    range = Math.min(Math.max(range, minRange), maxRange)\n    let minPos = touchStartPosition + touchRange - range\n\n    if (minPos + range > this.dataProvider.dataList.length || minPos < 0) {\n      minPos = 0\n    }\n    this.dataProvider.range = range\n    this.dataProvider.minPos = minPos\n    this.dataProvider.space(this.viewPortHandler.contentRight() - this.viewPortHandler.contentLeft())\n    this.mainChart.flush()\n    this.volChart.flush()\n    this.subIndicatorChart.flush()\n    this.xAxisChart.flush()\n    return true\n  }\n\n  /**\n   * 十字光标\n   * @param point\n   */\n  cross (point) {\n    this.dataProvider.crossPoint = { x: point.x, y: point.y }\n    this.dataProvider.calcCurrentTooltipDataPos(this.viewPortHandler.contentLeft(), point.x)\n    this.tooltipChart.flush()\n  }\n}\n\nexport default Event\n","/**\n * 是否是有效事件\n * @param point\n * @param viewPortHandler\n * @returns {boolean}\n */\nexport function isValidEvent (point, viewPortHandler) {\n  return !(point.x < viewPortHandler.contentLeft() ||\n    point.x > viewPortHandler.contentRight() ||\n    point.y < viewPortHandler.contentTop() ||\n    point.y > viewPortHandler.contentBottom())\n}\n\n/**\n * 获取事件对应画布上的点\n * @param e\n * @param canvasDom\n * @returns {{x: number, y: number}}\n */\nexport function getCanvasPoint (e, canvasDom) {\n  const rect = canvasDom.getBoundingClientRect()\n  const x = Math.round(e.clientX - rect.left)\n  const y = Math.round(e.clientY - rect.top)\n  return { x: x, y: y }\n}\n\n/**\n * 阻止事件\n * @param e\n */\nexport function stopEvent (e) {\n  if (e && e.stopPropagation) {\n    e.stopPropagation()\n  } else {\n    window.event.cancelBubble = true\n  }\n  if (e && e.preventDefault) {\n    e.preventDefault()\n  } else {\n    window.event.returnValue = false\n  }\n}\n\n/**\n * 两点之间的距离\n * @param eventX\n * @param startX\n * @param eventY\n * @param startY\n * @returns {*}\n */\nexport function distance (eventX, startX, eventY, startY) {\n  const dx = eventX - startX\n  const dy = eventY - startY\n  return Math.sqrt(dx * dx + dy * dy)\n}\n\n/**\n * 计算移动距离\n * @param e\n * @param canvasDom\n * @returns {number}\n */\nexport function spacing (e, canvasDom) {\n  if (e.targetTouches.length < 2) {\n    return 0\n  }\n  const point1 = getCanvasPoint(e.targetTouches[0], canvasDom)\n  const point2 = getCanvasPoint(e.targetTouches[1], canvasDom)\n  const x = Math.abs(point1.x - point2.x)\n  const y = Math.abs(point1.y - point2.y)\n  return Math.sqrt(x * x + y * y)\n}\n\n/**\n * 获取两点间x的距离\n * @param e\n * @param canvasDom\n * @returns {number}\n */\nexport function getXDist (e, canvasDom) {\n  const point1 = getCanvasPoint(e.targetTouches[0], canvasDom)\n  const point2 = getCanvasPoint(e.targetTouches[1], canvasDom)\n  return Math.abs(point1.x - point2.y)\n}\n","import Event from './Event'\nimport { isValidEvent, stopEvent, distance, getXDist, spacing, getCanvasPoint } from './eventHelper'\n\n/**\n * 无\n */\nconst TOUCH_NO = 0\n\n/**\n * 拖拽\n */\nconst TOUCH_DRAG = 1\n\n/**\n * 缩放\n */\nconst TOUCH_ZOOM = 2\n\n/**\n *\n */\nconst TOUCH_POST_ZOOM = 3\n\n/**\n * 十字光标\n */\nconst TOUCH_CROSS = 4\n\n/**\n * 十字光标取消\n */\nconst TOUCH_CROSS_CANCEL = 5\n\nclass TouchEvent extends Event {\n  constructor (\n    tooltipChart, mainChart, volChart,\n    subIndicatorChart, xAxisChart, dataProvider\n  ) {\n    super(tooltipChart, mainChart, volChart, subIndicatorChart, xAxisChart, dataProvider)\n    // 事件模型\n    this.touchMode = TOUCH_NO\n    this.touchStartPoint = { x: 0, y: 0 }\n    this.touchMovePoint = { x: 0, y: 0 }\n    this.touchCrossPoint = { x: 0, y: 0 }\n    this.savedDist = 1\n    this.savedXDist = 1\n    this.touchRange = dataProvider.range\n    this.touchStartPosition = dataProvider.minPos\n    this.delayTimeout = null\n    this.delayActiveCross = () => {\n      if (this.touchMode === TOUCH_NO || this.touchMode === TOUCH_CROSS_CANCEL) {\n        if (this.tooltipChart) {\n          this.touchMode = TOUCH_CROSS\n          this.touchCrossPoint = { x: this.touchStartPoint.x, y: this.touchStartPoint.y }\n          this.cross(this.touchCrossPoint)\n        }\n      }\n    }\n  }\n\n  /**\n   * 触摸事件开始\n   * @param e\n   */\n  touchStart (e) {\n    if (this.dataProvider.dataList.length === 0) {\n      return\n    }\n    if (e.targetTouches.length === 1) {\n      const point = getCanvasPoint(e.targetTouches[0], this.tooltipChart.canvasDom)\n      this.touchStartPoint = { x: point.x, y: point.y }\n      this.touchMovePoint = { x: point.x, y: point.y }\n      if (!isValidEvent(this.touchStartPoint, this.viewPortHandler)) {\n        return\n      }\n      if (this.touchMode === TOUCH_CROSS) {\n        stopEvent(e)\n        const crossRadius = distance(point.x, this.touchCrossPoint.x, point.y, this.touchCrossPoint.y)\n        if (crossRadius < 10) {\n          this.performCross(e)\n        } else {\n          this.touchMode = TOUCH_CROSS_CANCEL\n          this.dataProvider.crossPoint = null\n          this.tooltipChart.flush()\n        }\n      } else {\n        this.touchMode = TOUCH_NO\n      }\n      this.removeDelayActiveCross()\n      this.postDelayDelayActiveCross()\n    } else if (e.targetTouches.length > 1) {\n      if (!isValidEvent(this.touchStartPoint, this.viewPortHandler)) {\n        return\n      }\n      if (this.touchMode !== TOUCH_CROSS) {\n        stopEvent(e)\n        this.savedDist = spacing(e, this.tooltipChart.canvasDom)\n        this.savedXDist = getXDist(e, this.tooltipChart.canvasDom)\n        if (this.savedDist > 3) {\n          this.touchMode = TOUCH_ZOOM\n        }\n        this.touchRange = this.dataProvider.range\n        this.touchStartPosition = this.dataProvider.minPos\n      }\n    }\n  }\n\n  /**\n   * 触摸事件移动\n   * @param e\n   * @param loadMore\n   */\n  touchMove (e, loadMore) {\n    if (!isValidEvent(this.touchStartPoint, this.viewPortHandler) || this.dataProvider.dataList.length === 0) {\n      return\n    }\n    if (!this.waitingForMouseMoveAnimationFrame) {\n      this.waitingForMouseMoveAnimationFrame = true\n      switch (this.touchMode) {\n        case TOUCH_ZOOM: {\n          stopEvent(e)\n          this.performZoom(e)\n          break\n        }\n        case TOUCH_DRAG: {\n          stopEvent(e)\n          const point = getCanvasPoint(e.targetTouches[0], this.tooltipChart.canvasDom)\n          this.drag(this.touchMovePoint, point.x, loadMore)\n          break\n        }\n        case TOUCH_CROSS: {\n          stopEvent(e)\n          this.performCross(e)\n          break\n        }\n        case TOUCH_CROSS_CANCEL: {\n          this.removeDelayActiveCross()\n          break\n        }\n        case TOUCH_NO: {\n          const point = getCanvasPoint(e.targetTouches[0], this.tooltipChart.canvasDom)\n          const dis = Math.abs(distance(point.x, this.touchStartPoint.x, point.y, this.touchStartPoint.y))\n          if (dis > 10) {\n            const distanceX = Math.abs(point.x - this.touchStartPoint.x)\n            const distanceY = Math.abs(point.y - this.touchStartPoint.y)\n            if (distanceY <= distanceX) {\n              stopEvent(e)\n              this.dataProvider.crossPoint = null\n              this.touchMode = TOUCH_DRAG\n              this.tooltipChart.flush()\n            }\n          }\n          this.removeDelayActiveCross()\n        }\n      }\n      this.waitingForMouseMoveAnimationFrame = false\n    }\n  }\n\n  /**\n   * 触摸事件结束\n   * @param e\n   */\n  touchEnd (e) {\n    if (!isValidEvent(this.touchStartPoint, this.viewPortHandler) || this.dataProvider.dataList.length === 0) {\n      return\n    }\n    stopEvent(e)\n    if (e.targetTouches.length > 0) {\n      if (this.touchMode === TOUCH_CROSS) {\n        this.performCross(e)\n      } else {\n        this.touchMode = TOUCH_POST_ZOOM\n      }\n    } else {\n      this.removeDelayActiveCross()\n      if (this.touchMode !== TOUCH_CROSS) {\n        // 拿起\n        this.touchMode = TOUCH_NO\n        this.dataProvider.crossPoint = null\n        this.tooltipChart.flush()\n      }\n    }\n  }\n\n  /**\n   * 处理缩放\n   * @param e\n   * @returns {boolean}\n   */\n  performZoom (e) {\n    if (this.dataProvider.dataList.length === 0) {\n      return false\n    }\n    if (e.targetTouches.length > 1) {\n      const totalDist = spacing(e, this.tooltipChart.canvasDom)\n      if (totalDist > 10) {\n        const xDist = getXDist(e, this.tooltipChart.canvasDom)\n        // x轴方向 scale\n        const scaleX = xDist / this.savedXDist\n\n        // 是否缩小\n        const isZoomingOut = scaleX < 1\n        this.zoom(isZoomingOut, scaleX, this.touchStartPosition, this.touchRange)\n      }\n    }\n  }\n\n  /**\n   * 处理移动光标\n   * @param e\n   * @returns {boolean}\n   */\n  performCross (e) {\n    if (this.dataProvider.dataList.length === 0) {\n      return false\n    }\n    const point = getCanvasPoint(e.targetTouches[0], this.tooltipChart.canvasDom)\n    this.touchCrossPoint = { x: point.x, y: point.y }\n    this.cross(this.touchCrossPoint)\n  }\n\n  /**\n   * 执行延迟事件\n   */\n  postDelayDelayActiveCross () {\n    this.delayTimeout = setTimeout(this.delayActiveCross, 200)\n  }\n\n  /**\n   * 移除延迟事件\n   */\n  removeDelayActiveCross () {\n    if (this.delayTimeout) {\n      clearTimeout(this.delayTimeout)\n      this.delayTimeout = null\n    }\n  }\n}\nexport default TouchEvent\n","import Event from './Event'\nimport { stopEvent, isValidEvent, getCanvasPoint } from './eventHelper'\n\nconst CROSS = 'cross'\nconst DRAG = 'drag'\n\nclass MouseEvent extends Event {\n  constructor (\n    tooltipChart, mainChart, volChart,\n    subIndicatorChart, xAxisChart,\n    markerChart, dataProvider\n  ) {\n    super(tooltipChart, mainChart, volChart, subIndicatorChart, xAxisChart, dataProvider)\n    this.markerChart = markerChart\n    // 事件模型\n    this.mouseMode = CROSS\n    this.mouseDownPoint = { x: 0, y: 0 }\n    this.documentMouseUp = () => {\n      document.removeEventListener('mouseup', this.documentMouseUp, false)\n      this.mouseMode = CROSS\n      this.dataProvider.isDragMarker = false\n      this.tooltipChart.flush()\n    }\n  }\n\n  /**\n   * 鼠标按下事件\n   * @param e\n   */\n  mouseDown (e) {\n    if (this.dataProvider.dataList.length === 0) {\n      return\n    }\n    if (e.button === 0) {\n      const point = getCanvasPoint(e, this.tooltipChart.canvasDom)\n      if (!isValidEvent(point, this.viewPortHandler)) {\n        return\n      }\n      document.addEventListener('mouseup', this.documentMouseUp, false)\n      this.mouseDownPoint.x = e.x\n      this.mouseDownPoint.y = e.y\n      this.mouseMode = DRAG\n      this.dataProvider.crossPoint = null\n      this.tooltipChart.flush()\n    }\n  }\n\n  /**\n   * 鼠标抬起时事件\n   * @param e\n   */\n  mouseUp (e) {\n    if (this.dataProvider.dataList.length === 0) {\n      return\n    }\n    stopEvent(e)\n    const point = getCanvasPoint(e, this.tooltipChart.canvasDom)\n    if (!isValidEvent(point, this.viewPortHandler)) {\n      return\n    }\n    document.removeEventListener('mouseup', this.documentMouseUp, false)\n    this.mouseMode = CROSS\n    this.dataProvider.crossPoint = { x: point.x, y: point.y }\n    this.dataProvider.isDragMarker = false\n    this.tooltipChart.flush()\n  }\n\n  mouseLeave (e) {\n    if (this.dataProvider.dataList.length === 0) {\n      return\n    }\n    stopEvent(e)\n    this.dataProvider.crossPoint = null\n    this.tooltipChart.flush()\n  }\n\n  /**\n   * 鼠标移动时事件\n   * @param e\n   * @param loadMore\n   */\n  mouseMove (e, loadMore) {\n    if (this.dataProvider.dataList.length === 0) {\n      return\n    }\n    stopEvent(e)\n    const point = getCanvasPoint(e, this.tooltipChart.canvasDom)\n    if (!isValidEvent(point, this.viewPortHandler)) {\n      this.dataProvider.crossPoint = null\n      this.tooltipChart.flush()\n      return\n    }\n    if (!this.waitingForMouseMoveAnimationFrame) {\n      this.waitingForMouseMoveAnimationFrame = true\n      if (this.mouseMode === DRAG) {\n        if (this.dataProvider.isDragMarker) {\n          this.cross(point)\n        } else {\n          if (this.drag(this.mouseDownPoint, e.x, loadMore)) {\n            this.markerChart.flush()\n          }\n        }\n      } else if (this.mouseMode === CROSS) {\n        this.cross(point)\n      }\n      this.waitingForMouseMoveAnimationFrame = false\n    }\n  }\n\n  /**\n   * 鼠标滚轮事件\n   * @param e\n   */\n  mouseWheel (e) {\n    if (this.dataProvider.dataList.length === 0 || this.dataProvider.isDragMarker) {\n      return\n    }\n    stopEvent(e)\n    const point = getCanvasPoint(e, this.tooltipChart.canvasDom)\n    if (!isValidEvent(point, this.viewPortHandler)) {\n      return\n    }\n    const touchStartPosition = this.dataProvider.minPos\n    const touchRange = this.dataProvider.range\n    const delta = Math.max(-1, Math.min(1, (e.wheelDelta || -e.deltaY)))\n    // 是否缩小\n    const isZoomingOut = delta === 1\n    let scaleX = 1\n    if (isZoomingOut) {\n      scaleX = 0.95\n    } else {\n      scaleX = 1.05\n    }\n    if (this.zoom(isZoomingOut, scaleX, touchStartPosition, touchRange)) {\n      this.cross(point)\n      this.markerChart.flush()\n    }\n  }\n}\n\nexport default MouseEvent\n","import { getCanvasPoint, isValidEvent } from './eventHelper'\nimport {\n  checkPointOnCircle, checkPointOnStraightLine,\n  checkPointOnRayLine, checkPointOnSegmentLine,\n  getParallelLines, getFibonacciLines\n} from '../utils/markerMapUtils'\nimport { isFunction } from '../utils/dataUtils'\nimport { MarkerDrawStep, MarkerType } from '../constants'\n\nclass MarkerEvent {\n  constructor (dataProvider, markerChart, style) {\n    this.dataProvider = dataProvider\n    this.markerChart = markerChart\n    this.viewPortHandler = markerChart.viewPortHandler\n    this.yRender = markerChart.markerRender.yRender\n    this.style = style\n    // 标记当没有画线时鼠标是否按下\n    this.noneMarkerMouseDownFlag = false\n\n    // 用来记录当没有绘制标记图形时，鼠标操作后落点线上的数据\n    this.noneMarkerMouseDownActiveData = {\n      markerKey: null,\n      dataIndex: -1,\n      onLine: false,\n      onCircle: false,\n      pointIndex: -1\n    }\n  }\n\n  /**\n   * 鼠标抬起事件\n   */\n  mouseUp () {\n    this.noneMarkerMouseDownFlag = false\n    this.noneMarkerMouseDownActiveData = {\n      markerKey: null,\n      dataIndex: -1,\n      onLine: false,\n      onCircle: false,\n      pointIndex: -1\n    }\n  }\n\n  /**\n   * 鼠标按下事件\n   * @param e\n   */\n  mouseDown (e) {\n    const point = getCanvasPoint(e, this.markerChart.canvasDom)\n    this.dataProvider.markerPoint = { ...point }\n    if (!isValidEvent(point, this.viewPortHandler)) {\n      return\n    }\n    const markerType = this.dataProvider.currentMarkerType\n    switch (markerType) {\n      case MarkerType.HORIZONTAL_STRAIGHT_LINE:\n      case MarkerType.VERTICAL_STRAIGHT_LINE:\n      case MarkerType.STRAIGHT_LINE:\n      case MarkerType.HORIZONTAL_RAY_LINE:\n      case MarkerType.VERTICAL_RAY_LINE:\n      case MarkerType.RAY_LINE:\n      case MarkerType.HORIZONTAL_SEGMENT_LINE:\n      case MarkerType.VERTICAL_SEGMENT_LINE:\n      case MarkerType.SEGMENT_LINE:\n      case MarkerType.PRICE_LINE:\n      case MarkerType.FIBONACCI_LINE: {\n        this.twoStepMarkerMouseDown(e, markerType)\n        break\n      }\n      case MarkerType.PRICE_CHANNEL_LINE:\n      case MarkerType.PARALLEL_STRAIGHT_LINE: {\n        this.threeStepMarkerMouseDown(e, markerType)\n        break\n      }\n      case MarkerType.NONE: {\n        this.noneMarkerMouseDown(e)\n        break\n      }\n    }\n  }\n\n  /**\n   * 两步形成的标记图形鼠标按下处理\n   * @param e\n   * @param markerKey\n   */\n  twoStepMarkerMouseDown (e, markerKey) {\n    this.markerMouseDown(e, markerKey, (lastLineData) => {\n      switch (lastLineData.drawStep) {\n        case MarkerDrawStep.STEP_1: {\n          lastLineData.drawStep = MarkerDrawStep.STEP_2\n          break\n        }\n        case MarkerDrawStep.STEP_2: {\n          lastLineData.drawStep = MarkerDrawStep.STEP_DONE\n          this.dataProvider.currentMarkerType = MarkerType.NONE\n          break\n        }\n      }\n    })\n  }\n\n  /**\n   * 两个点形成的标记图形鼠标按下事件\n   * @param e\n   * @param markerKey\n   */\n  threeStepMarkerMouseDown (e, markerKey) {\n    this.markerMouseDown(e, markerKey, (lastLineData) => {\n      switch (lastLineData.drawStep) {\n        case MarkerDrawStep.STEP_1: {\n          lastLineData.drawStep = MarkerDrawStep.STEP_2\n          break\n        }\n        case MarkerDrawStep.STEP_2: {\n          lastLineData.drawStep = MarkerDrawStep.STEP_3\n          break\n        }\n        case MarkerDrawStep.STEP_3: {\n          lastLineData.drawStep = MarkerDrawStep.STEP_DONE\n          this.dataProvider.currentMarkerType = MarkerType.NONE\n          break\n        }\n      }\n    })\n  }\n\n  /**\n   * 绘制标记图形时鼠标按下事件\n   * @param e\n   * @param markerKey\n   * @param performDifPoint\n   */\n  markerMouseDown (e, markerKey, performDifPoint) {\n    const markerData = this.dataProvider.markerDatas[markerKey]\n    if (e.button === 2) {\n      markerData.splice(markerData.length - 1, 1)\n      this.dataProvider.currentMarkerType = MarkerType.NONE\n    } else {\n      const lastLineData = markerData[markerData.length - 1]\n      performDifPoint(lastLineData)\n      markerData[markerData.length - 1] = lastLineData\n    }\n    this.dataProvider.markerDatas[markerKey] = markerData\n    this.markerChart.flush()\n  }\n\n  /**\n   * 没有绘制时鼠标按下事件\n   */\n  noneMarkerMouseDown (e) {\n    this.findNoneMarkerMouseDownActiveData(e)\n    const markerKey = this.noneMarkerMouseDownActiveData.markerKey\n    const dataIndex = this.noneMarkerMouseDownActiveData.dataIndex\n    if (markerKey && dataIndex !== -1) {\n      if (e.button === 2) {\n        // 鼠标右键\n        const markerData = this.dataProvider.markerDatas[markerKey]\n        markerData.splice(dataIndex, 1)\n        this.dataProvider.markerDatas[markerKey] = markerData\n        this.markerChart.flush()\n      } else {\n        if (this.noneMarkerMouseDownActiveData.onCircle) {\n          this.noneMarkerMouseDownFlag = true\n          this.dataProvider.isDragMarker = true\n        }\n      }\n    }\n  }\n\n  /**\n   * 查找没有绘制时鼠标按下时在哪条数据上\n   * @param e\n   */\n  findNoneMarkerMouseDownActiveData (e) {\n    const point = getCanvasPoint(e, this.markerChart.canvasDom)\n    const keys = Object.keys(this.dataProvider.markerDatas)\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      switch (key) {\n        case MarkerType.HORIZONTAL_STRAIGHT_LINE:\n        case MarkerType.PRICE_LINE: {\n          if (this.realFindNoneMarkerMouseDownActiveData(key, point, (xyPoints) => {\n            return checkPointOnStraightLine(\n              xyPoints[0], { x: this.viewPortHandler.contentRight(), y: xyPoints[0].y }, point\n            )\n          })) {\n            return\n          }\n          break\n        }\n        case MarkerType.VERTICAL_STRAIGHT_LINE: {\n          if (this.realFindNoneMarkerMouseDownActiveData(key, point, (xyPoints) => {\n            return checkPointOnStraightLine(\n              xyPoints[0], { x: xyPoints[0].x, y: this.viewPortHandler.contentBottom() }, point\n            )\n          })) {\n            return\n          }\n          break\n        }\n        case MarkerType.STRAIGHT_LINE: {\n          if (this.realFindNoneMarkerMouseDownActiveData(key, point, (xyPoints) => {\n            return checkPointOnStraightLine(xyPoints[0], xyPoints[1], point)\n          })) {\n            return\n          }\n          break\n        }\n        case MarkerType.HORIZONTAL_RAY_LINE:\n        case MarkerType.VERTICAL_RAY_LINE:\n        case MarkerType.RAY_LINE: {\n          if (this.realFindNoneMarkerMouseDownActiveData(key, point, (xyPoints) => {\n            return checkPointOnRayLine(xyPoints[0], xyPoints[1], point)\n          })) {\n            return\n          }\n          break\n        }\n        case MarkerType.HORIZONTAL_SEGMENT_LINE:\n        case MarkerType.VERTICAL_SEGMENT_LINE:\n        case MarkerType.SEGMENT_LINE: {\n          if (this.realFindNoneMarkerMouseDownActiveData(key, point, (xyPoints) => {\n            return checkPointOnSegmentLine(xyPoints[0], xyPoints[1], point)\n          })) {\n            return\n          }\n          break\n        }\n        case MarkerType.PRICE_CHANNEL_LINE:\n        case MarkerType.PARALLEL_STRAIGHT_LINE:\n        case MarkerType.FIBONACCI_LINE: {\n          if (this.realFindNoneMarkerMouseDownActiveData(key, point, (xyPoints) => {\n            let linePoints = []\n            switch (key) {\n              case MarkerType.PRICE_CHANNEL_LINE: {\n                linePoints = getParallelLines(xyPoints, this.viewPortHandler, true)\n                break\n              }\n              case MarkerType.PARALLEL_STRAIGHT_LINE: {\n                linePoints = getParallelLines(xyPoints, this.viewPortHandler)\n                break\n              }\n              case MarkerType.FIBONACCI_LINE: {\n                linePoints = getFibonacciLines(xyPoints, this.viewPortHandler)\n                break\n              }\n            }\n            let isOnMarker = false\n            for (let i = 0; i < linePoints.length; i++) {\n              const points = linePoints[i]\n              isOnMarker = checkPointOnStraightLine(points[0], points[1], point)\n              if (isOnMarker) {\n                return isOnMarker\n              }\n            }\n            return isOnMarker\n          })) {\n            return\n          }\n          break\n        }\n      }\n    }\n  }\n\n  /**\n   * 查找没有绘制图时鼠标按下时落点在哪条数据上\n   * @param markerKey\n   * @param point\n   * @param checkPointOnLine\n   * @returns {boolean}\n   */\n  realFindNoneMarkerMouseDownActiveData (markerKey, point, checkPointOnLine) {\n    const markerData = this.dataProvider.markerDatas[markerKey]\n    markerData.forEach((data, index) => {\n      const points = data.points\n      const xyPoints = []\n      let isOnCircle = false\n      let pointIndex = -1\n      points.forEach((p, i) => {\n        const x = (p.xPos - this.dataProvider.minPos) * this.dataProvider.dataSpace\n        const y = this.yRender.getY(p.price)\n        xyPoints.push({ x, y })\n        const isOn = checkPointOnCircle({ x, y }, this.style.marker.point.radius, point)\n        if (isOn) {\n          pointIndex = i\n        }\n        if (!isOnCircle) {\n          isOnCircle = isOn\n        }\n      })\n      const isOnLine = checkPointOnLine(xyPoints, point)\n      if (isOnLine || isOnCircle) {\n        this.noneMarkerMouseDownActiveData = {\n          markerKey: markerKey,\n          dataIndex: index,\n          onLine: isOnLine,\n          onCircle: isOnCircle,\n          pointIndex\n        }\n        return true\n      }\n    })\n    return false\n  }\n\n  /**\n   * 鼠标移动事件\n   */\n  mouseMove (e) {\n    const point = getCanvasPoint(e, this.markerChart.canvasDom)\n    this.dataProvider.markerPoint = { ...point }\n    if (!isValidEvent(point, this.viewPortHandler)) {\n      return\n    }\n    if (!this.waitingForMouseMoveAnimationFrame) {\n      this.waitingForMouseMoveAnimationFrame = true\n      const markerType = this.dataProvider.currentMarkerType\n      switch (markerType) {\n        case MarkerType.HORIZONTAL_STRAIGHT_LINE:\n        case MarkerType.VERTICAL_STRAIGHT_LINE:\n        case MarkerType.PRICE_LINE: {\n          this.onePointMarkerMouseMove(point, markerType)\n          break\n        }\n        case MarkerType.STRAIGHT_LINE:\n        case MarkerType.RAY_LINE:\n        case MarkerType.SEGMENT_LINE:\n        case MarkerType.FIBONACCI_LINE: {\n          this.twoPointMarkerMouseMove(point, markerType)\n          break\n        }\n        case MarkerType.HORIZONTAL_RAY_LINE:\n        case MarkerType.HORIZONTAL_SEGMENT_LINE: {\n          this.twoPointMarkerMouseMove(point, markerType, (lastLineData, { price }) => {\n            lastLineData.points[0].price = price\n          })\n          break\n        }\n        case MarkerType.VERTICAL_RAY_LINE:\n        case MarkerType.VERTICAL_SEGMENT_LINE: {\n          this.twoPointMarkerMouseMove(point, markerType, (lastLineData, { xPos }) => {\n            lastLineData.points[0].xPos = xPos\n          })\n          break\n        }\n        case MarkerType.PRICE_CHANNEL_LINE:\n        case MarkerType.PARALLEL_STRAIGHT_LINE: {\n          this.threePointMarkerMouseMove(point, markerType)\n          break\n        }\n        case MarkerType.NONE: {\n          this.noneMarkerMouseMove(point)\n          break\n        }\n      }\n      this.waitingForMouseMoveAnimationFrame = false\n    }\n  }\n\n  /**\n   * 一个点形成的图形鼠标移动事件\n   * @param point\n   * @param markerKey\n   */\n  onePointMarkerMouseMove (point, markerKey) {\n    this.markerMouseMove(point, markerKey, (markerData, lastLineData) => {\n      const xPos = this.dataProvider.minPos + (point.x - this.viewPortHandler.contentLeft()) / this.dataProvider.dataSpace\n      const price = this.yRender.getValue(point.y)\n      switch (lastLineData.drawStep) {\n        case MarkerDrawStep.STEP_DONE: {\n          markerData.push({ points: [{ xPos, price }], drawStep: MarkerDrawStep.STEP_1 })\n          break\n        }\n        case MarkerDrawStep.STEP_1:\n        case MarkerDrawStep.STEP_2: {\n          lastLineData.points[0].xPos = xPos\n          lastLineData.points[0].price = price\n          markerData[markerData.length - 1] = lastLineData\n          break\n        }\n      }\n    })\n  }\n\n  /**\n   * 两个点形成的线鼠标移动事件\n   * @param point\n   * @param markerKey\n   * @param stepTwo\n   */\n  twoPointMarkerMouseMove (point, markerKey, stepTwo) {\n    this.markerMouseMove(point, markerKey, (markerData, lastLineData) => {\n      const xPos = this.dataProvider.minPos + (point.x - this.viewPortHandler.contentLeft()) / this.dataProvider.dataSpace\n      const price = this.yRender.getValue(point.y)\n      switch (lastLineData.drawStep) {\n        case MarkerDrawStep.STEP_DONE: {\n          markerData.push({ points: [{ xPos, price }, { xPos, price }], drawStep: MarkerDrawStep.STEP_1 })\n          break\n        }\n        case MarkerDrawStep.STEP_1: {\n          lastLineData.points[0] = { xPos, price }\n          lastLineData.points[1] = { xPos, price }\n          markerData[markerData.length - 1] = lastLineData\n          break\n        }\n        case MarkerDrawStep.STEP_2: {\n          lastLineData.points[1] = { xPos, price }\n          if (isFunction(stepTwo)) {\n            stepTwo(lastLineData, { xPos, price })\n          }\n          markerData[markerData.length - 1] = lastLineData\n          break\n        }\n      }\n    })\n  }\n\n  /**\n   * 三步形成的标记图形鼠标移动事件\n   * @param point\n   * @param markerKey\n   * @param stepTwo\n   */\n  threePointMarkerMouseMove (point, markerKey, stepTwo) {\n    this.markerMouseMove(point, markerKey, (markerData, lastLineData) => {\n      const xPos = this.dataProvider.minPos + (point.x - this.viewPortHandler.contentLeft()) / this.dataProvider.dataSpace\n      const price = this.yRender.getValue(point.y)\n      switch (lastLineData.drawStep) {\n        case MarkerDrawStep.STEP_DONE: {\n          markerData.push({ points: [{ xPos, price }, { xPos, price }], drawStep: MarkerDrawStep.STEP_1 })\n          break\n        }\n        case MarkerDrawStep.STEP_1: {\n          lastLineData.points[0] = { xPos, price }\n          lastLineData.points[1] = { xPos, price }\n          markerData[markerData.length - 1] = lastLineData\n          break\n        }\n        case MarkerDrawStep.STEP_2: {\n          if (isFunction(stepTwo)) {\n            stepTwo(lastLineData, { xPos, price })\n          }\n          lastLineData.points[1] = { xPos, price }\n          markerData[markerData.length - 1] = lastLineData\n          break\n        }\n        case MarkerDrawStep.STEP_3: {\n          lastLineData.points[2] = { xPos, price }\n          markerData[markerData.length - 1] = lastLineData\n          break\n        }\n      }\n    })\n  }\n\n  /**\n   * 绘制标记图形时鼠标移动事件\n   * @param point\n   * @param markerKey\n   * @param performDifPoint\n   */\n  markerMouseMove (point, markerKey, performDifPoint) {\n    const markerData = this.dataProvider.markerDatas[markerKey]\n    const lastLineData = markerData[markerData.length - 1] || { drawStep: MarkerDrawStep.STEP_DONE }\n    performDifPoint(markerData, lastLineData)\n    this.dataProvider.markerDatas[markerKey] = markerData\n    this.markerChart.flush()\n  }\n\n  /**\n   * 没有绘制标记时鼠标移动事件\n   * @param point\n   */\n  noneMarkerMouseMove (point) {\n    if (this.noneMarkerMouseDownFlag) {\n      const markerKey = this.noneMarkerMouseDownActiveData.markerKey\n      const dataIndex = this.noneMarkerMouseDownActiveData.dataIndex\n      if (markerKey && dataIndex !== -1) {\n        const markerData = this.dataProvider.markerDatas[markerKey]\n        switch (markerKey) {\n          case MarkerType.HORIZONTAL_STRAIGHT_LINE:\n          case MarkerType.VERTICAL_STRAIGHT_LINE:\n          case MarkerType.PRICE_LINE:\n          case MarkerType.STRAIGHT_LINE:\n          case MarkerType.RAY_LINE:\n          case MarkerType.SEGMENT_LINE:\n          case MarkerType.PRICE_CHANNEL_LINE:\n          case MarkerType.PARALLEL_STRAIGHT_LINE:\n          case MarkerType.FIBONACCI_LINE: {\n            const pointIndex = this.noneMarkerMouseDownActiveData.pointIndex\n            if (pointIndex !== -1) {\n              markerData[dataIndex].points[pointIndex].xPos = (point.x - this.viewPortHandler.contentLeft()) / this.dataProvider.dataSpace + this.dataProvider.minPos\n              markerData[dataIndex].points[pointIndex].price = this.yRender.getValue(point.y)\n            }\n            break\n          }\n          case MarkerType.HORIZONTAL_RAY_LINE:\n          case MarkerType.HORIZONTAL_SEGMENT_LINE: {\n            const pointIndex = this.noneMarkerMouseDownActiveData.pointIndex\n            if (pointIndex !== -1) {\n              const price = this.yRender.getValue(point.y)\n              markerData[dataIndex].points[pointIndex].xPos = (point.x - this.viewPortHandler.contentLeft()) / this.dataProvider.dataSpace + this.dataProvider.minPos\n              markerData[dataIndex].points[0].price = price\n              markerData[dataIndex].points[1].price = price\n            }\n            break\n          }\n          case MarkerType.VERTICAL_RAY_LINE:\n          case MarkerType.VERTICAL_SEGMENT_LINE: {\n            const pointIndex = this.noneMarkerMouseDownActiveData.pointIndex\n            if (pointIndex !== -1) {\n              const xPos = (point.x - this.viewPortHandler.contentLeft()) / this.dataProvider.dataSpace + this.dataProvider.minPos\n              markerData[dataIndex].points[0].xPos = xPos\n              markerData[dataIndex].points[1].xPos = xPos\n              markerData[dataIndex].points[pointIndex].price = this.yRender.getValue(point.y)\n            }\n            break\n          }\n        }\n        this.dataProvider.markerDatas[markerKey] = markerData\n      }\n    }\n    this.markerChart.flush()\n  }\n}\n\nexport default MarkerEvent\n","import Event from './Event'\nimport { stopEvent } from './eventHelper'\n\nclass KeyboardEvent extends Event {\n  constructor (\n    mainChart, volChart, subIndicatorChart,\n    tooltipChart, markerChart, xAxisChart, dataProvider\n  ) {\n    super(tooltipChart, mainChart, volChart, subIndicatorChart, xAxisChart, dataProvider)\n    this.markerChart = markerChart\n  }\n\n  /**\n   * 按键按下事件\n   * @param e\n   * @param loadMore\n   */\n  keyDown (e, loadMore) {\n    stopEvent(e)\n    if (e.keyCode === 37 || e.keyCode === 39) {\n      let shouldFlush = false\n      if (e.keyCode === 37) {\n        // 左移\n        if (this.dataProvider.minPos > 0) {\n          this.dataProvider.minPos--\n          this.dataProvider.currentTooltipDataPos--\n          shouldFlush = true\n        }\n      } else {\n        // 右移\n        if (this.dataProvider.minPos < this.dataProvider.dataList.length - this.dataProvider.range) {\n          this.dataProvider.minPos++\n          this.dataProvider.currentTooltipDataPos++\n          shouldFlush = true\n        }\n      }\n      if (shouldFlush) {\n        this.mainChart.flush()\n        this.volChart.flush()\n        this.subIndicatorChart.flush()\n        this.xAxisChart.flush()\n        this.markerChart.flush()\n        if (this.dataProvider.crossPoint) {\n          this.tooltipChart.flush()\n        }\n        if (this.dataProvider.minPos === 0) {\n          loadMore()\n        }\n      }\n    } else if (e.keyCode === 38 || e.keyCode === 40) {\n      let isZoomingOut = true\n      let scaleX = 0.95\n      if (e.keyCode === 38) {\n        // 放大\n        isZoomingOut = false\n        scaleX = 1.05\n      }\n      if (this.zoom(isZoomingOut, scaleX, this.dataProvider.minPos, this.dataProvider.range)) {\n        if (this.dataProvider.crossPoint) {\n          this.cross(this.dataProvider.crossPoint)\n        }\n        this.markerChart.flush()\n      }\n    }\n  }\n}\n\nexport default KeyboardEvent\n","import MainChart from './MainChart'\nimport MarkerChart from './MarkerChart'\nimport IndicatorChart from './IndicatorChart'\nimport TooltipChart from './TooltipChart'\nimport XAxisChart from './XAxisChart'\nimport { isArray, isFunction, isNumber, merge } from '../internal/utils/dataUtils'\nimport { calcTextWidth, requestAnimationFrame } from '../internal/utils/drawUtils'\nimport calcIndicator from '../internal/calcIndicator'\n\nimport DataProvider from '../internal/DataProvider'\n\nimport { getDefaultStyle, getDefaultIndicatorParams } from '../config'\nimport { isMobile } from '../internal/utils/platformUtils'\nimport TouchEvent from '../internal/event/TouchEvent'\nimport MouseEvent from '../internal/event/MouseEvent'\nimport MarkerEvent from '../internal/event/MarkerEvent'\nimport KeyboardEvent from '../internal/event/KeyboardEvent'\n\nimport { IndicatorType, YAxisPosition, YAxisTextPosition, MarkerType, ChartType } from '../internal/constants'\n\nclass RootChart {\n  constructor (dom, s = {}) {\n    if (!dom) {\n      throw new Error(`Chart version is ${process.env.K_LINE_VERSION}. Root dom is null, can not initialize the chart!!!`)\n    }\n    this.style = getDefaultStyle()\n    merge(this.style, s)\n    this.indicatorParams = getDefaultIndicatorParams()\n    dom.style.position = 'relative'\n    dom.style.outline = 'none'\n    dom.style.borderStyle = 'none'\n    dom.tabIndex = 1\n    this.dom = dom\n    this.dataProvider = new DataProvider()\n    this.xAxisChart = new XAxisChart(dom, this.style, this.dataProvider)\n    this.mainChart = new MainChart(dom, this.style, this.dataProvider, this.indicatorParams)\n    this.markerChart = new MarkerChart(dom, this.style, this.dataProvider, this.mainChart.yAxisRender)\n    this.volIndicatorChart = new IndicatorChart(dom, this.style, this.dataProvider, this.indicatorParams, IndicatorType.VOL)\n    this.subIndicatorChart = new IndicatorChart(dom, this.style, this.dataProvider, this.indicatorParams)\n    this.tooltipChart = new TooltipChart(\n      dom, this.style,\n      this.mainChart, this.volIndicatorChart, this.subIndicatorChart,\n      this.xAxisChart, this.dataProvider, this.indicatorParams\n    )\n    this.calcChartDimensions()\n    this.initEvent()\n  }\n\n  /**\n   * 初始化事件\n   */\n  initEvent () {\n    const mobile = isMobile(window.navigator.userAgent)\n    this.dom.addEventListener('contextmenu', (e) => { e.preventDefault() }, false)\n    const loadMore = () => {\n      // 有更多并且没有在加载则去加载更多\n      if (!this.noMore && !this.loading && this.loadMoreCallback && isFunction(this.loadMoreCallback)) {\n        this.loading = true\n        this.loadMoreCallback((this.dataProvider.dataList[0] || {}).timestamp)\n      }\n    }\n    if (mobile) {\n      const motionEvent = new TouchEvent(\n        this.tooltipChart, this.mainChart,\n        this.volIndicatorChart, this.subIndicatorChart,\n        this.xAxisChart, this.dataProvider\n      )\n      this.dom.addEventListener('touchstart', (e) => { motionEvent.touchStart(e) }, false)\n      this.dom.addEventListener('touchmove', (e) => {\n        motionEvent.touchMove(e, loadMore)\n      }, false)\n      this.dom.addEventListener('touchend', (e) => { motionEvent.touchEnd(e) }, false)\n    } else {\n      const motionEvent = new MouseEvent(\n        this.tooltipChart, this.mainChart,\n        this.volIndicatorChart, this.subIndicatorChart,\n        this.xAxisChart, this.markerChart, this.dataProvider\n      )\n      const markerEvent = new MarkerEvent(this.dataProvider, this.markerChart, this.style)\n      const keyboardEvent = new KeyboardEvent(\n        this.mainChart, this.volIndicatorChart, this.subIndicatorChart,\n        this.tooltipChart, this.markerChart, this.xAxisChart, this.dataProvider\n      )\n      this.dom.addEventListener('mousedown', (e) => {\n        motionEvent.mouseDown(e)\n        markerEvent.mouseDown(e)\n      }, false)\n      this.dom.addEventListener('mouseup', (e) => {\n        motionEvent.mouseUp(e)\n        markerEvent.mouseUp(e)\n      }, false)\n      this.dom.addEventListener('mousemove', (e) => {\n        motionEvent.mouseMove(e, loadMore)\n        markerEvent.mouseMove(e)\n      }, false)\n      this.dom.addEventListener('mouseleave', (e) => { motionEvent.mouseLeave(e) }, false)\n      this.dom.addEventListener('wheel', (e) => { motionEvent.mouseWheel(e) }, false)\n      this.dom.addEventListener('keydown', (e) => {\n        keyboardEvent.keyDown(e, loadMore)\n      }, false)\n    }\n  }\n\n  /**\n   * 刷新图\n   * @param charts\n   */\n  flushCharts (charts = []) {\n    for (const chart of charts) {\n      chart.flush()\n    }\n  }\n\n  /**\n   * 计算图的尺寸\n   */\n  calcChartDimensions () {\n    const xAxisHeight = this.calcXAxisHeight()\n    const yAxisWidth = this.calcYAxisWidth()\n    const domWidth = this.dom.offsetWidth\n    const domHeight = this.dom.offsetHeight\n    this.domWidth = domWidth\n    this.domHeight = domHeight\n    const contentHeight = domHeight - xAxisHeight\n    let chartTop = 0\n    let volChartHeight = 0\n    let subIndicatorChartHeight = 0\n    const isShowVolIndicator = this.volIndicatorChart.indicatorType !== IndicatorType.NO\n    const isShowSubIndicator = this.subIndicatorChart.indicatorType !== IndicatorType.NO\n    if (isShowVolIndicator && isShowSubIndicator) {\n      const height = +((contentHeight * 0.18).toFixed(0))\n      volChartHeight = height\n      subIndicatorChartHeight = height\n    } else if ((!isShowVolIndicator && isShowSubIndicator) || (isShowVolIndicator && !isShowSubIndicator)) {\n      const height = +((contentHeight * 0.26).toFixed(0))\n      if (isShowVolIndicator) {\n        volChartHeight = height\n      } else {\n        subIndicatorChartHeight = height\n      }\n    }\n    let offsetLeft = 0\n    let offsetRight = 0\n    if (this.style.yAxis.position === YAxisPosition.LEFT) {\n      offsetLeft = yAxisWidth\n    } else {\n      offsetRight = yAxisWidth\n    }\n    this.dataProvider.space(domWidth - offsetRight - offsetLeft)\n    this.xAxisChart.setChartDimensions(0, domWidth, domHeight, offsetLeft, offsetRight, 0, xAxisHeight)\n    const mainChartHeight = contentHeight - volChartHeight - subIndicatorChartHeight\n    this.mainChart.setChartDimensions(chartTop, domWidth, mainChartHeight, offsetLeft, offsetRight)\n    this.markerChart.setChartDimensions(chartTop, domWidth, mainChartHeight, offsetLeft, offsetRight)\n    chartTop += mainChartHeight\n    this.volIndicatorChart.setChartDimensions(chartTop, domWidth, volChartHeight, offsetLeft, offsetRight)\n    chartTop += volChartHeight\n    this.subIndicatorChart.setChartDimensions(chartTop, domWidth, subIndicatorChartHeight, offsetLeft, offsetRight)\n    this.tooltipChart.setChartDimensions(0, domWidth, domHeight, offsetLeft, offsetRight, 0, xAxisHeight)\n  }\n\n  /**\n   * 计算x轴高度\n   */\n  calcXAxisHeight () {\n    const xAxis = this.style.xAxis\n    const tickText = xAxis.tick.text\n    const tickLine = xAxis.tick.line\n    let height = tickText.size + tickText.margin\n    if (xAxis.display && tickLine.display) {\n      height += tickLine.length\n    }\n    if (xAxis.display && xAxis.line.display) {\n      height += xAxis.line.size\n    }\n    height = Math.max(xAxis.minHeight, Math.min(height, xAxis.maxHeight))\n    return (+Math.ceil(Number(height)).toFixed(0))\n  }\n\n  /**\n   * 计算y轴宽度\n   */\n  calcYAxisWidth () {\n    const yAxis = this.style.yAxis\n    const tickText = yAxis.tick.text\n    const tickLine = yAxis.tick.line\n    const needsOffset = (((tickText.display || tickLine.display || tickText.margin > 0) && tickText.position === YAxisTextPosition.OUTSIDE) || yAxis.line.display) && yAxis.display\n    if (needsOffset) {\n      let width = 0\n      if (tickText.position === YAxisTextPosition.OUTSIDE) {\n        width += calcTextWidth(tickText.size, '0000000') + tickText.margin\n        if (yAxis.display && tickLine.display) {\n          width += tickLine.length\n        }\n      }\n      const axisLineSize = yAxis.line.size\n      if (yAxis.display && yAxis.line.display) {\n        width += axisLineSize\n      }\n      if (width > axisLineSize) {\n        width = Math.max(yAxis.minWidth, Math.min(width, yAxis.maxWidth))\n      }\n      return Math.ceil(width)\n    }\n    return 0\n  }\n\n  /**\n   * 计算图表指标\n   */\n  calcChartIndicator () {\n    if (this.mainChart.indicatorType !== IndicatorType.NO) {\n      this.calcIndicator(this.mainChart.indicatorType, this.mainChart)\n    }\n    if (this.volIndicatorChart.indicatorType !== IndicatorType.NO) {\n      this.calcIndicator(IndicatorType.VOL, this.volIndicatorChart)\n    }\n    if (this.subIndicatorChart.indicatorType !== IndicatorType.NO) {\n      this.calcIndicator(this.subIndicatorChart.indicatorType, this.subIndicatorChart)\n    }\n  }\n\n  /**\n   * 计算指标\n   * @param indicatorType\n   * @param chart\n   */\n  calcIndicator (indicatorType, chart) {\n    Promise.resolve().then(() => {\n      const calc = calcIndicator[indicatorType]\n      if (isFunction(calc)) {\n        this.dataProvider.dataList = calc(this.dataProvider.dataList, this.indicatorParams[indicatorType])\n        this.flushCharts([chart, this.tooltipChart])\n      }\n    })\n  }\n\n  /**\n   * 调整尺寸\n   */\n  resize () {\n    if (this.domWidth !== this.dom.offsetWidth || this.domHeight !== this.dom.offsetHeight) {\n      requestAnimationFrame(() => {\n        this.calcChartDimensions()\n      })\n    }\n  }\n\n  /**\n   * 添加数据集合\n   * @param data\n   * @param pos\n   * @param noMore\n   */\n  addData (data, pos = this.dataProvider.dataList.length, noMore = true) {\n    if (pos === 0) {\n      // 当添加的数据是从0的位置开始时，则判断是在加载更多的数据请求来的，将loading重置为未加载状态\n      this.loading = false\n    }\n    this.noMore = noMore\n    this.dataProvider.addData(data, pos)\n    this.calcChartIndicator()\n    this.xAxisChart.flush()\n  }\n\n  /**\n   * 设置样式\n   * @param s\n   */\n  setStyle (s = {}) {\n    merge(this.style, s)\n    this.calcChartDimensions()\n  }\n\n  /**\n   * 设置主图类型\n   * @param chartType\n   */\n  setMainChartType (chartType) {\n    if (this.mainChart.chartType !== chartType) {\n      this.mainChart.chartType = chartType\n      this.flushCharts([this.mainChart, this.tooltipChart])\n      if (chartType === ChartType.REAL_TIME) {\n        this.clearAllMarker()\n      }\n    }\n  }\n\n  /**\n   * 设置主图指标\n   * @param indicatorType\n   */\n  setMainIndicatorType (indicatorType) {\n    if (this.mainChart.indicatorType !== indicatorType) {\n      this.mainChart.indicatorType = indicatorType\n      this.calcIndicator(indicatorType, this.mainChart)\n    }\n  }\n\n  /**\n   * 设置副图指标\n   * @param indicatorType\n   */\n  setSubIndicatorType (indicatorType) {\n    if (this.subIndicatorChart.indicatorType !== indicatorType) {\n      const shouldCalcChartHeight = indicatorType === IndicatorType.NO || this.subIndicatorChart.indicatorType === IndicatorType.NO\n      this.subIndicatorChart.indicatorType = indicatorType\n      if (shouldCalcChartHeight) {\n        this.calcChartDimensions()\n      }\n      if (indicatorType !== IndicatorType.NO) {\n        this.calcIndicator(indicatorType, this.subIndicatorChart)\n      }\n    }\n  }\n\n  /**\n   * 设置指标参数\n   * @param indicatorType\n   * @param params\n   */\n  setIndicatorParams (indicatorType, params) {\n    if (!this.indicatorParams.hasOwnProperty(indicatorType) ||\n      (indicatorType !== IndicatorType.MA &&\n      indicatorType !== IndicatorType.VOL &&\n      params.length !== this.indicatorParams[indicatorType].length)) {\n      return\n    }\n    this.indicatorParams[indicatorType] = params\n    if (this.getMainIndicatorType() === indicatorType) {\n      this.calcIndicator(indicatorType, this.mainChart)\n    }\n    if (this.isShowVolChart() && indicatorType === IndicatorType.VOL) {\n      this.calcIndicator(indicatorType, this.volIndicatorChart)\n    }\n    if (this.getSubIndicatorType() === indicatorType) {\n      this.calcIndicator(indicatorType, this.subIndicatorChart)\n    }\n  }\n\n  /**\n   * 获取指标参数\n   * @returns {{DMI: number[], OBV: [number], SAR: number[], BIAS: number[], MTM: number[], CCI: [number], RSI: number[], TRIX: number[], CR: number[], EMV: number[], KDJ: number[], VOL: number[], BOLL: [number], MA: number[], MACD: number[], PSY: [number], DMA: number[], WR: number[], VR: number[], BRAR: [number]}}\n   */\n  getIndicatorParams (indicatorType) {\n    if (indicatorType) {\n      return this.indicatorParams[indicatorType] || []\n    }\n    return this.indicatorParams\n  }\n\n  /**\n   * 显示成交量图\n   * @param isShow\n   */\n  showVolChart (isShow) {\n    const isShowVol = this.volIndicatorChart.indicatorType !== IndicatorType.NO\n    if (isShow !== isShowVol) {\n      this.volIndicatorChart.indicatorType = isShow ? IndicatorType.VOL : IndicatorType.NO\n      this.calcChartDimensions()\n      if (isShow) {\n        this.calcIndicator(IndicatorType.VOL, this.volIndicatorChart)\n      }\n    }\n  }\n\n  /**\n   * 设置默认的range\n   * @param range\n   */\n  setDefaultRange (range) {\n    if (isNumber(range) && range >= this.dataProvider.minRange && range <= this.dataProvider.maxRange) {\n      this.dataProvider.range = range\n      this.dataProvider.space(this.tooltipChart.viewPortHandler.contentRight() - this.tooltipChart.viewPortHandler.contentLeft())\n      if (this.dataProvider.minPos + range > this.dataProvider.dataList.length) {\n        this.dataProvider.minPos = this.dataProvider.dataList.length - range\n        if (this.dataProvider.minPos < 0) {\n          this.dataProvider.minPos = 0\n        }\n      }\n      this.flushCharts([this.mainChart, this.volIndicatorChart, this.subIndicatorChart, this.xAxisChart])\n    }\n  }\n\n  /**\n   * 设置最小range\n   * @param range\n   */\n  setMinRange (range) {\n    if (isNumber(range) && range <= this.dataProvider.range) {\n      this.dataProvider.minRange = range\n    }\n  }\n\n  /**\n   * 设置最大range\n   * @param range\n   */\n  setMaxRange (range) {\n    if (isNumber(range) && range >= this.dataProvider.range) {\n      this.dataProvider.maxRange = range\n    }\n  }\n\n  /**\n   * 获取主图指标类型\n   * @returns {string}\n   */\n  getMainIndicatorType () {\n    return this.mainChart.indicatorType\n  }\n\n  /**\n   * 获取附图指标类型\n   * @returns {string}\n   */\n  getSubIndicatorType () {\n    return this.subIndicatorChart.indicatorType\n  }\n\n  /**\n   * 成交量图是否显示\n   * @returns {boolean}\n   */\n  isShowVolChart () {\n    return this.volIndicatorChart.indicatorType !== IndicatorType.NO\n  }\n\n  /**\n   * 获取数据集合\n   * @returns {Array}\n   */\n  getDataList () {\n    return this.dataProvider.dataList\n  }\n\n  /**\n   * 获取当前样式\n   * @returns {{indicator, yAxis, xAxis, grid, candle, tooltip}}\n   */\n  getStyle () {\n    return this.style\n  }\n\n  /**\n   * 清空数据\n   */\n  clearData () {\n    this.dataProvider.dataList = []\n  }\n\n  /**\n   * 绘制标记图形\n   * @param markerType\n   */\n  drawMarker (markerType) {\n    // 如果当前是正在绘制其它的线模型，则清除掉当前正在绘制的数据\n    const currentMarkerType = this.dataProvider.currentMarkerType\n    if (currentMarkerType !== markerType) {\n      const markerData = this.dataProvider.markerDatas[currentMarkerType]\n      if (markerData && isArray(markerData)) {\n        markerData.splice(markerData.length - 1, 1)\n        this.dataProvider.markerDatas[currentMarkerType] = markerData\n        this.tooltipChart.flush()\n      }\n    }\n    this.dataProvider.currentMarkerType = markerType\n  }\n\n  /**\n   * 清空所有标记图形\n   */\n  clearAllMarker () {\n    const markerDatas = this.dataProvider.markerDatas\n    Object.keys(markerDatas).forEach(key => {\n      this.dataProvider.markerDatas[key] = []\n    })\n    this.dataProvider.currentMarkerType = MarkerType.NONE\n    this.markerChart.flush()\n  }\n\n  /**\n   * 加载更多\n   * @param cb\n   */\n  loadMore (cb) {\n    this.loadMoreCallback = cb\n  }\n\n  /**\n   * 获取图表转换为图片后url\n   * @param type\n   * @param excludes\n   */\n  getConvertPictureUrl (type = 'jpeg', excludes = []) {\n    if (type !== 'png' && type !== 'jpeg' && type !== 'bmp') {\n      throw new Error('Picture format only supports jpeg, png and bmp!!!')\n    }\n    const c = document.createElement('canvas')\n    const xAxisCanvas = this.xAxisChart.canvasDom\n    const mainCanvas = this.mainChart.canvasDom\n    const volCanvas = this.volIndicatorChart.canvasDom\n    const indicatorCanvas = this.subIndicatorChart.canvasDom\n    const tooltipCanvas = this.tooltipChart.canvasDom\n    c.width = tooltipCanvas.width\n    c.height = tooltipCanvas.height\n    c.style.width = tooltipCanvas.style.width\n    c.style.height = tooltipCanvas.style.height\n    const ctx = c.getContext('2d')\n    ctx.drawImage(xAxisCanvas, 0, 0, xAxisCanvas.width, xAxisCanvas.height)\n    if (!excludes || excludes.indexOf('candle') < 0) {\n      ctx.drawImage(mainCanvas, 0, 0, mainCanvas.width, mainCanvas.height)\n    }\n    if (!excludes || excludes.indexOf('vol') < 0) {\n      ctx.drawImage(volCanvas, 0, mainCanvas.height, volCanvas.width, volCanvas.height)\n    }\n    if (!excludes || excludes.indexOf('subIndicator') < 0) {\n      ctx.drawImage(indicatorCanvas, 0, mainCanvas.height + volCanvas.height, indicatorCanvas.width, indicatorCanvas.height)\n    }\n    if (!excludes || excludes.indexOf('marker') < 0) {\n      const markerCanvas = this.markerChart.canvasDom\n      ctx.drawImage(markerCanvas, 0, 0, markerCanvas.width, markerCanvas.height)\n    }\n    if (!excludes || excludes.indexOf('tooltip') < 0) {\n      ctx.drawImage(tooltipCanvas, 0, 0, tooltipCanvas.width, tooltipCanvas.height)\n    }\n    return c.toDataURL(`image/${type}`)\n  }\n}\n\nexport default RootChart\n","import RootChart from './chart/RootChart'\n\nfunction version () {\n  return process.env.K_LINE_VERSION\n}\n\nfunction init (dom, style = {}) {\n  return new RootChart(dom, style)\n}\n\nexport { version, init }\n"],"names":["ViewPortHandler","contentRect","left","right","top","bottom","height","width","offsetLeft","offsetRight","offsetTop","offsetBottom","point","x","contentLeft","contentRight","y","contentTop","contentBottom","ctx","document","createElement","getContext","pixelRatio","getPixelRatio","scale","backingStore","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","window","devicePixelRatio","requestAnimationFrame","fn","setTimeout","cancelAnimationFrame","id","clearTimeout","calcTextWidth","fontSize","text","font","measureText","Chart","dom","style","viewPortHandler","init","canvasDom","position","appendChild","chartTop","clearCanvas","canvasWidth","canvasHeight","setDimensions","translate","draw","clearRect","requestAnimationId","Render","dataProvider","formatDate","timestamp","isNumber","date","Date","month","getMonth","toString","day","getDate","hours","getHours","minutes","getMinutes","length","formatValue","data","key","defaultValue","isObject","value","formatDecimal","decimal","toFixed","merge","target","source","hasOwnProperty","targetProp","sourceProp","isArray","Object","prototype","call","isFunction","type","isNaN","IndicatorType","NO","MA","VOL","MACD","BOLL","KDJ","RSI","BIAS","BRAR","CCI","DMI","CR","PSY","DMA","TRIX","OBV","VR","WR","MTM","EMV","SAR","LineStyle","DASH","SOLID","YAxisPosition","LEFT","RIGHT","YAxisTextPosition","INSIDE","OUTSIDE","ChartType","REAL_TIME","CANDLE","CandleStyle","STROKE","INCREASING_STROKE","DECREASING_STROKE","OHLC","TooltipTextDisplayRule","ALWAYS","FOLLOW_CROSS","NONE","TooltipMainChartTextDisplayType","FLOAT","FIXED","MarkerType","HORIZONTAL_STRAIGHT_LINE","VERTICAL_STRAIGHT_LINE","STRAIGHT_LINE","HORIZONTAL_RAY_LINE","VERTICAL_RAY_LINE","RAY_LINE","HORIZONTAL_SEGMENT_LINE","VERTICAL_SEGMENT_LINE","SEGMENT_LINE","PRICE_LINE","PRICE_CHANNEL_LINE","PARALLEL_STRAIGHT_LINE","FIBONACCI_LINE","MarkerDrawStep","STEP_1","STEP_2","STEP_3","STEP_DONE","DATA_MARGIN_SPACE_RATE","DataProvider","dataList","minPos","range","maxRange","minRange","dataSpace","currentTooltipDataPos","crossPoint","currentMarkerType","markerPoint","isDragMarker","markerDatas","horizontalStraightLine","verticalStraightLine","straightLine","horizontalRayLine","verticalRayLine","rayLine","horizontalSegmentLine","verticalSegmentLine","segmentLine","priceLine","parallelStraightLine","priceChannelLine","fibonacciLine","pos","push","unshift","moveToLast","concat","Math","ceil","sub","IndicatorRender","yAxisRender","xAxis","lineSize","line","size","strokeStyle","color","lineWidth","beginPath","moveTo","lineTo","stroke","closePath","indicatorType","indicator","indicatorParams","isMainIndicator","onRendering","params","linePoints","dataKeys","forEach","p","i","kLineData","halfBarSpace","ohlcIndicatorRendering","values","prepareLinePoints","macd","diff","dea","refKLineData","macdValue","refMacdValue","Number","MIN_SAFE_INTEGER","increasingColor","fillStyle","decreasingColor","isFill","renderBars","vol","lineValues","close","refClose","num","bias","brar","br","ar","cci","cr","ma1","ma2","ma3","ma4","dma","dif","difMa","dmi","mdi","pdi","adx","adxr","kdj","k","d","j","rsi","psy","trix","maTrix","obv","maObv","vr","maVr","wr","wr1","wr2","wr3","mtm","mtmMa","emv","maEmv","sar","dataY","getY","high","low","arc","PI","renderGraphics","renderLines","prepare","indicatorData","toLowerCase","renderOhlc","onRenderEnd","startX","lastPos","min","endX","valueY","colors","lineColors","pointCount","lineColorSize","points","barData","zeroY","fillRect","abs","strokeRect","openY","open","closeY","highY","lowY","nice","exponent","floor","log","exp10","pow","f","nf","getIntervalPrecision","str","eIndex","indexOf","precision","slice","dotIndex","round","max","AxisRender","axisMaximum","axisMinimum","axisRange","axis","span","calcRange","isFillChart","interval","first","last","n","fixComputeAxisValues","YAxisRender","yAxis","display","tickText","tick","tickLine","tickTextPosition","tickLineDisplay","tickLineLength","tickTextMargin","margin","initX","textSize","valueFormatter","textBaseline","labelY","label","checkShowLabel","textAlign","fillText","separatorLine","labelHeight","setLineDash","dashValue","isMainChart","isRealTimeChart","minMaxArray","MAX_SAFE_INTEGER","apply","average","compareMinMax","keys","computeAxisValues","IndicatorChart","defaultIndicatorType","chartRender","isDrawChart","renderHorizontalSeparatorLine","calcAxisMinMax","computeAxis","renderSeparatorLines","drawChart","renderStrokeLine","grid","renderAxisLine","renderTickLines","renderAxisLabels","renderIndicator","MainRender","candle","lastPriceMark","rect","markHighestPrice","markHighestPriceX","markLowestPrice","markLowestPriceX","highLine","lowLine","highestMarkData","price","lowestMarkData","highestPriceMark","renderLowestHighestPriceMark","lowestPriceMark","priceMark","isHigh","save","clip","priceY","startY","restore","isRenderTextLeft","isRenderTextOutside","dataSize","preKLineData","preLastPrice","lastPrice","lineStartX","lineEndX","priceMarkText","displayText","rectWidth","paddingLeft","paddingRight","rectHeight","paddingTop","paddingBottom","rectStartX","priceMarkLine","realTime","timeLinePoints","timeLineAreaPoints","averageLinePoints","averageY","timeLine","areaFillColor","fill","averageLine","MainChart","chartType","renderLastPriceMark","renderCandle","renderHighestPriceMark","renderLowestPriceMark","renderTimeLine","getLinearY","point1","point2","targetPoints","v","subX","b","checkPointOnStraightLine","targetPoint","checkPointOnRayLine","checkPointOnSegmentLine","a","sqrt","c","checkPointOnCircle","circleCenterPoint","radius","subY","getParallelLines","viewportHandler","isPriceChannelLine","lines","endY","distance","b1","b2","getFibonacciLines","yDistance","MarkerRender","yRender","marker","renderPointMarker","markerKey","checkPointOnLine","generatedLinePoints","isRenderPrice","priceExtendsText","markerData","drawStep","circlePoints","xPos","renderMarker","isOnLine","isOn","getValue","priceText","marginLeft","marginBottom","isCircleActive","circlePoint","isOnCircle","circleRadius","activeRadius","circleColor","activeBackgroundColor","backgroundColor","circleBorderColor","activeBorderColor","borderColor","circleBorderSize","activeBorderSize","borderSize","MarkerChart","markerRender","renderHorizontalStraightLine","renderVerticalStraightLine","renderStraightLine","renderHorizontalRayLine","renderVerticalRayLine","renderRayLine","renderSegmentLine","renderPriceLine","renderPriceChannelLine","renderParallelStraightLine","renderFibonacciLine","TooltipRender","candleViewPortHandler","volViewPortHandler","subIndicatorViewPortHandler","candleYAxisRender","volYAxisRender","subIndicatorYAxisRender","mainIndicatorType","subIndicatorType","isRenderYAxisLeft","isRenderYAxisTextOutside","tooltip","yAxisDataLabel","getCrossYAxisLabel","cross","textHorizontal","horizontal","yAxisDataLabelWidth","centerPoint","getContentCenter","rectY","eventY","yData","crossLine","textVertical","vertical","labelWidth","xAxisLabelX","rectLeft","rectTop","rectRight","rectBottom","isCandle","baseDataStyle","base","indicatorDataStyle","indicatorColors","getRenderIndicatorTooltipData","showType","marginTop","renderMainChartFixedBaseDataTooltipText","renderIndicatorTooltipText","renderMainChartFloatRectText","renderIndicatorLineCircle","isVolChart","indicatorLineColors","circleOffsetTop","getMainChartBaseValues","textMarginLeft","textMarginRight","marginRight","textColor","labels","labelText","valueText","textWidth","baseLabels","baseValues","baseTextMarginLeft","baseTextMarginRight","baseTextMarginTop","baseTextMarginBottom","baseTextSize","baseTextColor","maxLabelWidth","indicatorLabels","indicatorValues","indicatorTextMarginLeft","indicatorTextMarginRight","indicatorTextMarginTop","indicatorTextMarginBottom","indicatorTextSize","floatRect","floatRectBorderSize","floatRectPaddingLeft","floatRectPaddingRight","floatRectPaddingTop","floatRectPaddingBottom","floatRectLeft","floatRectRight","floatRectWidth","floatRectHeight","rectX","borderRadius","fillColor","renderRoundRect","baseLabelX","indicatorLabelX","colorLength","toUpperCase","w","h","r","arcTo","index","nameText","name","indicatorText","labelX","nameTextWidth","colorSize","valueSize","join","TooltipChart","mainChart","volChart","subIndicatorChart","xAxisChart","tooltipRender","renderCrossHorizontalLine","renderCrossVerticalLine","tooltipData","displayRule","renderMainChartTooltip","renderIndicatorChartTooltip","XAxisRender","formatter","valuePoints","kLineModel","parseInt","pointValuesToPixel","defaultLabelWidth","startPos","barCount","valueCount","XAxisChart","xAxisRender","calcIndicator","checkParams","closeSums","paramsLength","calc","ma","volumeSums","volume","checkParamsWithSize","emaShort","emaLong","oldEmaShort","oldEmaLong","oldDea","closePrice","closeSum","md","up","dn","getBollMd","boll","mid","ln","hn","cn","getLow","getHigh","rsv","sumCloseA1","sumCloseB1","sumCloseA2","sumCloseB2","sumCloseA3","sumCloseB3","a1","a2","a3","b3","tmp","absTmp","agoTmp","mean1","mean2","mean3","closes1","closes2","closes3","hcy","cyl","ho","ol","agoHigh","agoLow","agoOpen","agoRefClose","closes","closeMa","closeMaList","maCloseSum","tp","agoClosePrice","trList","trSum","dmpList","dmpSum","dmmList","dmmSum","dxList","dxSum","highPrice","lowPrice","hl","lcy","hhy","lyl","tr","l","dx","agoAdx","p1","p2","ma1Sum","ma1Mean","ma1List","ma2Sum","ma2Mean","ma2List","ma3Sum","ma3Mean","ma3List","ma4Sum","ma4Mean","ma4List","preHighestPrice","preLowestPrice","preClosePrice","preOpenPrice","preMidPrice","highestPrice","lowestPrice","highSubPreMid","preMidSubLow","firstHighestPrice","firstLowestPrice","firstClosePrice","firstOpenPrice","firstMidPrice","secondHighestPrice","secondLowestPrice","secondHighSubFirstMid","firstMidSubSecondLow","YM","HYM","LYM","upDay","difSum","sumTrix","emaClose1","oldEmaClose1","emaClose2","oldEmaClose2","emaClose3","oldEmaClose3","emaClose3List","refEmaClose3","sumObv","sumVa","refClosePrice","va","avs","bvs","cvs","sumVr","openPrice","agoOpenPrice","agoVolume","h1","l1","h2","l2","h3","l3","hl1","hl2","hl3","highLowPriceArray","getHighLow","mtmSum","sumEmv","em","emList","turnover","highSubLow","halfHighAddLow","preHalfHighAddLow","startAf","step","maxAf","af","ep","isIncreasing","preSar","lowestPriceMin","highestPriceMax","totalTurnover","totalVolume","list","sum","paramsSize","getDefaultStyle","maxHeight","minHeight","maxWidth","minWidth","getDefaultIndicatorParams","isIPad","ua","match","isIPhone","isAndroid","isMobile","Event","tooltipChart","eventPoint","dragX","loadMore","moveDist","moveRange","flush","isZoomingOut","scaleX","touchStartPosition","touchRange","space","calcCurrentTooltipDataPos","isValidEvent","getCanvasPoint","e","getBoundingClientRect","clientX","clientY","stopEvent","stopPropagation","event","cancelBubble","preventDefault","returnValue","eventX","dy","spacing","targetTouches","getXDist","TOUCH_NO","TOUCH_DRAG","TOUCH_ZOOM","TOUCH_POST_ZOOM","TOUCH_CROSS","TOUCH_CROSS_CANCEL","TouchEvent","touchMode","touchStartPoint","touchMovePoint","touchCrossPoint","savedDist","savedXDist","delayTimeout","delayActiveCross","crossRadius","performCross","removeDelayActiveCross","postDelayDelayActiveCross","waitingForMouseMoveAnimationFrame","performZoom","drag","dis","distanceX","distanceY","totalDist","xDist","zoom","CROSS","DRAG","MouseEvent","markerChart","mouseMode","mouseDownPoint","documentMouseUp","removeEventListener","button","addEventListener","delta","wheelDelta","deltaY","MarkerEvent","noneMarkerMouseDownFlag","noneMarkerMouseDownActiveData","dataIndex","onLine","onCircle","pointIndex","markerType","twoStepMarkerMouseDown","threeStepMarkerMouseDown","noneMarkerMouseDown","markerMouseDown","lastLineData","performDifPoint","splice","findNoneMarkerMouseDownActiveData","realFindNoneMarkerMouseDownActiveData","xyPoints","isOnMarker","onePointMarkerMouseMove","twoPointMarkerMouseMove","threePointMarkerMouseMove","noneMarkerMouseMove","markerMouseMove","stepTwo","KeyboardEvent","keyCode","shouldFlush","RootChart","s","Error","process","outline","borderStyle","tabIndex","volIndicatorChart","calcChartDimensions","initEvent","mobile","navigator","userAgent","noMore","loading","loadMoreCallback","motionEvent","touchStart","touchMove","touchEnd","markerEvent","keyboardEvent","mouseDown","mouseUp","mouseMove","mouseLeave","mouseWheel","keyDown","charts","chart","xAxisHeight","calcXAxisHeight","yAxisWidth","calcYAxisWidth","domWidth","offsetWidth","domHeight","offsetHeight","contentHeight","volChartHeight","subIndicatorChartHeight","isShowVolIndicator","isShowSubIndicator","setChartDimensions","mainChartHeight","needsOffset","axisLineSize","Promise","resolve","then","flushCharts","addData","calcChartIndicator","clearAllMarker","shouldCalcChartHeight","getMainIndicatorType","isShowVolChart","getSubIndicatorType","isShow","isShowVol","cb","excludes","xAxisCanvas","mainCanvas","volCanvas","indicatorCanvas","tooltipCanvas","drawImage","markerCanvas","toDataURL","version"],"mappings":"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"}