{"version":3,"file":"klinecharts.development.js","sources":["../klinechart/internal/Handler.js","../klinechart/utils/draw.js","../klinechart/chart/Chart.js","../klinechart/render/Render.js","../klinechart/utils/data.js","../klinechart/internal/constants.js","../klinechart/internal/Storage.js","../klinechart/render/IndicatorRender.js","../klinechart/utils/number.js","../klinechart/render/AxisRender.js","../klinechart/render/YAxisRender.js","../klinechart/chart/IndicatorChart.js","../klinechart/render/CandleRender.js","../klinechart/chart/CandleChart.js","../klinechart/utils/graphicMark.js","../klinechart/render/GraphicMarkRender.js","../klinechart/chart/GraphicMarkChart.js","../klinechart/utils/date.js","../klinechart/internal/config.js","../klinechart/render/TooltipRender.js","../klinechart/chart/TooltipChart.js","../klinechart/render/XAxisRender.js","../klinechart/chart/XAxisChart.js","../klinechart/internal/calcIndicator.js","../klinechart/utils/platform.js","../klinechart/event/Event.js","../klinechart/event/eventHelper.js","../klinechart/event/TouchEvent.js","../klinechart/event/MouseEvent.js","../klinechart/event/GraphicMarkEvent.js","../klinechart/event/KeyboardEvent.js","../klinechart/utils/env.js","../klinechart/chart/RootChart.js","../klinechart/index.js"],"sourcesContent":["class Handler {\n  constructor () {\n    // 绘制区域参数\n    this.contentRect = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }\n    // 整个view的高度\n    this.height = 0\n    // 整个view的宽度\n    this.width = 0\n  }\n\n  /**\n   * 设置尺寸\n   * @param width\n   * @param height\n   * @param offsetLeft\n   * @param offsetRight\n   * @param offsetTop\n   * @param offsetBottom\n   */\n  setDimensions (width, height, offsetLeft, offsetRight, offsetTop, offsetBottom) {\n    this.width = width\n    this.height = height\n    this.contentRect.left = offsetLeft\n    this.contentRect.right = offsetRight\n    this.contentRect.top = offsetTop\n    this.contentRect.bottom = offsetBottom\n  }\n\n  contentTop () {\n    return this.contentRect.top\n  }\n\n  contentLeft () {\n    return this.contentRect.left\n  }\n\n  contentRight () {\n    return this.width - this.contentRect.right\n  }\n\n  contentBottom () {\n    return this.height - this.contentRect.bottom\n  }\n\n  getContentWidth () {\n    return this.contentRight() - this.contentLeft()\n  }\n\n  getContentHeight () {\n    return this.contentBottom() - this.contentTop()\n  }\n\n  /**\n   * 获取中间点坐标\n   */\n  getContentCenter () {\n    const point = {}\n    point.x = (this.contentLeft() + this.contentRight()) / 2\n    point.y = (this.contentTop() + this.contentBottom()) / 2\n    return point\n  }\n}\n\nexport default Handler\n","const ctx = document.createElement('canvas').getContext('2d')\nconst pixelRatio = getPixelRatio(ctx)\nctx.scale(pixelRatio, pixelRatio)\n\n/**\n * 获取屏幕比\n * @param ctx\n * @returns {number}\n */\nexport function getPixelRatio (ctx) {\n  const backingStore = ctx.backingStorePixelRatio ||\n    ctx.webkitBackingStorePixelRatio ||\n    ctx.mozBackingStorePixelRatio ||\n    ctx.msBackingStorePixelRatio ||\n    ctx.oBackingStorePixelRatio ||\n    ctx.backingStorePixelRatio || 1\n  return (window.devicePixelRatio || 1) / backingStore\n}\n\n/**\n * requestAnimationFrame兼容\n * @param fn\n */\nexport function requestAnimationFrame (fn) {\n  if (!window.requestAnimationFrame) {\n    return window.setTimeout(function () { fn() }, 1000 / 60)\n  }\n  return window.requestAnimationFrame(fn)\n}\n\n/**\n * cancelAnimationFrame兼容\n * @param id\n */\nexport function cancelAnimationFrame (id) {\n  if (!window.cancelAnimationFrame) {\n    clearTimeout(id)\n  }\n  window.cancelAnimationFrame(id)\n}\n\n/**\n * 测量文字的宽度\n * @param fontSize\n * @param text\n * @returns {number}\n */\nexport function calcTextWidth (fontSize, text) {\n  ctx.font = getFont(fontSize)\n  return ctx.measureText(text).width\n}\n\n/**\n * 获取字体\n * @param fontSize\n * @returns {string}\n */\nexport function getFont (fontSize) {\n  return `${fontSize}px Arial`\n}\n","import Handler from '../internal/Handler'\nimport { getPixelRatio, requestAnimationFrame, cancelAnimationFrame } from '../utils/draw'\n\nclass Chart {\n  constructor (dom, style) {\n    this.style = style\n    this.handler = new Handler()\n    this.init(dom)\n  }\n\n  /**\n   * 初始化canvas\n   * @param dom\n   */\n  init (dom) {\n    const canvasDom = document.createElement('canvas')\n    canvasDom.style.position = 'absolute'\n    canvasDom.style.right = '0'\n    canvasDom.style.left = '0'\n    this.canvasDom = canvasDom\n    this.ctx = this.canvasDom.getContext('2d')\n    dom.appendChild(this.canvasDom)\n  }\n\n  /**\n   * 设置图尺寸\n   * @param chartTop\n   * @param width\n   * @param height\n   * @param offsetLeft\n   * @param offsetRight\n   * @param offsetTop\n   * @param offsetBottom\n   */\n  setChartDimensions (chartTop, width, height, offsetLeft, offsetRight, offsetTop = 0, offsetBottom = 0) {\n    this.clearCanvas()\n    const pixelRatio = getPixelRatio(this.ctx)\n    const canvasWidth = width * pixelRatio\n    const canvasHeight = height * pixelRatio\n    this.canvasDom.style.top = `${chartTop}px`\n    this.canvasDom.style.width = `${width}px`\n    this.canvasDom.style.height = `${height}px`\n    this.canvasDom.width = canvasWidth\n    this.canvasDom.height = canvasHeight\n    this.handler.setDimensions(width, height, offsetLeft, offsetRight, offsetTop, offsetBottom)\n    this.ctx.scale(pixelRatio, pixelRatio)\n    this.ctx.translate(-0.5, -0.5)\n    this.draw()\n  }\n\n  /**\n   * 清空画布\n   */\n  clearCanvas () {\n    this.ctx.clearRect(0, 0, this.handler.width, this.handler.height)\n  }\n\n  /**\n   * 刷新\n   */\n  flush () {\n    if (this.requestAnimationId) {\n      cancelAnimationFrame(this.requestAnimationId)\n    }\n    this.requestAnimationId = requestAnimationFrame(() => {\n      this.clearCanvas()\n      this.draw()\n    })\n  }\n\n  /**\n   * 绘制\n   */\n  draw () {\n  }\n}\n\nexport default Chart\n","class Render {\n  constructor (handler, storage) {\n    this.handler = handler\n    this.storage = storage\n  }\n}\n\nexport default Render\n","/**\n * 格式化值\n * @param data\n * @param key\n * @param defaultValue\n * @returns {string|*}\n */\nexport function formatValue (data, key, defaultValue = '--') {\n  if (data && isObject(data)) {\n    const value = data[key]\n    if (value || value === 0 || value === false) {\n      return value\n    }\n  }\n  return defaultValue\n}\n\nexport function merge (target, source) {\n  if (!isObject(target) || !isObject(source)) {\n    return\n  }\n  for (const key in source) {\n    if (target.hasOwnProperty(key)) {\n      const targetProp = target[key]\n      const sourceProp = source[key]\n      if (isObject(sourceProp) &&\n        isObject(targetProp) &&\n        !isArray(sourceProp) &&\n        !isArray(targetProp)\n      ) {\n        merge(targetProp, sourceProp)\n      } else {\n        if (source[key] || source[key] === 0 || source[key] === false) {\n          target[key] = source[key]\n        }\n      }\n    }\n  }\n}\n\nexport function isArray (value) {\n  return Object.prototype.toString.call(value) === '[object Array]'\n}\n\n/**\n * @param {*} value\n * @return {boolean}\n */\nexport function isFunction (value) {\n  return typeof value === 'function'\n}\n\n/**\n * @param {*} value\n * @return {boolean}\n */\nexport function isObject (value) {\n  const type = typeof value\n  return type === 'function' || (!!value && type === 'object')\n}\n\n/**\n * 判断是否是数字\n * @param value\n * @returns {boolean}\n */\nexport function isNumber (value) {\n  return typeof value === 'number' && !isNaN(value)\n}\n\n/**\n * 判断是否是boolean\n * @param value\n * @returns {boolean}\n */\nexport function isBoolean (value) {\n  return typeof value === 'boolean'\n}\n","/**\n * 指标类型\n * @type {{NO: string, DMI: string, OBV: string, SAR: string, BIAS: string, MTM: string, CCI: string, RSI: string, TRIX: string, CR: string, EMV: string, KDJ: string, VOL: string, BOLL: string, MA: string, MACD: string, PSY: string, KD: string, DMA: string, WR: string, VR: string, BRAR: string}}\n */\nconst IndicatorType = {\n  NO: 'NO',\n  MA: 'MA',\n  VOL: 'VOL',\n  MACD: 'MACD',\n  BOLL: 'BOLL',\n  KDJ: 'KDJ',\n  RSI: 'RSI',\n  BIAS: 'BIAS',\n  BRAR: 'BRAR',\n  CCI: 'CCI',\n  DMI: 'DMI',\n  CR: 'CR',\n  PSY: 'PSY',\n  DMA: 'DMA',\n  TRIX: 'TRIX',\n  OBV: 'OBV',\n  VR: 'VR',\n  WR: 'WR',\n  MTM: 'MTM',\n  EMV: 'EMV',\n  SAR: 'SAR'\n}\n\n/**\n * 线的样式\n * @type {{DASH: string, SOLID: string}}\n */\nconst LineStyle = {\n  DASH: 'dash',\n  SOLID: 'solid'\n}\n\n/**\n * y轴位置\n * @type {{LEFT: string, RIGHT: string}}\n */\nconst YAxisPosition = {\n  LEFT: 'left',\n  RIGHT: 'right'\n}\n\n/**\n * y轴文字位置\n * @type {{OUTSIDE: string, INSIDE: string}}\n */\nconst YAxisTextPosition = {\n  INSIDE: 'inside',\n  OUTSIDE: 'outside'\n}\n\n/**\n * 主图类型\n * @type {{TIME_LINE: string, CANDLE: string}}\n */\nconst ChartType = {\n  REAL_TIME: 'real_time',\n  CANDLE: 'candle'\n}\n\n/**\n * 蜡烛图样式\n * @type {{STROKE: string, DECREASING_STROKE: string, OHLC: string, INCREASING_STROKE: string, SOLID: string}}\n */\nconst CandleStyle = {\n  SOLID: 'solid',\n  STROKE: 'stroke',\n  INCREASING_STROKE: 'increasing_stroke',\n  DECREASING_STROKE: 'decreasing_stroke',\n  OHLC: 'ohlc'\n}\n\n/**\n * 提示文字显示规则\n * @type {{FOLLOW_CROSS: string, NONE: string, ALWAYS: string}}\n */\nconst TooltipTextDisplayRule = {\n  ALWAYS: 'always',\n  FOLLOW_CROSS: 'follow_cross',\n  NONE: 'none'\n}\n\n/**\n * 主图数据提示显示类型\n * @type {{FLOAT: string, FIXED: string}}\n */\nconst TooltipCandleChartTextDisplayType = {\n  FLOAT: 'float',\n  FIXED: 'fixed'\n}\n\n/**\n * 标记图形类型\n * @type {{STRAIGHT_LINE: string, HORIZONTAL_SEGMENT_LINE: string, FIBONACCI_LINE: string, HORIZONTAL_STRAIGHT_LINE: string, PRICE_CHANNEL_LINE: string, VERTICAL_RAY_LINE: string, VERTICAL_SEGMENT_LINE: string, PARALLEL_STRAIGHT_LINE: string, HORIZONTAL_RAY_LINE: string, VERTICAL_STRAIGHT_LINE: string, PRICE_LINE: string, RAY_LINE: string, NONE: string, SEGMENT_LINE: string}}\n */\nconst GraphicMarkType = {\n  NONE: 'none',\n  HORIZONTAL_STRAIGHT_LINE: 'horizontalStraightLine',\n  VERTICAL_STRAIGHT_LINE: 'verticalStraightLine',\n  STRAIGHT_LINE: 'straightLine',\n  HORIZONTAL_RAY_LINE: 'horizontalRayLine',\n  VERTICAL_RAY_LINE: 'verticalRayLine',\n  RAY_LINE: 'rayLine',\n  HORIZONTAL_SEGMENT_LINE: 'horizontalSegmentLine',\n  VERTICAL_SEGMENT_LINE: 'verticalSegmentLine',\n  SEGMENT_LINE: 'segmentLine',\n  PRICE_LINE: 'priceLine',\n  PRICE_CHANNEL_LINE: 'priceChannelLine',\n  PARALLEL_STRAIGHT_LINE: 'parallelStraightLine',\n  FIBONACCI_LINE: 'fibonacciLine'\n}\n\n/**\n * 标记图形绘制步骤\n * @type {{STEP_3: *, STEP_DONE: *, STEP_1: *, STEP_2: *}}\n */\nconst GraphicMarkDrawStep = {\n  STEP_1: 'step_1',\n  STEP_2: 'step_2',\n  STEP_3: 'step_3',\n  STEP_DONE: 'step_done'\n}\n\nexport {\n  IndicatorType, LineStyle, YAxisPosition, YAxisTextPosition, ChartType,\n  CandleStyle, TooltipTextDisplayRule, TooltipCandleChartTextDisplayType,\n  GraphicMarkType, GraphicMarkDrawStep\n}\n","import { isArray, isObject } from '../utils/data'\nimport { GraphicMarkType } from '../internal/constants'\n\nexport const DATA_MARGIN_SPACE_RATE = 0.26\n\nclass Storage {\n  constructor () {\n    // 数据源\n    this.dataList = []\n    // 数据绘制起始位置\n    this.minPos = 0\n    // 绘制的数据条数\n    this.range = 180\n    // 最大绘制条数\n    this.maxRange = 300\n    // 最小绘制条数\n    this.minRange = 20\n    // 每条数据的所占的空间\n    this.dataSpace = 0\n    // 当前提示数据的位置\n    this.tooltipDataPos = 0\n    // 十字光标中心点位置坐标\n    this.crossPoint = null\n\n    // 当前绘制的标记图形的类型\n    this.graphicMarkType = GraphicMarkType.NONE\n    // 标记图形点\n    this.graphicMarkPoint = null\n    // 是否在拖拽标记图形\n    this.isDragGraphicMark = false\n    // 绘图标记数据\n    this.graphicMarkDatas = {\n      // 水平直线\n      horizontalStraightLine: [],\n      // 垂直直线\n      verticalStraightLine: [],\n      // 直线\n      straightLine: [],\n      // 水平射线\n      horizontalRayLine: [],\n      // 垂直射线\n      verticalRayLine: [],\n      // 射线\n      rayLine: [],\n      // 水平线段\n      horizontalSegmentLine: [],\n      // 垂直线段\n      verticalSegmentLine: [],\n      // 线段\n      segmentLine: [],\n      // 价格线\n      priceLine: [],\n      // 平行直线\n      parallelStraightLine: [],\n      // 价格通道线\n      priceChannelLine: [],\n      // 斐波那契线\n      fibonacciLine: []\n    }\n  }\n\n  space (width) {\n    this.dataSpace = width / this.range\n  }\n\n  addData (data, pos) {\n    if (isObject(data) && !isArray(data)) {\n      let tooltipDataMoveCount = 0\n      if (pos >= this.dataList.length) {\n        tooltipDataMoveCount = 1\n        this.dataList.push(data)\n      } else if (pos <= 0) {\n        this.dataList.unshift(data)\n      } else {\n        this.dataList[pos] = data\n      }\n      if (this.minPos + this.range >= this.dataList.length - 1) {\n        this.moveToLast(tooltipDataMoveCount)\n      }\n    } else if (isArray(data)) {\n      if (this.dataList.length === 0) {\n        this.dataList = data.concat(this.dataList)\n        this.moveToLast(data.length)\n      } else {\n        this.dataList = data.concat(this.dataList)\n        this.minPos += data.length\n      }\n    }\n  }\n\n  moveToLast (tooltipDataMoveCount) {\n    if (this.dataList.length > this.range) {\n      this.minPos = this.dataList.length - this.range\n      this.tooltipDataPos += tooltipDataMoveCount\n      if (this.tooltipDataPos > this.dataList.length - 1) {\n        this.tooltipDataPos = this.dataList.length - 1\n      }\n    } else {\n      this.minPos = 0\n    }\n  }\n\n  calcCurrentTooltipDataPos (offsetLeft, x) {\n    const range = +Math.ceil((x - offsetLeft) / this.dataSpace).toFixed(0)\n    this.tooltipDataPos = this.minPos + range - 1\n    if (this.tooltipDataPos > this.dataList.length - 1) {\n      this.tooltipDataPos = this.dataList.length - 1\n    }\n    const sub = this.tooltipDataPos - this.minPos\n    this.crossPoint.x = offsetLeft + this.dataSpace * sub + this.dataSpace * (1.0 - DATA_MARGIN_SPACE_RATE) / 2\n  }\n}\n\nexport default Storage\n","import Render from './Render'\nimport { DATA_MARGIN_SPACE_RATE } from '../internal/Storage'\nimport { IndicatorType } from '../internal/constants'\n\nclass IndicatorRender extends Render {\n  constructor (handler, storage, yAxisRender) {\n    super(handler, storage)\n    this.yAxisRender = yAxisRender\n  }\n\n  /**\n   * 绘制图与图直接的分割线\n   * @param ctx\n   * @param xAxis\n   */\n  renderHorizontalSeparatorLine (ctx, xAxis) {\n    const lineSize = xAxis.line.size\n    ctx.strokeStyle = xAxis.line.color\n    ctx.lineWidth = lineSize\n    ctx.beginPath()\n    ctx.moveTo(this.handler.contentLeft(), this.handler.contentTop() + lineSize)\n    ctx.lineTo(this.handler.contentRight(), this.handler.contentTop() + lineSize)\n    ctx.stroke()\n    ctx.closePath()\n  }\n\n  /**\n   * 绘制指标\n   * @param ctx\n   * @param indicatorType\n   * @param indicator\n   * @param indicatorParams\n   * @param isMainIndicator\n   */\n  renderIndicator (ctx, indicatorType, indicator, indicatorParams, isMainIndicator = false) {\n    let onRendering\n    const params = indicatorParams[indicatorType] || []\n    const linePoints = []\n    switch (indicatorType) {\n      case IndicatorType.MA: {\n        const dataKeys = []\n        params.forEach(p => {\n          dataKeys.push(`ma${p}`)\n        })\n        onRendering = (x, i, kLineData, halfBarSpace) => {\n          this.ohlcIndicatorRendering(\n            ctx, i, x, halfBarSpace, indicator,\n            kLineData, indicatorType, dataKeys,\n            isMainIndicator, (values) => {\n              this.prepareLinePoints(x, values, linePoints)\n            }\n          )\n        }\n        break\n      }\n\n      case IndicatorType.MACD: {\n        onRendering = (x, i, kLineData, halfBarSpace) => {\n          const macd = kLineData.macd || {}\n          this.prepareLinePoints(x, [macd.diff, macd.dea], linePoints)\n          const refKLineData = this.storage.dataList[i - 1] || {}\n          const macdValue = macd.macd\n          const refMacdValue = (refKLineData.macd || {}).macd || Number.MIN_SAFE_INTEGER\n          if (macdValue > 0) {\n            ctx.strokeStyle = indicator.increasingColor\n            ctx.fillStyle = indicator.increasingColor\n          } else {\n            ctx.strokeStyle = indicator.decreasingColor\n            ctx.fillStyle = indicator.decreasingColor\n          }\n          const isFill = !((refMacdValue || refMacdValue === 0) && macdValue > refMacdValue)\n          this.renderBars(ctx, x, halfBarSpace, macdValue, isFill)\n        }\n        break\n      }\n\n      case IndicatorType.VOL: {\n        onRendering = (x, i, kLineData, halfBarSpace) => {\n          const vol = kLineData.vol || {}\n          const lineValues = []\n          params.forEach(p => {\n            lineValues.push(vol[`ma${p}`])\n          })\n          this.prepareLinePoints(x, lineValues, linePoints)\n          const refKLineData = this.storage.dataList[i - 1] || {}\n          const close = kLineData.close\n          const refClose = (refKLineData || {}).close || Number.MIN_SAFE_INTEGER\n          if (close > refClose) {\n            ctx.fillStyle = indicator.increasingColor\n          } else {\n            ctx.fillStyle = indicator.decreasingColor\n          }\n          this.renderBars(ctx, x, halfBarSpace, vol.num, true)\n        }\n        break\n      }\n\n      case IndicatorType.BOLL: {\n        onRendering = (x, i, kLineData, halfBarSpace) => {\n          this.ohlcIndicatorRendering(\n            ctx, i, x, halfBarSpace, indicator,\n            kLineData, indicatorType, ['up', 'mid', 'dn'],\n            isMainIndicator, (values) => {\n              this.prepareLinePoints(x, values, linePoints)\n            }\n          )\n        }\n        break\n      }\n\n      case IndicatorType.BIAS: {\n        onRendering = (x, i, kLineData) => {\n          const bias = kLineData.bias || {}\n          const lineValues = []\n          params.forEach(p => {\n            lineValues.push(bias[`bias${p}`])\n          })\n          this.prepareLinePoints(x, lineValues, linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.BRAR: {\n        onRendering = (x, i, kLineData) => {\n          const brar = kLineData.brar || {}\n          this.prepareLinePoints(x, [brar.br, brar.ar], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.CCI: {\n        onRendering = (x, i, kLineData) => {\n          const cci = kLineData.cci || {}\n          this.prepareLinePoints(x, [cci.cci], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.CR: {\n        onRendering = (x, i, kLineData) => {\n          const cr = kLineData.cr || {}\n          this.prepareLinePoints(x, [cr.cr, cr.ma1, cr.ma2, cr.ma3, cr.ma4], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.DMA: {\n        onRendering = (x, i, kLineData) => {\n          const dma = kLineData.dma || {}\n          this.prepareLinePoints(x, [dma.dif, dma.difMa], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.DMI: {\n        onRendering = (x, i, kLineData) => {\n          const dmi = kLineData.dmi || {}\n          this.prepareLinePoints(x, [dmi.mdi, dmi.pdi, dmi.adx, dmi.adxr], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.KDJ: {\n        onRendering = (x, i, kLineData) => {\n          const kdj = kLineData.kdj || {}\n          this.prepareLinePoints(x, [kdj.k, kdj.d, kdj.j], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.RSI: {\n        onRendering = (x, i, kLineData) => {\n          const rsi = kLineData.rsi || {}\n          const lineValues = []\n          params.forEach(p => {\n            lineValues.push(rsi[`rsi${p}`])\n          })\n          this.prepareLinePoints(x, lineValues, linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.PSY: {\n        onRendering = (x, i, kLineData) => {\n          const psy = kLineData.psy || {}\n          this.prepareLinePoints(x, [psy.psy], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.TRIX: {\n        onRendering = (x, i, kLineData) => {\n          const trix = kLineData.trix || {}\n          this.prepareLinePoints(x, [trix.trix, trix.maTrix], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.OBV: {\n        onRendering = (x, i, kLineData) => {\n          const obv = kLineData.obv || {}\n          this.prepareLinePoints(x, [obv.obv, obv.maObv], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.VR: {\n        onRendering = (x, i, kLineData) => {\n          const vr = kLineData.vr || {}\n          this.prepareLinePoints(x, [vr.vr, vr.maVr], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.WR: {\n        onRendering = (x, i, kLineData) => {\n          const wr = kLineData.wr || {}\n          this.prepareLinePoints(x, [wr.wr1, wr.wr2, wr.wr3], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.MTM: {\n        onRendering = (x, i, kLineData) => {\n          const mtm = kLineData.mtm || {}\n          this.prepareLinePoints(x, [mtm.mtm, mtm.mtmMa], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.EMV: {\n        onRendering = (x, i, kLineData) => {\n          const emv = kLineData.emv || {}\n          this.prepareLinePoints(x, [emv.emv, emv.maEmv], linePoints)\n        }\n        break\n      }\n\n      case IndicatorType.SAR: {\n        onRendering = (x, i, kLineData, halfBarSpace) => {\n          this.ohlcIndicatorRendering(\n            ctx, i, x, halfBarSpace, indicator,\n            kLineData, indicatorType, ['sar'],\n            isMainIndicator, (values) => {\n              const sar = values[0]\n              if (sar || sar === 0) {\n                const dataY = this.yAxisRender.getY(sar)\n                if (sar < (kLineData.high + kLineData.low) / 2) {\n                  ctx.strokeStyle = indicator.increasingColor\n                } else {\n                  ctx.strokeStyle = indicator.decreasingColor\n                }\n                ctx.beginPath()\n                ctx.arc(x, dataY, halfBarSpace, Math.PI * 2, 0, true)\n                ctx.stroke()\n                ctx.closePath()\n              }\n            }\n          )\n        }\n      }\n    }\n    this.renderGraphics(\n      ctx, onRendering,\n      () => {\n        this.renderLines(ctx, linePoints, indicator)\n      }\n    )\n  }\n\n  /**\n   * 需要绘制ohlc指标每条数据渲染\n   * @param ctx\n   * @param i\n   * @param x\n   * @param halfBarSpace\n   * @param indicator\n   * @param kLineData\n   * @param indicatorType\n   * @param dataKeys\n   * @param isMainIndicator\n   * @param prepare\n   */\n  ohlcIndicatorRendering (\n    ctx, i, x, halfBarSpace, indicator,\n    kLineData, indicatorType,\n    dataKeys, isMainIndicator, prepare\n  ) {\n    const indicatorData = kLineData[indicatorType.toLowerCase()] || {}\n    const values = []\n    dataKeys.forEach(key => {\n      values.push(indicatorData[key])\n    })\n    if (prepare) {\n      prepare(values)\n    }\n    if (!isMainIndicator) {\n      const refKLineData = this.storage.dataList[i - 1] || {}\n      this.renderOhlc(\n        ctx, halfBarSpace, x, kLineData,\n        refKLineData, indicator.increasingColor, indicator.decreasingColor\n      )\n    }\n  }\n\n  /**\n   * 绘制图形\n   */\n  renderGraphics (ctx, onRendering, onRenderEnd) {\n    let startX = this.handler.contentLeft()\n    const dataSpace = this.storage.dataSpace * (1 - DATA_MARGIN_SPACE_RATE)\n    const halfBarSpace = dataSpace / 2\n    const lastPos = Math.min(this.storage.dataList.length, this.storage.minPos + this.storage.range)\n    for (let i = this.storage.minPos; i < lastPos; i++) {\n      const endX = startX + dataSpace\n      const x = (startX + endX) / 2\n      const kLineData = this.storage.dataList[i]\n      if (onRendering) {\n        onRendering(x, i, kLineData, halfBarSpace)\n      }\n      startX += this.storage.dataSpace\n    }\n    if (onRenderEnd) {\n      onRenderEnd()\n    }\n  }\n\n  /**\n   * 准备绘制线的数据\n   * @param x\n   * @param lineValues\n   * @param linePoints\n   */\n  prepareLinePoints (x, lineValues, linePoints) {\n    for (let i = 0; i < lineValues.length; i++) {\n      const value = lineValues[i]\n      const valueY = this.yAxisRender.getY(value)\n      if (!linePoints[i]) {\n        linePoints[i] = [{ x: x, y: valueY }]\n      } else {\n        linePoints[i].push({ x: x, y: valueY })\n      }\n    }\n  }\n\n  /**\n   * 绘制线\n   * @param ctx\n   * @param linePoints\n   * @param indicator\n   */\n  renderLines (ctx, linePoints, indicator) {\n    const colors = indicator.lineColors\n    const pointCount = linePoints.length\n    const lineColorSize = (indicator.lineColors || []).length\n    ctx.lineWidth = indicator.lineSize\n    for (let i = 0; i < pointCount; i++) {\n      const points = linePoints[i]\n      if (points.length > 0) {\n        ctx.strokeStyle = colors[i % lineColorSize]\n        ctx.beginPath()\n        ctx.moveTo(points[0].x, points[0].y)\n        for (let j = 1; j < points.length; j++) {\n          ctx.lineTo(points[j].x, points[j].y)\n        }\n        ctx.stroke()\n        ctx.closePath()\n      }\n    }\n  }\n\n  /**\n   * 绘制柱状图\n   * @param ctx\n   * @param x\n   * @param halfBarSpace\n   * @param barData\n   * @param isFill\n   */\n  renderBars (ctx, x, halfBarSpace, barData, isFill) {\n    if (barData || barData === 0) {\n      ctx.lineWidth = 1\n      const dataY = this.yAxisRender.getY(barData)\n      const zeroY = this.yAxisRender.getY(0)\n      let y = dataY\n      if (barData < 0) {\n        y = zeroY\n      }\n      let barHeight = Math.abs(zeroY - dataY)\n      if (barHeight < 1) {\n        barHeight = 1\n      }\n      if (isFill) {\n        ctx.fillRect(x - halfBarSpace, y, halfBarSpace * 2, barHeight)\n      } else {\n        ctx.strokeRect(x - halfBarSpace, y, halfBarSpace * 2, barHeight)\n      }\n    }\n  }\n\n  /**\n   * 绘制ohlc\n   * @param ctx\n   * @param halfBarSpace\n   * @param x\n   * @param kLineData\n   * @param refKLineData\n   * @param increasingColor\n   * @param decreasingColor\n   */\n  renderOhlc (ctx, halfBarSpace, x, kLineData, refKLineData, increasingColor, decreasingColor) {\n    const openY = this.yAxisRender.getY(kLineData.open)\n    const closeY = this.yAxisRender.getY(kLineData.close)\n    const highY = this.yAxisRender.getY(kLineData.high)\n    const lowY = this.yAxisRender.getY(kLineData.low)\n    if (kLineData.close > refKLineData.close) {\n      ctx.strokeStyle = increasingColor\n    } else {\n      ctx.strokeStyle = decreasingColor\n    }\n    ctx.lineWidth = 1\n    ctx.beginPath()\n    ctx.moveTo(x, highY)\n    ctx.lineTo(x, lowY)\n    ctx.stroke()\n    ctx.closePath()\n\n    ctx.beginPath()\n    ctx.moveTo(x - halfBarSpace, openY)\n    ctx.lineTo(x, openY)\n    ctx.stroke()\n    ctx.closePath()\n\n    ctx.beginPath()\n    ctx.moveTo(x + halfBarSpace, closeY)\n    ctx.lineTo(x, closeY)\n    ctx.stroke()\n    ctx.closePath()\n  }\n}\n\nexport default IndicatorRender\n","import { isNumber } from './data'\n\nexport function nice (value) {\n  const exponent = Math.floor(Math.log(value) / Math.log(10.0))\n  const exp10 = Math.pow(10.0, exponent)\n  const f = value / exp10 // 1 <= f < 10\n  let nf = 0\n  if (f < 1) {\n    nf = 1\n  } else if (f < 2) {\n    nf = 2\n  } else if (f < 3) {\n    nf = 3\n  } else if (f < 5) {\n    nf = 5\n  } else {\n    nf = 10\n  }\n  value = nf * exp10\n  return exponent >= -20 ? +value.toFixed(exponent < 0 ? -exponent : 0) : value\n}\n\nexport function getIntervalPrecision (value) {\n  const str = value.toString()\n\n  // Consider scientific notation: '3.4e-12' '3.4e+12'\n  const eIndex = str.indexOf('e')\n  if (eIndex > 0) {\n    const precision = +str.slice(eIndex + 1)\n    return precision < 0 ? -precision : 0\n  } else {\n    const dotIndex = str.indexOf('.')\n    return dotIndex < 0 ? 0 : str.length - 1 - dotIndex\n  }\n}\n\nexport function round (x, precision) {\n  if (precision == null) {\n    precision = 10\n  }\n  // Avoid range error\n  precision = Math.min(Math.max(0, precision), 20)\n  x = (+x).toFixed(precision)\n  return x\n}\n\n/**\n * 格式化精度\n */\nexport function formatPrecision (value, precision = 2) {\n  const v = +value\n  if ((v || v === 0) && isNumber(v)) {\n    return value.toFixed(precision)\n  }\n  return `${v}`\n}\n\n/**\n * 格式化大数据\n * @param value\n */\nexport function formatBigNumber (value) {\n  if (isNumber(value)) {\n    if (value > 50000) {\n      return `${+((value / 1000).toFixed(1))}K`\n    }\n    if (value > 5000000) {\n      return `${+((value / 1000000).toFixed(3))}M`\n    }\n    return `${value}`\n  }\n  return '--'\n}\n","import Render from './Render'\nimport { nice, getIntervalPrecision, round } from '../utils/number'\n\nclass AxisRender extends Render {\n  constructor (handler, storage) {\n    super(handler, storage)\n    this.axisMaximum = 0\n    this.axisMinimum = 0\n    this.axisRange = 0\n    this.values = []\n  }\n\n  /**\n   * 计算轴上的值\n   */\n  computeAxisValues () {\n    if (this.axisRange < 0) {\n      this.values = []\n      return\n    }\n    const interval = +nice(this.axisRange / 8.0)\n    const precision = getIntervalPrecision(interval)\n    const first = +round(Math.ceil(this.axisMinimum / interval) * interval, precision)\n    const last = +round(Math.floor(this.axisMaximum / interval) * interval, precision)\n    let n = 0\n    let f = first\n\n    if (interval !== 0) {\n      while (f <= (+last)) {\n        ++n\n        f += interval\n      }\n    }\n    this.values = []\n    f = first\n    for (let i = 0; i < n; i++) {\n      this.values[i] = { v: +(f.toFixed(precision)) }\n      f += interval\n    }\n  }\n}\n\nexport default AxisRender\n","import AxisRender from './AxisRender'\nimport { formatValue } from '../utils/data'\nimport { LineStyle, YAxisPosition, YAxisTextPosition, IndicatorType } from '../internal/constants'\nimport { formatBigNumber } from '../utils/number'\nimport { getFont } from '../utils/draw'\n\nclass YAxisRender extends AxisRender {\n  /**\n   * 绘制轴线\n   * @param ctx\n   * @param yAxis\n   */\n  renderAxisLine (ctx, yAxis) {\n    if (!yAxis.display || !yAxis.line.display) {\n      return\n    }\n    ctx.strokeStyle = yAxis.line.color\n    ctx.lineWidth = yAxis.line.size\n    ctx.beginPath()\n    if (yAxis.position === YAxisPosition.LEFT) {\n      ctx.moveTo(this.handler.contentLeft(), this.handler.contentTop())\n      ctx.lineTo(this.handler.contentLeft(), this.handler.contentBottom())\n    } else {\n      ctx.moveTo(this.handler.contentRight(), this.handler.contentTop())\n      ctx.lineTo(this.handler.contentRight(), this.handler.contentBottom())\n    }\n    ctx.stroke()\n    ctx.closePath()\n  }\n\n  /**\n   * 绘制y轴上文字\n   * @param ctx\n   * @param yAxis\n   */\n  renderAxisLabels (ctx, yAxis) {\n    const tickText = yAxis.tick.text\n    if (!yAxis.display || !tickText.display) {\n      return\n    }\n    const tickLine = yAxis.tick.line\n    const tickTextPosition = tickText.position\n    const tickLineDisplay = tickLine.display\n    const tickLineLength = tickLine.length\n    const tickTextMargin = tickText.margin\n    let initX\n    if (yAxis.position === YAxisPosition.LEFT) {\n      if (tickTextPosition === YAxisTextPosition.OUTSIDE) {\n        if (tickLineDisplay) {\n          initX = this.handler.contentLeft() - tickLineLength - tickTextMargin\n        } else {\n          initX = this.handler.contentLeft() - tickTextMargin\n        }\n      } else {\n        if (tickLineDisplay) {\n          initX = this.handler.contentLeft() + tickLineLength + tickTextMargin\n        } else {\n          initX = this.handler.contentLeft() + tickTextMargin\n        }\n      }\n    } else {\n      if (tickTextPosition === YAxisTextPosition.OUTSIDE) {\n        if (tickLineDisplay) {\n          initX = this.handler.contentRight() + tickLineLength + tickTextMargin\n        } else {\n          initX = this.handler.contentRight() + tickTextMargin\n        }\n      } else {\n        if (tickLineDisplay) {\n          initX = this.handler.contentRight() - tickLineLength - tickTextMargin\n        } else {\n          initX = this.handler.contentRight() - tickTextMargin\n        }\n      }\n    }\n    const textSize = tickText.size\n    ctx.textBaseline = 'middle'\n    ctx.font = getFont(textSize)\n    ctx.fillStyle = tickText.color\n\n    for (let i = 0; i < this.values.length; i++) {\n      const y = this.values[i].y\n      const text = formatBigNumber(this.values[i].v)\n      if ((yAxis.position === YAxisPosition.LEFT && tickTextPosition === YAxisTextPosition.OUTSIDE) ||\n        (yAxis.position === YAxisPosition.RIGHT && tickTextPosition !== YAxisTextPosition.OUTSIDE)) {\n        ctx.textAlign = 'right'\n      } else {\n        ctx.textAlign = 'left'\n      }\n      ctx.fillText(text, initX, y)\n    }\n    ctx.textAlign = 'left'\n  }\n\n  /**\n   * 绘制y轴分割线\n   * @param ctx\n   * @param yAxis\n   */\n  renderSeparatorLines (ctx, yAxis) {\n    const separatorLine = yAxis.separatorLine\n    if (!yAxis.display || !separatorLine.display) {\n      return\n    }\n    ctx.strokeStyle = separatorLine.color\n    ctx.lineWidth = separatorLine.size\n\n    if (separatorLine.style === LineStyle.DASH) {\n      ctx.setLineDash(separatorLine.dashValue)\n    }\n\n    for (let i = 0; i < this.values.length; i++) {\n      const y = this.values[i].y\n      ctx.beginPath()\n      ctx.moveTo(this.handler.contentLeft(), y)\n      ctx.lineTo(this.handler.contentRight(), y)\n      ctx.stroke()\n      ctx.closePath()\n    }\n    ctx.setLineDash([])\n  }\n\n  /**\n   * 绘制刻度线\n   * @param ctx\n   * @param yAxis\n   */\n  renderTickLines (ctx, yAxis) {\n    const tickText = yAxis.tick.text\n    if (!yAxis.display || !tickText.display) {\n      return\n    }\n    const tickLine = yAxis.tick.line\n    ctx.lineWidth = tickLine.size\n    ctx.strokeStyle = tickLine.color\n\n    const tickLineLength = tickLine.length\n\n    let startX\n    let endX\n    const tickTextPosition = tickText.position\n    if (yAxis.position === YAxisPosition.LEFT) {\n      startX = this.handler.contentLeft()\n      if (tickTextPosition === YAxisTextPosition.OUTSIDE) {\n        endX = startX - tickLineLength\n      } else {\n        endX = startX + tickLineLength\n      }\n    } else {\n      startX = this.handler.contentRight()\n      if (tickTextPosition === YAxisTextPosition.OUTSIDE) {\n        endX = startX + tickLineLength\n      } else {\n        endX = startX - tickLineLength\n      }\n    }\n    for (let i = 0; i < this.values.length; i++) {\n      const y = this.values[i].y\n      ctx.beginPath()\n      ctx.moveTo(startX, y)\n      ctx.lineTo(endX, y)\n      ctx.stroke()\n      ctx.closePath()\n    }\n  }\n\n  calcAxisMinMax (indicatorType, isCandleChart = false, isRealTimeChart = false, isShowAverageLine = false) {\n    const dataList = this.storage.dataList\n    const min = this.storage.minPos\n    const max = Math.min(min + this.storage.range, dataList.length)\n    const minMaxArray = [Number.MAX_SAFE_INTEGER, Number.MIN_SAFE_INTEGER]\n    if (isRealTimeChart) {\n      for (let i = min; i < max; i++) {\n        const kLineData = dataList[i]\n        const minCompareArray = [kLineData.close, minMaxArray[0]]\n        const maxCompareArray = [kLineData.close, minMaxArray[1]]\n        if (isShowAverageLine) {\n          minCompareArray.push(kLineData.average)\n          maxCompareArray.push(kLineData.average)\n        }\n        minMaxArray[0] = Math.min.apply(null, minCompareArray)\n        minMaxArray[1] = Math.max.apply(null, maxCompareArray)\n      }\n    } else {\n      for (let i = min; i < max; i++) {\n        const kLineData = dataList[i]\n        this.compareMinMax(kLineData, indicatorType, minMaxArray)\n        if (isCandleChart) {\n          minMaxArray[0] = Math.min(kLineData.low, minMaxArray[0])\n          minMaxArray[1] = Math.max(kLineData.high, minMaxArray[1])\n        }\n      }\n      if (indicatorType === IndicatorType.VOL) {\n        minMaxArray[0] = 0\n      }\n    }\n\n    if (minMaxArray[0] !== Number.MAX_SAFE_INTEGER && minMaxArray[1] !== Number.MIN_SAFE_INTEGER) {\n      this.axisMinimum = minMaxArray[0]\n      this.axisMaximum = minMaxArray[1]\n    }\n  }\n\n  compareMinMax (kLineData, indicatorType, minMaxArray) {\n    const indicatorData = formatValue(kLineData, indicatorType.toLowerCase(), {})\n    Object.keys(indicatorData).forEach(key => {\n      const value = indicatorData[key]\n      if (value || value === 0) {\n        minMaxArray[0] = Math.min(minMaxArray[0], value)\n        minMaxArray[1] = Math.max(minMaxArray[1], value)\n      }\n    })\n    if (indicatorType === IndicatorType.BOLL || indicatorType === IndicatorType.SAR) {\n      minMaxArray[0] = Math.min(minMaxArray[0], kLineData.low)\n      minMaxArray[1] = Math.max(minMaxArray[1], kLineData.high)\n    }\n    return minMaxArray\n  }\n\n  computeAxis (yAxis) {\n    let min = this.axisMinimum\n    let max = this.axisMaximum\n    if (min === Number.MAX_SAFE_INTEGER || max === Number.MIN_SAFE_INTEGER || (max === 0 && min === 0)) {\n      return\n    }\n\n    let range = Math.abs(max - min)\n    if (range === 0) {\n      max += 1\n      min -= 1\n      range = Math.abs(max - min)\n    }\n    this.axisMinimum = min - (range / 100.0) * 10.0\n    this.axisMaximum = max + (range / 100.0) * 20.0\n\n    this.axisRange = Math.abs(this.axisMaximum - this.axisMinimum)\n\n    this.computeAxisValues()\n    this.fixComputeAxisValues(yAxis)\n  }\n\n  fixComputeAxisValues (yAxis) {\n    const valueLength = this.values.length\n    if (valueLength > 0) {\n      const textHeight = yAxis.tick.text.size\n      const firstValueY = this.getY(this.values[0].v)\n      let subValueCount = 1\n      if (valueLength > 1) {\n        const secondValueY = this.getY(this.values[1].v)\n        const subY = Math.abs(secondValueY - firstValueY)\n        if (subY < textHeight * 2) {\n          subValueCount = Math.ceil(textHeight * 2 / subY)\n        }\n      }\n      const values = []\n      for (let i = 0; i < valueLength; i += subValueCount) {\n        const v = this.values[i].v\n        const y = this.getY(v)\n        if (y > this.handler.contentTop() + textHeight &&\n          y < this.handler.contentBottom() - textHeight) {\n          values.push({ v, y })\n        }\n      }\n      this.values = values\n    }\n  }\n\n  getY (value) {\n    return (1.0 - (value - this.axisMinimum) / this.axisRange) * this.handler.getContentHeight()\n  }\n\n  getValue (y) {\n    return (1.0 - y / this.handler.getContentHeight()) * this.axisRange + this.axisMinimum\n  }\n}\n\nexport default YAxisRender\n","import Chart from './Chart'\nimport IndicatorRender from '../render/IndicatorRender'\nimport YAxisRender from '../render/YAxisRender'\n\nimport { IndicatorType } from '../internal/constants'\n\nclass IndicatorChart extends Chart {\n  constructor (\n    dom, style, storage, indicatorParams,\n    defaultIndicatorType = IndicatorType.MACD) {\n    super(dom, style)\n    this.indicatorParams = indicatorParams\n    this.indicatorType = defaultIndicatorType\n    this.yAxisRender = new YAxisRender(this.handler, storage)\n    this.chartRender = new IndicatorRender(this.handler, storage, this.yAxisRender)\n  }\n\n  draw () {\n    if (this.isDrawChart()) {\n      const yAxis = this.style.yAxis\n      this.calcYAxisMinMax()\n      this.yAxisRender.computeAxis(yAxis)\n      this.yAxisRender.renderSeparatorLines(this.ctx, yAxis)\n      this.drawChart()\n      this.yAxisRender.renderAxisLine(this.ctx, yAxis)\n      this.yAxisRender.renderTickLines(this.ctx, yAxis)\n      this.yAxisRender.renderAxisLabels(this.ctx, yAxis)\n    }\n  }\n\n  drawChart () {\n    this.chartRender.renderIndicator(\n      this.ctx, this.indicatorType, this.style.indicator, this.indicatorParams, false)\n    this.chartRender.renderHorizontalSeparatorLine(this.ctx, this.style.xAxis)\n  }\n\n  isDrawChart () {\n    return this.indicatorType !== IndicatorType.NO\n  }\n\n  calcYAxisMinMax () {\n    this.yAxisRender.calcAxisMinMax(this.indicatorType, false, false, false)\n  }\n}\n\nexport default IndicatorChart\n","import IndicatorRender from './IndicatorRender'\nimport { calcTextWidth, getFont } from '../utils/draw'\nimport { formatPrecision } from '../utils/number'\nimport { CandleStyle, LineStyle } from '../internal/constants'\n\nclass CandleRender extends IndicatorRender {\n  /**\n   * 渲染蜡烛图\n   * @param ctx\n   * @param candle\n   * @param pricePrecision\n   */\n  renderCandle (ctx, candle, pricePrecision) {\n    ctx.lineWidth = 1\n    let rect = []\n    let markHighestPrice = Number.MIN_SAFE_INTEGER\n    let markHighestPriceX = -1\n    let markLowestPrice = Number.MAX_SAFE_INTEGER\n    let markLowestPriceX = -1\n    const dataList = this.storage.dataList\n    const onRendering = (x, i, kLineData, halfBarSpace) => {\n      const refKLineData = dataList[i - 1] || {}\n      const refClose = refKLineData.close || Number.MIN_SAFE_INTEGER\n      const high = kLineData.high\n      const low = kLineData.low\n      const close = kLineData.close\n      const open = kLineData.open\n      if (markHighestPrice < high) {\n        markHighestPrice = high\n        markHighestPriceX = x\n      }\n\n      if (low < markLowestPrice) {\n        markLowestPrice = low\n        markLowestPriceX = x\n      }\n      if (close > refClose) {\n        ctx.strokeStyle = candle.increasingColor\n        ctx.fillStyle = candle.increasingColor\n      } else {\n        ctx.strokeStyle = candle.decreasingColor\n        ctx.fillStyle = candle.decreasingColor\n      }\n\n      if (candle.style !== CandleStyle.OHLC) {\n        const openY = this.yAxisRender.getY(open)\n        const closeY = this.yAxisRender.getY(close)\n        const highY = this.yAxisRender.getY(high)\n        const lowY = this.yAxisRender.getY(low)\n        const highLine = []\n        const lowLine = []\n        highLine[0] = highY\n        lowLine[1] = lowY\n        if (openY > closeY) {\n          highLine[1] = closeY\n          lowLine[0] = openY\n          rect = [x - halfBarSpace, closeY, halfBarSpace * 2, openY - closeY]\n        } else if (openY < closeY) {\n          highLine[1] = openY\n          lowLine[0] = closeY\n          rect = [x - halfBarSpace, openY, halfBarSpace * 2, closeY - openY]\n        } else {\n          highLine[1] = openY\n          lowLine[0] = closeY\n          rect = [x - halfBarSpace, openY, halfBarSpace * 2, 1]\n        }\n        ctx.beginPath()\n        ctx.moveTo(x, highLine[0])\n        ctx.lineTo(x, highLine[1])\n        ctx.stroke()\n        ctx.closePath()\n\n        ctx.beginPath()\n        ctx.moveTo(x, lowLine[0])\n        ctx.lineTo(x, lowLine[1])\n        ctx.stroke()\n        ctx.closePath()\n        if (rect[3] < 1) {\n          rect[3] = 1\n        }\n        switch (candle.style) {\n          case CandleStyle.SOLID: {\n            ctx.fillRect(rect[0], rect[1], rect[2], rect[3])\n            break\n          }\n          case CandleStyle.STROKE: {\n            ctx.strokeRect(rect[0], rect[1], rect[2], rect[3])\n            break\n          }\n          case CandleStyle.INCREASING_STROKE: {\n            if (close > refClose) {\n              ctx.strokeRect(rect[0], rect[1], rect[2], rect[3])\n            } else {\n              ctx.fillRect(rect[0], rect[1], rect[2], rect[3])\n            }\n            break\n          }\n          case CandleStyle.DECREASING_STROKE: {\n            if (close > refClose) {\n              ctx.fillRect(rect[0], rect[1], rect[2], rect[3])\n            } else {\n              ctx.strokeRect(rect[0], rect[1], rect[2], rect[3])\n            }\n            break\n          }\n        }\n      } else {\n        this.renderOhlc(\n          ctx, halfBarSpace, x, kLineData,\n          refKLineData, candle.increasingColor, candle.decreasingColor\n        )\n      }\n    }\n    this.renderGraphics(ctx, onRendering)\n    this.highestMarkData = { x: markHighestPriceX, price: markHighestPrice }\n    this.lowestMarkData = { x: markLowestPriceX, price: markLowestPrice }\n  }\n\n  /**\n   * 渲染最高价标记\n   * @param ctx\n   * @param highestPriceMark\n   * @param pricePrecision\n   */\n  renderHighestPriceMark (ctx, highestPriceMark, pricePrecision) {\n    const price = this.highestMarkData.price\n    if (price === Number.MIN_SAFE_INTEGER || !highestPriceMark.display) {\n      return\n    }\n    this.renderLowestHighestPriceMark(\n      ctx, highestPriceMark, this.highestMarkData.x, price, true, pricePrecision\n    )\n  }\n\n  /**\n   * 绘制最低价标记\n   * @param ctx\n   * @param lowestPriceMark\n   * @param pricePrecision\n   */\n  renderLowestPriceMark (ctx, lowestPriceMark, pricePrecision) {\n    const price = this.lowestMarkData.price\n    if (price === Number.MAX_SAFE_INTEGER || !lowestPriceMark.display) {\n      return\n    }\n    this.renderLowestHighestPriceMark(\n      ctx, lowestPriceMark, this.lowestMarkData.x, price, false, pricePrecision\n    )\n  }\n\n  /**\n   * 渲染最高最低价格标记\n   * @param ctx\n   * @param priceMark\n   * @param x\n   * @param price\n   * @param isHigh\n   * @param pricePrecision\n   */\n  renderLowestHighestPriceMark (ctx, priceMark, x, price, isHigh, pricePrecision) {\n    ctx.save()\n    ctx.beginPath()\n    ctx.rect(\n      0, 0,\n      this.handler.contentRight() - this.handler.contentLeft(),\n      this.handler.contentBottom() - this.handler.contentTop()\n    )\n    ctx.closePath()\n    ctx.clip()\n    const priceY = this.yAxisRender.getY(price)\n    const startX = x\n    let startY = priceY + (isHigh ? -2 : 2)\n    ctx.textAlign = 'left'\n    ctx.lineWidth = 1\n    ctx.strokeStyle = priceMark.color\n    ctx.fillStyle = priceMark.color\n    ctx.beginPath()\n    ctx.moveTo(startX, startY)\n    ctx.lineTo(startX - 2, startY + (isHigh ? -2 : 2))\n    ctx.stroke()\n    ctx.closePath()\n\n    ctx.beginPath()\n    ctx.moveTo(startX, startY)\n    ctx.lineTo(startX + 2, startY + (isHigh ? -2 : 2))\n    ctx.stroke()\n    ctx.closePath()\n    // 绘制竖线\n    ctx.beginPath()\n    ctx.moveTo(startX, startY)\n    startY = startY + (isHigh ? -5 : 5)\n    ctx.lineTo(startX, startY)\n    ctx.stroke()\n    ctx.closePath()\n\n    ctx.beginPath()\n    ctx.moveTo(startX, startY)\n    ctx.lineTo(startX + 5, startY)\n    ctx.stroke()\n    ctx.closePath()\n\n    ctx.font = getFont(priceMark.text.size)\n    const text = formatPrecision(price, pricePrecision)\n    ctx.textBaseline = 'middle'\n    ctx.fillText(text, startX + 5 + priceMark.text.margin, startY)\n    ctx.restore()\n  }\n\n  /**\n   * 绘制最新价标记\n   * @param ctx\n   * @param lastPriceMark\n   * @param isRenderTextLeft\n   * @param isRenderTextOutside\n   * @param pricePrecision\n   */\n  renderLastPriceMark (ctx, lastPriceMark, isRenderTextLeft, isRenderTextOutside, pricePrecision) {\n    const dataSize = this.storage.dataList.length\n    if (!lastPriceMark.display || dataSize === 0) {\n      return\n    }\n    const preKLineData = this.storage.dataList[dataSize - 2] || {}\n    const preLastPrice = preKLineData.close || Number.MIN_SAFE_INTEGER\n    const lastPrice = this.storage.dataList[dataSize - 1].close\n    let priceY = this.yAxisRender.getY(lastPrice)\n    const height = this.handler.contentBottom() - this.handler.contentTop()\n    priceY = +(Math.max(height * 0.05, Math.min(priceY, height * 0.98))).toFixed(0)\n    const color = lastPrice > preLastPrice ? lastPriceMark.increasingColor : lastPriceMark.decreasingColor\n    let lineStartX = this.handler.contentLeft()\n    let lineEndX = this.handler.contentRight()\n    const priceMarkText = lastPriceMark.text\n    const displayText = priceMarkText.display\n    if (displayText) {\n      const text = formatPrecision(lastPrice, pricePrecision)\n      const textSize = lastPriceMark.text.size\n      const rectWidth = calcTextWidth(textSize, text) + priceMarkText.paddingLeft + priceMarkText.paddingRight\n      const rectHeight = priceMarkText.paddingTop + textSize + priceMarkText.paddingBottom\n      let rectStartX\n      if (isRenderTextOutside) {\n        if (isRenderTextLeft) {\n          rectStartX = lineStartX - rectWidth\n        } else {\n          rectStartX = lineEndX\n        }\n      } else {\n        if (isRenderTextLeft) {\n          rectStartX = lineStartX\n          lineStartX += rectWidth\n        } else {\n          rectStartX = lineEndX - rectWidth\n          lineEndX = rectStartX\n        }\n      }\n      ctx.fillStyle = color\n      ctx.fillRect(rectStartX, priceY - priceMarkText.paddingTop - textSize / 2, rectWidth, rectHeight)\n      ctx.fillStyle = priceMarkText.color\n      ctx.font = getFont(textSize)\n      ctx.textBaseline = 'middle'\n      ctx.fillText(text, rectStartX + priceMarkText.paddingLeft, priceY)\n    }\n    const priceMarkLine = lastPriceMark.line\n    if (priceMarkLine.display) {\n      ctx.strokeStyle = color\n      ctx.lineWidth = priceMarkLine.size\n      if (priceMarkLine.style === LineStyle.DASH) {\n        ctx.setLineDash(priceMarkLine.dashValue)\n      }\n      ctx.beginPath()\n      ctx.moveTo(lineStartX, priceY)\n      ctx.lineTo(lineEndX, priceY)\n      ctx.stroke()\n      ctx.closePath()\n      ctx.setLineDash([])\n    }\n  }\n\n  /**\n   * 绘制分时线\n   * @param ctx\n   * @param realTime\n   */\n  renderTimeLine (ctx, realTime) {\n    const timeLinePoints = []\n    const timeLineAreaPoints = [{ x: this.handler.contentLeft(), y: this.handler.contentBottom() }]\n    const averageLinePoints = []\n\n    const minPos = this.storage.minPos\n    const range = this.storage.range\n    const dataSize = this.storage.dataList.length\n    const onRendering = (x, i, kLineData) => {\n      const average = kLineData.average\n      const closeY = this.yAxisRender.getY(kLineData.close)\n      const averageY = this.yAxisRender.getY(average)\n      timeLinePoints.push({ x: x, y: closeY })\n      if (average || average === 0) {\n        averageLinePoints.push({ x: x, y: averageY })\n      }\n      if (i === minPos) {\n        timeLineAreaPoints.push({ x: this.handler.contentLeft(), y: closeY })\n        timeLineAreaPoints.push({ x: x, y: closeY })\n      } else if (i === minPos + range - 1) {\n        timeLineAreaPoints.push({ x: x, y: closeY })\n        timeLineAreaPoints.push({ x: this.handler.contentRight(), y: closeY })\n        timeLineAreaPoints.push({ x: this.handler.contentRight(), y: this.handler.contentBottom() })\n      } else if (i === dataSize - 1) {\n        timeLineAreaPoints.push({ x: x, y: closeY })\n        timeLineAreaPoints.push({ x: x, y: this.handler.contentBottom() })\n      } else {\n        timeLineAreaPoints.push({ x: x, y: closeY })\n      }\n    }\n    const onRenderEnd = () => {\n      const timeLine = realTime.timeLine\n      if (timeLinePoints.length > 0) {\n        // 绘制分时线\n        ctx.lineWidth = timeLine.size\n        ctx.strokeStyle = timeLine.color\n        ctx.beginPath()\n        ctx.moveTo(timeLinePoints[0].x, timeLinePoints[0].y)\n        for (let i = 1; i < timeLinePoints.length; i++) {\n          ctx.lineTo(timeLinePoints[i].x, timeLinePoints[i].y)\n        }\n        ctx.stroke()\n        ctx.closePath()\n      }\n\n      if (timeLineAreaPoints.length > 0) {\n        // 绘制分时线填充区域\n        ctx.fillStyle = timeLine.areaFillColor\n        ctx.beginPath()\n        ctx.moveTo(timeLineAreaPoints[0].x, timeLineAreaPoints[0].y)\n        for (let i = 1; i < timeLineAreaPoints.length; i++) {\n          ctx.lineTo(timeLineAreaPoints[i].x, timeLineAreaPoints[i].y)\n        }\n        ctx.closePath()\n        ctx.fill()\n      }\n      const averageLine = realTime.averageLine\n      if (averageLine.display && averageLinePoints.length > 0) {\n        // 绘制均线\n        ctx.lineWidth = averageLine.size\n        ctx.strokeStyle = averageLine.color\n        ctx.beginPath()\n        ctx.moveTo(averageLinePoints[0].x, averageLinePoints[0].y)\n        for (let i = 1; i < averageLinePoints.length; i++) {\n          ctx.lineTo(averageLinePoints[i].x, averageLinePoints[i].y)\n        }\n        ctx.stroke()\n        ctx.closePath()\n      }\n    }\n    this.renderGraphics(ctx, onRendering, onRenderEnd)\n  }\n}\n\nexport default CandleRender\n","import IndicatorChart from './IndicatorChart'\nimport CandleRender from '../render/CandleRender'\n\nimport { IndicatorType, YAxisPosition, YAxisTextPosition, ChartType } from '../internal/constants'\n\nclass CandleChart extends IndicatorChart {\n  constructor (dom, style, storage, indicatorParams, precision) {\n    super(dom, style, storage, indicatorParams, IndicatorType.MA)\n    this.chartRender = new CandleRender(this.handler, storage, this.yAxisRender)\n    this.precision = precision\n    this.chartType = ChartType.CANDLE\n  }\n\n  draw () {\n    super.draw()\n    this.chartRender.renderLastPriceMark(\n      this.ctx, this.style.lastPriceMark,\n      this.style.yAxis.position === YAxisPosition.LEFT,\n      this.style.yAxis.tick.text.position === YAxisTextPosition.OUTSIDE,\n      this.precision.pricePrecision\n    )\n  }\n\n  drawChart () {\n    if (this.chartType !== ChartType.REAL_TIME) {\n      this.chartRender.renderCandle(this.ctx, this.style.candle, this.precision.pricePrecision)\n      this.chartRender.renderIndicator(\n        this.ctx, this.indicatorType, this.style.indicator,\n        this.indicatorParams, true\n      )\n      this.chartRender.renderHighestPriceMark(this.ctx, this.style.highestPriceMark, this.precision.pricePrecision)\n      this.chartRender.renderLowestPriceMark(this.ctx, this.style.lowestPriceMark, this.precision.pricePrecision)\n    } else {\n      this.chartRender.renderTimeLine(this.ctx, this.style.realTime)\n    }\n  }\n\n  isDrawChart () {\n    return true\n  }\n\n  calcYAxisMinMax () {\n    this.yAxisRender.calcAxisMinMax(\n      this.indicatorType, true,\n      this.chartType === ChartType.REAL_TIME,\n      this.style.realTime.averageLine.display\n    )\n  }\n}\n\nexport default CandleChart\n","/**\n * 获取某点在两点决定的一次函数上的y值\n * @param point1\n * @param point2\n * @param targetPoints\n */\nexport function getLinearY (point1, point2, targetPoints) {\n  const v = []\n  if (point1 && point2 && targetPoints.length > 0) {\n    const subX = (point1.x - point2.x)\n    if (subX === 0) {\n      targetPoints.forEach(point => {\n        v.push(point.y)\n      })\n    } else {\n      const k = (point1.y - point2.y) / subX\n      const b = point1.y - k * point1.x\n      targetPoints.forEach(point => {\n        v.push(point.x * k + b)\n      })\n    }\n  }\n  return v\n}\n\n/**\n * 点是否在线上\n * @param point1\n * @param point2\n * @param targetPoint\n */\nexport function checkPointOnStraightLine (point1, point2, targetPoint) {\n  if (!targetPoint || !point1 || !point2) {\n    return false\n  }\n  if (point1.x === point2.x) {\n    return Math.abs(targetPoint.x - point1.x) < 1\n  }\n  if (point1.y === point2.y) {\n    return Math.abs(targetPoint.y - point1.y) < 1\n  }\n  return Math.abs(targetPoint.y - getLinearY(point1, point2, [targetPoint])[0]) < 1\n}\n\n/**\n * 点是否在线段上\n * @param point1\n * @param point2\n * @param targetPoint\n * @returns {boolean}\n */\nexport function checkPointOnRayLine (point1, point2, targetPoint) {\n  if (!targetPoint || !point1 || !point2) {\n    return false\n  }\n  if (checkPointOnStraightLine(point1, point2, targetPoint)) {\n    if (point1.x === point2.x) {\n      if (point1.y < point2.y) {\n        return targetPoint.y > point1.y - 2\n      } else {\n        return targetPoint.y < point1.y + 2\n      }\n    }\n    if (point1.x < point2.x) {\n      return targetPoint.x > point1.x - 2\n    } else {\n      return targetPoint.x < point1.x + 2\n    }\n  }\n  return false\n}\n\n/**\n * 判断点是否在线段上面\n * @param point1\n * @param point2\n * @param targetPoint\n */\nexport function checkPointOnSegmentLine (point1, point2, targetPoint) {\n  if (!targetPoint || !point1 || !point2) {\n    return false\n  }\n  if (checkPointOnStraightLine(point1, point2, targetPoint)) {\n    const a = Math.sqrt(Math.pow(targetPoint.x - point1.x, 2) + Math.pow(targetPoint.y - point1.y, 2))\n    const b = Math.sqrt(Math.pow(targetPoint.x - point2.x, 2) + Math.pow(targetPoint.y - point2.y, 2))\n    const c = Math.sqrt(Math.pow(point1.x - point2.x, 2) + Math.pow(point1.y - point2.y, 2))\n    return Math.abs(a + b - c) < 2\n  }\n  return false\n}\n\n/**\n * 点是否在圆上\n * @param circleCenterPoint\n * @param radius\n * @param targetPoint\n * @returns {boolean}\n */\nexport function checkPointOnCircle (circleCenterPoint, radius, targetPoint) {\n  if (!targetPoint) {\n    return false\n  }\n  const subX = targetPoint.x - circleCenterPoint.x\n  const subY = targetPoint.y - circleCenterPoint.y\n  return !(subX * subX + subY * subY > radius * radius)\n}\n\n/**\n * 获取平行线\n * @param points\n * @param handler\n * @param isPriceChannelLine\n * @returns {Array}\n */\nexport function getParallelLines (points, handler, isPriceChannelLine) {\n  const lines = []\n  if (points.length > 1) {\n    if (points[0].x === points[1].x) {\n      const startY = handler.contentTop()\n      const endY = handler.contentBottom()\n      lines.push([{ x: points[0].x, y: startY }, { x: points[0].x, y: endY }])\n      if (points.length > 2) {\n        lines.push([{ x: points[2].x, y: startY }, { x: points[2].x, y: endY }])\n        if (isPriceChannelLine) {\n          const distance = points[0].x - points[2].x\n          lines.push([{ x: points[0].x + distance, y: startY }, { x: points[0].x + distance, y: endY }])\n        }\n      }\n    } else {\n      const startX = handler.contentLeft()\n      const endX = handler.contentRight()\n      if (points[0].y === points[1].y) {\n        lines.push([{ x: startX, y: points[0].y }, { x: endX, y: points[0].y }])\n        if (points.length > 2) {\n          lines.push([{ x: startX, y: points[2].y }, { x: endX, y: points[2].y }])\n          if (isPriceChannelLine) {\n            const distance = points[0].y - points[2].y\n            lines.push([{ x: startX, y: points[0].y + distance }, { x: endX, y: points[0].y + distance }])\n          }\n        }\n      } else {\n        const k = (points[0].y - points[1].y) / (points[0].x - points[1].x)\n        const b = points[0].y - k * points[0].x\n        lines.push([{ x: startX, y: startX * k + b }, { x: endX, y: endX * k + b }])\n        if (points.length > 2) {\n          const b1 = points[2].y - k * points[2].x\n          lines.push([{ x: startX, y: startX * k + b1 }, { x: endX, y: endX * k + b1 }])\n          if (isPriceChannelLine) {\n            const b2 = b + (b - b1)\n            lines.push([{ x: startX, y: startX * k + b2 }, { x: endX, y: endX * k + b2 }])\n          }\n        }\n      }\n    }\n  }\n  return lines\n}\n\n/**\n * 获取斐波那契线\n * @param points\n * @param handler\n */\nexport function getFibonacciLines (points, handler) {\n  const lines = []\n  if (points.length > 0) {\n    const startX = handler.contentLeft()\n    const endX = handler.contentRight()\n    lines.push([{ x: startX, y: points[0].y }, { x: endX, y: points[0].y }])\n    if (points.length > 1) {\n      const yDistance = points[0].y - points[1].y\n      lines.push([{ x: startX, y: points[1].y + yDistance * 0.786 }, { x: endX, y: points[1].y + yDistance * 0.786 }])\n      lines.push([{ x: startX, y: points[1].y + yDistance * 0.618 }, { x: endX, y: points[1].y + yDistance * 0.618 }])\n      lines.push([{ x: startX, y: points[1].y + yDistance * 0.5 }, { x: endX, y: points[1].y + yDistance * 0.5 }])\n      lines.push([{ x: startX, y: points[1].y + yDistance * 0.382 }, { x: endX, y: points[1].y + yDistance * 0.382 }])\n      lines.push([{ x: startX, y: points[1].y + yDistance * 0.236 }, { x: endX, y: points[1].y + yDistance * 0.236 }])\n      lines.push([{ x: startX, y: points[1].y }, { x: endX, y: points[1].y }])\n    }\n  }\n  return lines\n}\n","import Render from './Render'\nimport {\n  checkPointOnStraightLine,\n  checkPointOnCircle,\n  getLinearY,\n  checkPointOnRayLine,\n  checkPointOnSegmentLine,\n  getParallelLines, getFibonacciLines\n} from '../utils/graphicMark'\nimport { formatPrecision } from '../utils/number'\nimport { getFont } from '../utils/draw'\nimport { GraphicMarkType, GraphicMarkDrawStep } from '../internal/constants'\n\nclass GraphicMarkRender extends Render {\n  constructor (handler, storage, yRender) {\n    super(handler, storage)\n    this.yRender = yRender\n  }\n\n  /**\n   * 渲染水平直线\n   * @param ctx\n   * @param graphicMark\n   */\n  renderHorizontalStraightLine (ctx, graphicMark) {\n    this.renderPointGraphicMark(\n      ctx, GraphicMarkType.HORIZONTAL_STRAIGHT_LINE, graphicMark, checkPointOnStraightLine,\n      (points) => {\n        return [[\n          {\n            x: this.handler.contentLeft(),\n            y: points[0].y\n          }, {\n            x: this.handler.contentRight(),\n            y: points[0].y\n          }\n        ]]\n      }\n    )\n  }\n\n  /**\n   * 渲染垂直直线\n   * @param ctx\n   * @param graphicMark\n   */\n  renderVerticalStraightLine (ctx, graphicMark) {\n    this.renderPointGraphicMark(\n      ctx, GraphicMarkType.VERTICAL_STRAIGHT_LINE, graphicMark, checkPointOnStraightLine,\n      (points) => {\n        return [[\n          {\n            x: points[0].x,\n            y: this.handler.contentTop()\n          }, {\n            x: points[0].x,\n            y: this.handler.contentBottom()\n          }\n        ]]\n      }\n    )\n  }\n\n  /**\n   * 渲染直线\n   * @param ctx\n   * @param graphicMark\n   */\n  renderStraightLine (ctx, graphicMark) {\n    this.renderPointGraphicMark(\n      ctx, GraphicMarkType.STRAIGHT_LINE, graphicMark, checkPointOnStraightLine,\n      (points) => {\n        if (points[0].x === points[1].x) {\n          return [[\n            {\n              x: points[0].x,\n              y: this.handler.contentTop()\n            }, {\n              x: points[0].x,\n              y: this.handler.bottom\n            }\n          ]]\n        }\n        const y = getLinearY(\n          points[0], points[1],\n          [\n            {\n              x: this.handler.contentLeft(),\n              y: points[0].y\n            }, {\n              x: this.handler.contentRight(),\n              y: points[0].y\n            }\n          ]\n        )\n        return [[\n          {\n            x: this.handler.contentLeft(),\n            y: y[0]\n          }, {\n            x: this.handler.contentRight(),\n            y: y[1]\n          }\n        ]]\n      }\n    )\n  }\n\n  /**\n   * 绘制水平射线\n   * @param ctx\n   * @param graphicMark\n   */\n  renderHorizontalRayLine (ctx, graphicMark) {\n    this.renderPointGraphicMark(\n      ctx, GraphicMarkType.HORIZONTAL_RAY_LINE, graphicMark, checkPointOnRayLine,\n      (points) => {\n        const point = { x: this.handler.contentLeft(), y: points[0].y }\n        if (points[0].x < points[1].x) {\n          point.x = this.handler.contentRight()\n        }\n        return [[points[0], point]]\n      }\n    )\n  }\n\n  /**\n   * 绘制垂直射线\n   * @param ctx\n   * @param graphicMark\n   */\n  renderVerticalRayLine (ctx, graphicMark) {\n    this.renderPointGraphicMark(\n      ctx, GraphicMarkType.VERTICAL_RAY_LINE, graphicMark, checkPointOnRayLine,\n      (points) => {\n        const point = { x: points[0].x, y: this.handler.contentTop() }\n        if (points[0].y < points[1].y) {\n          point.y = this.handler.contentBottom()\n        }\n        return [[points[0], point]]\n      }\n    )\n  }\n\n  /**\n   * 渲染射线\n   * @param ctx\n   * @param graphicMark\n   */\n  renderRayLine (ctx, graphicMark) {\n    this.renderPointGraphicMark(\n      ctx, GraphicMarkType.RAY_LINE, graphicMark, checkPointOnRayLine,\n      (points) => {\n        let point\n        if (points[0].x === points[1].x && points[0].y !== points[1].y) {\n          if (points[0].y < points[1].y) {\n            point = {\n              x: points[0].x,\n              y: this.handler.contentBottom()\n            }\n          } else {\n            point = {\n              x: points[0].x,\n              y: this.handler.contentTop()\n            }\n          }\n        } else if (points[0].x > points[1].x) {\n          point = {\n            x: this.handler.contentLeft(),\n            y: getLinearY(points[0], points[1], [{ x: this.handler.contentLeft(), y: points[0].y }])[0]\n          }\n        } else {\n          point = {\n            x: this.handler.contentRight(),\n            y: getLinearY(points[0], points[1], [{ x: this.handler.contentRight(), y: points[0].y }])[0]\n          }\n        }\n        return [[points[0], point]]\n      }\n    )\n  }\n\n  /**\n   * 绘制线段，水平线段，垂直线段，普通线段一起绘制\n   * @param ctx\n   * @param graphicMark\n   */\n  renderSegmentLine (ctx, graphicMark) {\n    this.renderPointGraphicMark(\n      ctx, GraphicMarkType.HORIZONTAL_SEGMENT_LINE, graphicMark, checkPointOnSegmentLine\n    )\n    this.renderPointGraphicMark(\n      ctx, GraphicMarkType.VERTICAL_SEGMENT_LINE, graphicMark, checkPointOnSegmentLine\n    )\n    this.renderPointGraphicMark(\n      ctx, GraphicMarkType.SEGMENT_LINE, graphicMark, checkPointOnSegmentLine\n    )\n  }\n\n  /**\n   * 绘制价格线\n   * @param ctx\n   * @param graphicMark\n   * @param pricePrecision\n   */\n  renderPriceLine (ctx, graphicMark, pricePrecision) {\n    this.renderPointGraphicMark(\n      ctx, GraphicMarkType.PRICE_LINE, graphicMark, checkPointOnRayLine,\n      (points) => {\n        return [[points[0], { x: this.handler.contentRight(), y: points[0].y }]]\n      },\n      true, pricePrecision\n    )\n  }\n\n  /**\n   * 渲染价格通道线\n   * @param ctx\n   * @param graphicMark\n   */\n  renderPriceChannelLine (ctx, graphicMark) {\n    this.renderPointGraphicMark(\n      ctx, GraphicMarkType.PRICE_CHANNEL_LINE, graphicMark, checkPointOnStraightLine,\n      (points) => {\n        return getParallelLines(points, this.handler, true)\n      }\n    )\n  }\n\n  /**\n   * 渲染平行直线\n   * @param ctx\n   * @param graphicMark\n   */\n  renderParallelStraightLine (ctx, graphicMark) {\n    this.renderPointGraphicMark(\n      ctx, GraphicMarkType.PARALLEL_STRAIGHT_LINE, graphicMark, checkPointOnStraightLine,\n      (points) => {\n        return getParallelLines(points, this.handler)\n      }\n    )\n  }\n\n  /**\n   * 渲染斐波那契线\n   * @param ctx\n   * @param graphicMark\n   * @param pricePrecision\n   */\n  renderFibonacciLine (ctx, graphicMark, pricePrecision) {\n    this.renderPointGraphicMark(\n      ctx, GraphicMarkType.FIBONACCI_LINE, graphicMark, checkPointOnStraightLine,\n      (points) => {\n        return getFibonacciLines(points, this.handler)\n      }, true, pricePrecision, ['(100.0%)', '(78.6%)', '(61.8%)', '(50.0%)', '(38.2%)', '(23.6%)', '(0.0%)']\n    )\n  }\n\n  /**\n   * 渲染点形成的图形\n   * @param ctx\n   * @param markerKey\n   * @param graphicMark\n   * @param checkPointOnLine\n   * @param generatedLinePoints\n   * @param isRenderPrice\n   * @param pricePrecision\n   * @param priceExtendsText\n   */\n  renderPointGraphicMark (ctx, markerKey, graphicMark, checkPointOnLine, generatedLinePoints, isRenderPrice, pricePrecision, priceExtendsText) {\n    const graphicMarkData = this.storage.graphicMarkDatas[markerKey]\n    graphicMarkData.forEach(({ points, drawStep }) => {\n      const circlePoints = []\n      points.forEach(({ xPos, price }) => {\n        const x = (xPos - this.storage.minPos) * this.storage.dataSpace\n        const y = this.yRender.getY(price)\n        circlePoints.push({ x, y })\n      })\n      const linePoints = generatedLinePoints ? generatedLinePoints(circlePoints) : [circlePoints]\n      this.renderGraphicMark(\n        ctx, graphicMark, linePoints, circlePoints, drawStep, checkPointOnLine,\n        isRenderPrice, pricePrecision, priceExtendsText\n      )\n    })\n  }\n\n  /**\n   * 绘制标记图形\n   * @param ctx\n   * @param graphicMark\n   * @param linePoints\n   * @param circlePoints\n   * @param drawStep\n   * @param checkPointOnLine\n   * @param isRenderPrice\n   * @param pricePrecision\n   * @param priceExtendsText\n   */\n  renderGraphicMark (\n    ctx, graphicMark, linePoints, circlePoints, drawStep, checkPointOnLine,\n    isRenderPrice, pricePrecision, priceExtendsText = []\n  ) {\n    const graphicMarkPoint = this.storage.graphicMarkPoint\n    let isOnLine = false\n    linePoints.forEach((points, i) => {\n      if (points.length > 1) {\n        const isOn = checkPointOnLine(points[0], points[1], graphicMarkPoint)\n        if (!isOnLine) {\n          isOnLine = isOn\n        }\n        if (drawStep !== GraphicMarkDrawStep.STEP_1) {\n          ctx.strokeStyle = graphicMark.line.color\n          ctx.lineWidth = graphicMark.line.size\n          ctx.beginPath()\n          ctx.moveTo(points[0].x, points[0].y)\n          ctx.lineTo(points[1].x, points[1].y)\n          ctx.stroke()\n          ctx.closePath()\n          // 渲染价格\n          if (isRenderPrice) {\n            const price = this.yRender.getValue(points[0].y)\n            const priceText = formatPrecision(price, pricePrecision)\n            const textSize = graphicMark.text.size\n            ctx.font = getFont(textSize)\n            ctx.fillStyle = graphicMark.text.color\n            ctx.fillText(`${priceText} ${priceExtendsText[i] || ''}`, points[0].x + graphicMark.text.marginLeft, points[0].y - graphicMark.text.marginBottom)\n          }\n        }\n      }\n    })\n    const radius = graphicMark.point.radius\n    let isCircleActive = false\n    for (let i = 0; i < circlePoints.length; i++) {\n      isCircleActive = checkPointOnCircle(circlePoints[i], radius, graphicMarkPoint)\n      if (isCircleActive) {\n        break\n      }\n    }\n    circlePoints.forEach(circlePoint => {\n      const isOnCircle = checkPointOnCircle(circlePoint, radius, graphicMarkPoint)\n      if (isCircleActive || isOnLine) {\n        let circleRadius = radius\n        let circleColor = graphicMark.point.backgroundColor\n        let circleBorderColor = graphicMark.point.borderColor\n        let circleBorderSize = graphicMark.point.borderSize\n        if (isOnCircle) {\n          circleRadius = graphicMark.point.activeRadius\n          circleColor = graphicMark.point.activeBackgroundColor\n          circleBorderColor = graphicMark.point.activeBorderColor\n          circleBorderSize = graphicMark.point.activeBorderSize\n        }\n        ctx.fillStyle = circleColor\n        ctx.beginPath()\n        ctx.arc(circlePoint.x, circlePoint.y, circleRadius, 0, Math.PI * 2)\n        ctx.closePath()\n        ctx.fill()\n        ctx.lineWidth = circleBorderSize\n        ctx.strokeStyle = circleBorderColor\n        ctx.beginPath()\n        ctx.arc(circlePoint.x, circlePoint.y, circleRadius, 0, Math.PI * 2)\n        ctx.closePath()\n        ctx.stroke()\n      }\n    })\n  }\n}\n\nexport default GraphicMarkRender\n","import Chart from './Chart'\nimport GraphicMarkRender from '../render/GraphicMarkRender'\n\nclass GraphicMarkChart extends Chart {\n  constructor (dom, style, storage, yAxisRender, precision) {\n    super(dom, style)\n    this.graphicMarkRender = new GraphicMarkRender(this.handler, storage, yAxisRender)\n    this.precision = precision\n  }\n\n  draw () {\n    const graphicMark = this.style.marker\n    // 画线\n    this.graphicMarkRender.renderHorizontalStraightLine(this.ctx, graphicMark)\n    this.graphicMarkRender.renderVerticalStraightLine(this.ctx, graphicMark)\n    this.graphicMarkRender.renderStraightLine(this.ctx, graphicMark)\n    this.graphicMarkRender.renderHorizontalRayLine(this.ctx, graphicMark)\n    this.graphicMarkRender.renderVerticalRayLine(this.ctx, graphicMark)\n    this.graphicMarkRender.renderRayLine(this.ctx, graphicMark)\n    this.graphicMarkRender.renderSegmentLine(this.ctx, graphicMark)\n    this.graphicMarkRender.renderPriceLine(this.ctx, graphicMark, this.precision.pricePrecision)\n    this.graphicMarkRender.renderPriceChannelLine(this.ctx, graphicMark)\n    this.graphicMarkRender.renderParallelStraightLine(this.ctx, graphicMark)\n    this.graphicMarkRender.renderFibonacciLine(this.ctx, graphicMark, this.precision.pricePrecision)\n  }\n}\n\nexport default GraphicMarkChart\n","import { isNumber } from './data'\n\n/**\n * 格式化时间\n * @param timestamp\n * @param format\n * @returns {string}\n */\nexport function formatDate (timestamp, format) {\n  const date = getDate(timestamp)\n  if (date) {\n    const year = date.getFullYear().toString()\n    const month = (date.getMonth() + 1).toString()\n    const day = date.getDate().toString()\n    const hours = date.getHours().toString()\n    const minutes = date.getMinutes().toString()\n    const monthText = month.length === 1 ? `0${month}` : month\n    const dayText = day.length === 1 ? `0${day}` : day\n    const hourText = hours.length === 1 ? '0' + hours : hours\n    const minuteText = minutes.length === 1 ? '0' + minutes : minutes\n    switch (format) {\n      case 'YYYY': {\n        return year\n      }\n      case 'YYYY-MM': {\n        return `${year}-${monthText}`\n      }\n      case 'YYYY-MM-DD': {\n        return `${year}-${monthText}-${dayText}`\n      }\n      case 'YYYY-MM-DD hh:mm': {\n        return `${year}-${monthText}-${dayText} ${hourText}:${minuteText}`\n      }\n      case 'MM-DD': {\n        return `${monthText}-${dayText}`\n      }\n      case 'MM': {\n        return monthText\n      }\n      case 'hh:mm': {\n        return `${hourText}:${minuteText}`\n      }\n      default: {\n        return `${monthText}-${dayText} ${hourText}:${minuteText}`\n      }\n    }\n  }\n  return '--'\n}\n\n/**\n * 获取周几\n * @param timestamp\n * @returns {number}\n */\nexport function getWeekDay (timestamp) {\n  const date = getDate(timestamp)\n  if (date) {\n    return date.getDay()\n  }\n  return -1\n}\n\nfunction getDate (timestamp) {\n  if (timestamp && isNumber(timestamp)) {\n    return new Date(timestamp)\n  }\n  return null\n}\n","import {\n  IndicatorType, LineStyle, CandleStyle, YAxisTextPosition, YAxisPosition,\n  TooltipCandleChartTextDisplayType, TooltipTextDisplayRule\n} from './constants'\n/**\n * 默认的样式配置\n * @returns {{realTime: {timeLine: {areaFillColor: string, color: string, size: number}, averageLine: {color: string, size: number, display: boolean}}, indicator: {decreasingColor: string, lineColors: [string, string, string, string, string], increasingColor: string, lineSize: number}, yAxis: {line: {color: string, size: number, display: boolean}, display: boolean, minWidth: number, position: string, tick: {line: {size: number, color: string, display: boolean, length: number}, text: {margin: number, color: string, size: number, display: boolean, valueFormatter: null, position: string}}, separatorLine: {size: number, color: string, dashValue: number[], display: boolean, style: string}, maxWidth: number}, lowestPriceMark: {color: string, display: boolean, text: {margin: number, size: number, valueFormatter: null}}, xAxis: {minHeight: number, maxHeight: number, line: {color: string, size: number, display: boolean}, display: boolean, tick: {line: {size: number, color: string, display: boolean, length: number}, text: {margin: number, color: string, size: number, display: boolean, valueFormatter: null}}, separatorLine: {size: number, color: string, dashValue: number[], display: boolean, style: string}}, lastPriceMark: {decreasingColor: string, line: {dashValue: number[], size: number, display: boolean, style: string}, display: boolean, increasingColor: string, text: {paddingBottom: number, size: number, color: string, display: boolean, paddingRight: number, valueFormatter: null, paddingTop: number, paddingLeft: number}}, grid: boolean, marker: {line: {color: string, size: number}, text: {marginRight: number, color: string, size: number, valueFormatter: null, marginBottom: number, marginTop: number, marginLeft: number}, point: {backgroundColor: string, borderColor: string, activeBorderSize: number, activeRadius: number, activeBorderColor: string, activeBackgroundColor: string, borderSize: number, radius: number}}, candle: {decreasingColor: string, style: string, increasingColor: string}, tooltip: {data: {indicator: {text: {marginRight: number, size: number, color: string, valueFormatter: null, marginBottom: number, marginTop: number, marginLeft: number}}, displayRule: string, base: {floatRect: {fillColor: string, borderColor: string, paddingBottom: number, top: number, borderRadius: number, left: number, paddingRight: number, borderSize: number, paddingTop: number, right: number, paddingLeft: number}, values: null, showType: string, text: {marginRight: number, size: number, color: string, valueFormatter: null, marginBottom: number, marginTop: number, marginLeft: number}, labels: string[]}}, cross: {line: {dashValue: number[], size: number, color: string, style: string}, display: boolean, text: {horizontal: {borderColor: string, backgroundColor: string, paddingBottom: number, color: string, size: number, paddingRight: number, valueFormatter: null, borderSize: number, paddingTop: number, paddingLeft: number}, vertical: {borderColor: string, backgroundColor: string, paddingBottom: number, color: string, size: number, paddingRight: number, valueFormatter: null, borderSize: number, paddingTop: number, paddingLeft: number}}}}, highestPriceMark: {color: string, display: boolean, text: {margin: number, size: number, valueFormatter: null}}}}\n */\nexport function getDefaultStyle () {\n  return {\n    realTime: {\n      /**\n       * 分时线\n       */\n      timeLine: {\n        color: '#1e88e5',\n        size: 1,\n        areaFillColor: 'rgba(30, 136, 229, 0.08)'\n      },\n      /**\n       * 均线\n       */\n      averageLine: {\n        display: true,\n        color: '#F5A623',\n        size: 1\n      }\n    },\n\n    candle: {\n      /**\n       * 蜡烛样式\n       */\n      style: CandleStyle.SOLID,\n      /**\n       * 上涨颜色\n       */\n      increasingColor: '#26A69A',\n      /**\n       * 下跌颜色\n       */\n      decreasingColor: '#EF5350'\n    },\n\n    /**\n     * 最大价格标记参数\n     */\n    highestPriceMark: {\n      display: true,\n      color: '#D9D9D9',\n      text: {\n        margin: 5,\n        size: 10\n      }\n    },\n\n    /**\n     * 最小价格标记参数\n     */\n    lowestPriceMark: {\n      display: true,\n      color: '#D9D9D9',\n      text: {\n        margin: 5,\n        size: 10\n      }\n    },\n\n    /**\n     * 最新价标记参数\n     */\n    lastPriceMark: {\n      display: true,\n      increasingColor: '#26A69A',\n      decreasingColor: '#EF5350',\n      line: {\n        display: true,\n        style: LineStyle.DASH,\n        dashValue: [4, 4],\n        size: 1\n      },\n      text: {\n        display: true,\n        size: 12,\n        paddingLeft: 2,\n        paddingTop: 2,\n        paddingRight: 2,\n        paddingBottom: 2,\n        color: '#FFFFFF'\n      }\n    },\n    indicator: {\n      /**\n       * 线的尺寸\n       */\n      lineSize: 1,\n      increasingColor: '#26A69A',\n      decreasingColor: '#EF5350',\n      lineColors: ['#D9D9D9', '#F5A623', '#F601FF', '#1587DD', '#1e88e5']\n    },\n    xAxis: {\n      /**\n       * 是否显示整个轴\n       */\n      display: true,\n      /**\n       * x轴最大高度\n       */\n      maxHeight: 50,\n      /**\n       * x轴最小高度\n       */\n      minHeight: 30,\n      /**\n       * 轴线配置\n       */\n      line: {\n        display: true,\n        color: '#888888',\n        size: 1\n      },\n\n      /**\n       * 分割配置\n       */\n      tick: {\n        // 文字\n        text: {\n          display: true,\n          color: '#D9D9D9',\n          size: 12,\n          margin: 3\n        },\n        // 线\n        line: {\n          display: true,\n          size: 1,\n          length: 3,\n          color: '#888888'\n        }\n      },\n\n      /**\n       * 分割线配置\n       */\n      separatorLine: {\n        display: false,\n        size: 1,\n        color: '#393939',\n        style: LineStyle.DASH,\n        dashValue: [2, 2]\n      }\n    },\n    yAxis: {\n      /**\n       * 是否显示整个轴\n       */\n      display: true,\n      /**\n       * y轴位置\n       */\n      position: YAxisPosition.RIGHT,\n\n      /**\n       * y轴最大宽度\n       */\n      maxWidth: 80,\n\n      /**\n       * y轴最小宽度\n       */\n      minWidth: 60,\n      /**\n       * 轴线配置\n       */\n      line: {\n        display: true,\n        color: '#888888',\n        size: 1\n      },\n\n      /**\n       * 分割配置\n       */\n      tick: {\n        // 文字\n        text: {\n          display: true,\n          position: YAxisTextPosition.OUTSIDE,\n          color: '#D9D9D9',\n          size: 12,\n          margin: 3\n        },\n        // 线\n        line: {\n          display: true,\n          size: 1,\n          length: 3,\n          color: '#888888'\n        }\n      },\n\n      /**\n       * 分割线配置\n       */\n      separatorLine: {\n        display: true,\n        size: 1,\n        color: '#393939',\n        style: LineStyle.DASH,\n        dashValue: [2, 2]\n      }\n    },\n    tooltip: {\n      /**\n       * 光标线配置\n       */\n      cross: {\n        display: true,\n        line: {\n          style: LineStyle.DASH,\n          dashValue: [4, 2],\n          size: 1,\n          color: '#888888'\n        },\n        text: {\n          horizontal: {\n            color: '#D9D9D9',\n            size: 12,\n            paddingLeft: 2,\n            paddingRight: 2,\n            paddingTop: 2,\n            paddingBottom: 2,\n            borderSize: 1,\n            borderColor: '#505050',\n            backgroundColor: '#505050'\n          },\n          vertical: {\n            color: '#D9D9D9',\n            size: 12,\n            paddingLeft: 2,\n            paddingRight: 2,\n            paddingTop: 2,\n            paddingBottom: 2,\n            borderSize: 1,\n            borderColor: '#505050',\n            backgroundColor: '#505050'\n          }\n        }\n      },\n\n      /**\n       * 数据配置\n       */\n      data: {\n        displayRule: TooltipTextDisplayRule.ALWAYS,\n        base: {\n          showType: TooltipCandleChartTextDisplayType.FIXED,\n          labels: ['时间', '开', '收', '高', '低', '成交量'],\n          values: null,\n          text: {\n            size: 12,\n            color: '#D9D9D9',\n            marginLeft: 8,\n            marginTop: 6,\n            marginRight: 8,\n            marginBottom: 0\n          },\n          floatRect: {\n            paddingLeft: 0,\n            paddingRight: 0,\n            paddingTop: 0,\n            paddingBottom: 6,\n            left: 8,\n            top: 8,\n            right: 8,\n            borderRadius: 4,\n            borderSize: 1,\n            borderColor: '#3f4254',\n            fillColor: 'rgba(17, 17, 17, .3)'\n          }\n        },\n        indicator: {\n          text: {\n            size: 12,\n            color: '#D9D9D9',\n            marginTop: 6,\n            marginRight: 8,\n            marginBottom: 0,\n            marginLeft: 8\n          }\n        }\n      }\n    },\n\n    marker: {\n      line: {\n        color: '#1e88e5',\n        size: 1\n      },\n      point: {\n        backgroundColor: '#1e88e5',\n        borderColor: '#1e88e5',\n        borderSize: 1,\n        radius: 4,\n        activeBackgroundColor: '#1e88e5',\n        activeBorderColor: '#1e88e5',\n        activeBorderSize: 1,\n        activeRadius: 6\n      },\n      text: {\n        color: '#1e88e5',\n        size: 12,\n        marginLeft: 2,\n        marginRight: 2,\n        marginTop: 2,\n        marginBottom: 6,\n        valueFormatter: null\n      }\n    }\n  }\n}\n\n/**\n * 默认的指标参数配置\n */\nexport function getDefaultIndicatorParams () {\n  return {\n    [IndicatorType.MA]: [5, 10, 30, 60],\n    [IndicatorType.VOL]: [5, 10, 20],\n    [IndicatorType.MACD]: [12, 26, 9],\n    [IndicatorType.BOLL]: [20],\n    [IndicatorType.KDJ]: [9, 3, 3],\n    [IndicatorType.RSI]: [6, 12, 24],\n    [IndicatorType.BIAS]: [6, 12, 24],\n    [IndicatorType.BRAR]: [26],\n    [IndicatorType.CCI]: [13],\n    [IndicatorType.DMI]: [14, 6],\n    [IndicatorType.CR]: [26, 10, 20, 40, 60],\n    [IndicatorType.PSY]: [12],\n    [IndicatorType.DMA]: [10, 50, 10],\n    [IndicatorType.TRIX]: [12, 20],\n    [IndicatorType.OBV]: [30],\n    [IndicatorType.VR]: [24, 30],\n    [IndicatorType.WR]: [13, 34, 89],\n    [IndicatorType.MTM]: [6, 10],\n    [IndicatorType.EMV]: [14, 9],\n    [IndicatorType.SAR]: [2, 2, 20]\n  }\n}\n\n/**\n * 获取价格精度配置\n * @returns {{pricePrecision: number, volumePrecision: number}}\n */\nexport function getDefaultPrecision () {\n  return {\n    pricePrecision: 2,\n    volumePrecision: 0\n  }\n}\n\n/**\n * 获取默认周期\n * @returns {{period: string}}\n */\nexport function getDefaultPeriod () {\n  return {\n    period: '1'\n  }\n}\n\n/**\n * 获取指标精度\n * @param pricePrecision\n * @param volumePrecision\n * @returns {{[p: string]: *|number}}\n */\nexport function getIndicatorPrecision (pricePrecision, volumePrecision) {\n  return {\n    [IndicatorType.NO]: pricePrecision,\n    [IndicatorType.MA]: pricePrecision,\n    [IndicatorType.VOL]: volumePrecision,\n    [IndicatorType.MACD]: 2,\n    [IndicatorType.BOLL]: pricePrecision,\n    [IndicatorType.KDJ]: 2,\n    [IndicatorType.RSI]: 2,\n    [IndicatorType.BIAS]: 2,\n    [IndicatorType.BRAR]: 4,\n    [IndicatorType.CCI]: 4,\n    [IndicatorType.DMI]: 4,\n    [IndicatorType.CR]: 2,\n    [IndicatorType.PSY]: 2,\n    [IndicatorType.DMA]: 4,\n    [IndicatorType.TRIX]: 4,\n    [IndicatorType.OBV]: 4,\n    [IndicatorType.VR]: 4,\n    [IndicatorType.WR]: 4,\n    [IndicatorType.MTM]: 4,\n    [IndicatorType.EMV]: 4,\n    [IndicatorType.SAR]: pricePrecision\n  }\n}\n","import Render from './Render'\n\nimport { calcTextWidth, getFont } from '../utils/draw'\nimport { isFunction, formatValue, isArray } from '../utils/data'\nimport { formatDate } from '../utils/date'\nimport { formatPrecision } from '../utils/number'\n\nimport { IndicatorType, LineStyle, GraphicMarkType, TooltipCandleChartTextDisplayType } from '../internal/constants'\nimport { getIndicatorPrecision } from '../internal/config'\n\nclass TooltipRender extends Render {\n  constructor (\n    handler, storage, indicatorParams,\n    candleHandler, volHandler, subIndicatorHandler,\n    candleYAxisRender, volYAxisRender, subIndicatorYAxisRender\n  ) {\n    super(handler, storage)\n    this.indicatorParams = indicatorParams\n    this.candleHandler = candleHandler\n    this.volHandler = volHandler\n    this.subIndicatorHandler = subIndicatorHandler\n    this.candleYAxisRender = candleYAxisRender\n    this.volYAxisRender = volYAxisRender\n    this.subIndicatorYAxisRender = subIndicatorYAxisRender\n  }\n\n  /**\n   * 绘制水平线\n   * @param ctx\n   * @param mainIndicatorType\n   * @param subIndicatorType\n   * @param isRenderYAxisLeft\n   * @param isRenderYAxisTextOutside\n   * @param tooltip\n   * @param precision\n   */\n  renderCrossHorizontalLine (ctx, mainIndicatorType, subIndicatorType, isRenderYAxisLeft, isRenderYAxisTextOutside, tooltip, precision) {\n    const yAxisDataLabel = this.getCrossYAxisLabel(tooltip, mainIndicatorType, subIndicatorType, precision)\n    const crossPoint = this.storage.crossPoint\n    if (!yAxisDataLabel || !crossPoint || !tooltip.cross.display) {\n      return\n    }\n    const textHorizontal = tooltip.cross.text.horizontal\n    const textSize = textHorizontal.size\n    const yAxisDataLabelWidth = calcTextWidth(textSize, yAxisDataLabel)\n    let rectStartX\n\n    let lineStartX = this.handler.contentLeft()\n    let lineEndX = this.handler.contentRight()\n\n    const centerPoint = this.handler.getContentCenter()\n\n    const paddingLeft = textHorizontal.paddingLeft\n    const paddingRight = textHorizontal.paddingRight\n    const paddingTop = textHorizontal.paddingTop\n    const paddingBottom = textHorizontal.paddingBottom\n    const borderSize = textHorizontal.borderSize\n\n    const rectWidth = yAxisDataLabelWidth + borderSize * 2 + paddingLeft + paddingRight\n    const rectHeight = textSize + borderSize * 2 + paddingTop + paddingBottom\n    if (isRenderYAxisTextOutside) {\n      if (isRenderYAxisLeft) {\n        rectStartX = lineStartX - rectWidth\n      } else {\n        rectStartX = lineEndX\n      }\n    } else {\n      if (crossPoint.x > centerPoint.x) {\n        // 左边\n        lineStartX = this.handler.contentLeft() + rectWidth\n        rectStartX = this.handler.contentLeft() + 1\n      } else {\n        lineEndX = this.handler.contentRight() - rectWidth\n        rectStartX = lineEndX - 1\n      }\n    }\n    // 绘制十字光标水平线\n    ctx.lineWidth = tooltip.cross.line.size\n    ctx.strokeStyle = tooltip.cross.line.color\n    if (tooltip.cross.line.style === LineStyle.DASH) {\n      ctx.setLineDash(tooltip.cross.line.dashValue)\n    }\n    ctx.beginPath()\n    ctx.moveTo(lineStartX, crossPoint.y)\n    ctx.lineTo(lineEndX, crossPoint.y)\n    ctx.stroke()\n    ctx.closePath()\n    ctx.setLineDash([])\n\n    const rectY = crossPoint.y - borderSize - paddingTop - textSize / 2\n    // 绘制y轴文字外的边框\n    ctx.fillStyle = textHorizontal.backgroundColor\n    ctx.fillRect(rectStartX, rectY, rectWidth, rectHeight)\n\n    ctx.lineWidth = borderSize\n    ctx.strokeStyle = textHorizontal.borderColor\n    ctx.strokeRect(rectStartX, rectY, rectWidth, rectHeight)\n\n    ctx.textBaseline = 'middle'\n    ctx.fillStyle = textHorizontal.color\n    ctx.font = getFont(textSize)\n    ctx.fillText(yAxisDataLabel, rectStartX + borderSize + paddingLeft, crossPoint.y)\n  }\n\n  /**\n   * 获取十字光标y轴上的文字\n   * @param tooltip\n   * @param mainIndicatorType\n   * @param subIndicatorType\n   * @param precision\n   * @returns {null|*|string}\n   */\n  getCrossYAxisLabel (tooltip, mainIndicatorType, subIndicatorType, precision) {\n    if (!this.storage.crossPoint) {\n      return null\n    }\n    const eventY = this.storage.crossPoint.y\n    let top\n    if (eventY && eventY > 0 && eventY < this.handler.height + this.handler.height + this.handler.height) {\n      let yAxisRender\n      let indicatorType\n      if (eventY > 0 && eventY < this.candleHandler.contentBottom()) {\n        yAxisRender = this.candleYAxisRender\n        indicatorType = mainIndicatorType\n        top = 0\n      } else if (eventY > this.candleHandler.contentBottom() && eventY < this.candleHandler.contentBottom() + this.volHandler.height) {\n        yAxisRender = this.volYAxisRender\n        indicatorType = IndicatorType.VOL\n        top = this.candleHandler.height\n      } else {\n        yAxisRender = this.subIndicatorYAxisRender\n        indicatorType = subIndicatorType\n        top = this.candleHandler.height + this.volHandler.height\n      }\n      const yData = yAxisRender.getValue(eventY - top)\n      const precisionConfig = getIndicatorPrecision(precision.pricePrecision, precision.volumePrecision)\n      return formatPrecision(yData, precisionConfig[indicatorType])\n    }\n    return null\n  }\n\n  /**\n   * 绘制十字光标垂直线\n   * @param ctx\n   * @param kLineData\n   * @param tooltip\n   */\n  renderCrossVerticalLine (ctx, kLineData, tooltip) {\n    const crossPoint = this.storage.crossPoint\n    if (!crossPoint || !tooltip.cross.display) {\n      return\n    }\n    const crossLine = tooltip.cross.line\n    ctx.lineWidth = crossLine.size\n    ctx.strokeStyle = crossLine.color\n\n    if (crossLine.style === LineStyle.DASH) {\n      ctx.setLineDash(crossLine.dashValue)\n    }\n    ctx.beginPath()\n    ctx.moveTo(crossPoint.x, this.handler.contentTop())\n    ctx.lineTo(crossPoint.x, this.handler.contentBottom())\n    ctx.stroke()\n    ctx.closePath()\n    ctx.setLineDash([])\n\n    const timestamp = kLineData.timestamp\n    const text = formatDate(timestamp, 'YYYY-MM-DD hh:mm')\n    const textVertical = tooltip.cross.text.vertical\n\n    const textSize = textVertical.size\n    const labelWidth = calcTextWidth(textSize, text)\n    let xAxisLabelX = crossPoint.x - labelWidth / 2\n\n    const paddingLeft = textVertical.paddingLeft\n    const paddingRight = textVertical.paddingRight\n    const paddingTop = textVertical.paddingTop\n    const paddingBottom = textVertical.paddingBottom\n    const borderSize = textVertical.borderSize\n\n    // 保证整个x轴上的提示文字总是完全显示\n    if (xAxisLabelX < this.handler.contentLeft() + paddingLeft + borderSize) {\n      xAxisLabelX = this.handler.contentLeft() + paddingLeft + borderSize\n    } else if (xAxisLabelX > this.handler.contentRight() - labelWidth - borderSize - paddingRight) {\n      xAxisLabelX = this.handler.contentRight() - labelWidth - borderSize - paddingRight\n    }\n\n    const rectLeft = xAxisLabelX - borderSize - paddingLeft\n    const rectTop = this.handler.contentBottom()\n    const rectRight = xAxisLabelX + labelWidth + borderSize + paddingRight\n    const rectBottom = this.handler.contentBottom() + textSize + borderSize * 2 + paddingTop + paddingBottom\n    ctx.fillStyle = textVertical.backgroundColor\n    ctx.fillRect(rectLeft, rectTop, rectRight - rectLeft, rectBottom - rectTop)\n\n    ctx.lineWidth = borderSize\n    ctx.strokeStyle = textVertical.borderColor\n    ctx.strokeRect(rectLeft, rectTop, rectRight - rectLeft, rectBottom - rectTop)\n\n    // 绘制轴上的提示文字\n    ctx.textBaseline = 'top'\n    ctx.font = getFont(textSize)\n    ctx.fillStyle = textVertical.color\n    ctx.fillText(\n      text,\n      xAxisLabelX,\n      this.handler.contentBottom() + borderSize + paddingTop\n    )\n  }\n\n  /**\n   * 渲染主图提示文字\n   * @param ctx\n   * @param kLineData\n   * @param indicatorType\n   * @param isCandle\n   * @param tooltip\n   * @param indicator\n   * @param precision\n   */\n  renderCandleChartTooltip (ctx, kLineData, indicatorType, isCandle, tooltip, indicator, precision) {\n    const baseDataStyle = tooltip.data.base\n    const indicatorDataStyle = tooltip.data.indicator\n    const indicatorColors = indicator.lineColors\n    const data = this.getRenderIndicatorTooltipData(kLineData, indicatorType, indicatorDataStyle, precision)\n    if (baseDataStyle.showType === TooltipCandleChartTextDisplayType.FIXED) {\n      let startY = baseDataStyle.text.marginTop\n      this.renderCandleChartFixedBaseDataTooltipText(ctx, startY, kLineData, baseDataStyle, precision)\n      if (isCandle) {\n        startY += (baseDataStyle.text.size + baseDataStyle.text.marginBottom + tooltip.data.indicator.text.marginTop)\n        this.renderIndicatorTooltipText(ctx, startY, data, indicatorDataStyle, indicatorColors)\n      }\n    } else {\n      this.renderCandleChartFloatRectText(\n        ctx, kLineData, isCandle ? data : {}, baseDataStyle,\n        indicatorDataStyle, indicatorColors, precision\n      )\n    }\n    if (isCandle) {\n      this.renderIndicatorLineCircle(ctx, indicatorType, this.candleHandler.contentTop(), data.values, this.candleYAxisRender, indicatorColors, tooltip.cross.display)\n    }\n  }\n\n  /**\n   * 渲染指标图提示文字\n   * @param ctx\n   * @param offsetTop\n   * @param kLineData\n   * @param indicatorType\n   * @param tooltip\n   * @param indicator\n   * @param isVolChart\n   * @param precision\n   */\n  renderIndicatorChartTooltip (ctx, offsetTop, kLineData, indicatorType, tooltip, indicator, isVolChart, precision) {\n    const indicatorDataStyle = tooltip.data.indicator\n    const data = this.getRenderIndicatorTooltipData(kLineData, indicatorType, indicatorDataStyle, precision)\n    const indicatorLineColors = indicator.lineColors\n    this.renderIndicatorTooltipText(\n      ctx, offsetTop + indicatorDataStyle.text.marginTop,\n      data, indicatorDataStyle, indicatorLineColors\n    )\n    const circleOffsetTop = isVolChart\n      ? this.candleHandler.height + this.volHandler.contentTop()\n      : this.candleHandler.height + this.volHandler.height + this.subIndicatorHandler.contentTop()\n    this.renderIndicatorLineCircle(\n      ctx, indicatorType, circleOffsetTop, data.values,\n      isVolChart ? this.volYAxisRender : this.subIndicatorYAxisRender,\n      indicatorLineColors, tooltip.cross.display\n    )\n  }\n\n  /**\n   * 渲染主图固定的基础数据文字\n   * @param ctx\n   * @param startY\n   * @param kLineData\n   * @param baseDataStyle\n   * @param precision\n   */\n  renderCandleChartFixedBaseDataTooltipText (ctx, startY, kLineData, baseDataStyle, precision) {\n    const values = this.getCandleChartBaseValues(kLineData, baseDataStyle, precision)\n    const textMarginLeft = baseDataStyle.text.marginLeft\n    const textMarginRight = baseDataStyle.text.marginRight\n    const textSize = baseDataStyle.text.size\n    const textColor = baseDataStyle.text.color\n    const labels = baseDataStyle.labels\n    ctx.textBaseline = 'top'\n    ctx.font = getFont(textSize)\n    let startX = this.handler.contentLeft() + textMarginLeft\n    labels.forEach((label, i) => {\n      const labelText = `${label}: `\n      const labelWidth = calcTextWidth(textSize, labelText)\n      ctx.fillStyle = textColor\n      ctx.fillText(labelText, startX, startY)\n      startX += labelWidth\n\n      const value = values[i] || '--'\n      let valueText\n      if (typeof value === 'object') {\n        valueText = value.value || '--'\n        ctx.fillStyle = value.color || textColor\n      } else {\n        ctx.fillStyle = textColor\n        valueText = value\n      }\n      const textWidth = calcTextWidth(textSize, valueText)\n      ctx.fillText(valueText, startX, startY)\n      startX += (textWidth + textMarginLeft + textMarginRight)\n    })\n  }\n\n  /**\n   * 渲染主图浮动文字\n   * @param ctx\n   * @param kLineData\n   * @param indicatorData\n   * @param baseDataStyle\n   * @param indicatorDataStyle\n   * @param indicatorColors\n   * @param precision\n   */\n  renderCandleChartFloatRectText (\n    ctx, kLineData, indicatorData, baseDataStyle, indicatorDataStyle,\n    indicatorColors = [], precision\n  ) {\n    const baseLabels = baseDataStyle.labels\n    const baseValues = this.getCandleChartBaseValues(kLineData, baseDataStyle, precision)\n    const baseTextMarginLeft = baseDataStyle.text.marginLeft\n    const baseTextMarginRight = baseDataStyle.text.marginRight\n    const baseTextMarginTop = baseDataStyle.text.marginTop\n    const baseTextMarginBottom = baseDataStyle.text.marginBottom\n    const baseTextSize = baseDataStyle.text.size\n    const baseTextColor = baseDataStyle.text.color\n\n    ctx.textBaseline = 'top'\n    let maxLabelWidth = 0\n    baseLabels.forEach((label, i) => {\n      const value = baseValues[i] || '--'\n      let v = value\n      if (typeof value === 'object') {\n        v = value.value || '--'\n      }\n      const text = `${label}: ${v}`\n      const labelWidth = calcTextWidth(baseTextSize, text) + baseTextMarginLeft + baseTextMarginRight\n      maxLabelWidth = Math.max(maxLabelWidth, labelWidth)\n    })\n    const indicatorLabels = indicatorData.labels || []\n    const indicatorValues = indicatorData.values || []\n    const indicatorTextMarginLeft = indicatorDataStyle.text.marginLeft\n    const indicatorTextMarginRight = indicatorDataStyle.text.marginRight\n    const indicatorTextMarginTop = indicatorDataStyle.text.marginTop\n    const indicatorTextMarginBottom = indicatorDataStyle.text.marginBottom\n    const indicatorTextSize = indicatorDataStyle.text.size\n    indicatorLabels.forEach((label, i) => {\n      const v = indicatorValues[i] || '--'\n      const text = `${label}: ${v}`\n      const labelWidth = calcTextWidth(indicatorTextSize, text) + indicatorTextMarginLeft + indicatorTextMarginRight\n      maxLabelWidth = Math.max(maxLabelWidth, labelWidth)\n    })\n    const floatRect = baseDataStyle.floatRect\n    const floatRectBorderSize = floatRect.borderSize\n    const floatRectPaddingLeft = floatRect.paddingLeft\n    const floatRectPaddingRight = floatRect.paddingRight\n    const floatRectPaddingTop = floatRect.paddingTop\n    const floatRectPaddingBottom = floatRect.paddingBottom\n    const floatRectLeft = floatRect.left\n    const floatRectRight = floatRect.right\n    const floatRectWidth = floatRectBorderSize * 2 + maxLabelWidth + floatRectPaddingLeft + floatRectPaddingRight\n    const floatRectHeight = floatRectBorderSize * 2 +\n      floatRectPaddingTop + floatRectPaddingBottom +\n      (baseTextMarginBottom + baseTextMarginTop + baseTextSize) * baseLabels.length +\n      (indicatorTextMarginTop + indicatorTextMarginBottom + indicatorTextSize) * indicatorLabels.length\n\n    const centerPoint = this.volHandler.getContentCenter()\n    let rectX\n    const crossPoint = this.storage.crossPoint\n    if (crossPoint && crossPoint.x < centerPoint.x) {\n      rectX = this.handler.contentRight() - floatRectRight - floatRectWidth\n    } else {\n      rectX = this.handler.contentLeft() + floatRectLeft\n    }\n    const rectY = floatRect.top\n    const radius = floatRect.borderRadius\n    ctx.lineWidth = floatRectBorderSize\n    ctx.strokeStyle = floatRect.borderColor\n    ctx.fillStyle = floatRect.fillColor\n    this.renderRoundRect(ctx, rectX, rectY, floatRectWidth, floatRectHeight, radius)\n    ctx.stroke()\n    this.renderRoundRect(ctx, rectX, rectY, floatRectWidth, floatRectHeight, radius)\n    ctx.fill()\n\n    const baseLabelX = rectX + floatRectBorderSize + floatRectPaddingLeft + baseTextMarginLeft\n    let labelY = rectY + floatRectBorderSize + floatRectPaddingTop\n    // 开始渲染基础数据文字\n    ctx.font = getFont(baseTextSize)\n    baseLabels.forEach((label, i) => {\n      labelY += baseTextMarginTop\n      ctx.textAlign = 'left'\n      ctx.fillStyle = baseTextColor\n      ctx.fillText(`${label}: `, baseLabelX, labelY)\n\n      const value = baseValues[i] || '--'\n      let text\n      ctx.fillStyle = value.color || baseTextColor\n      if (typeof value === 'object') {\n        text = value.value || '--'\n      } else {\n        text = value\n      }\n      ctx.textAlign = 'right'\n      ctx.fillText(text, rectX + floatRectWidth - floatRectBorderSize - baseTextMarginRight - floatRectPaddingRight, labelY)\n      labelY += (baseTextSize + baseTextMarginBottom)\n    })\n    // 开始渲染指标数据文字\n    const indicatorLabelX = rectX + floatRectBorderSize + floatRectPaddingLeft + indicatorTextMarginLeft\n    const colorLength = indicatorColors.length\n    ctx.font = getFont(indicatorTextSize)\n    indicatorLabels.forEach((label, i) => {\n      labelY += indicatorTextMarginTop\n      ctx.textAlign = 'left'\n      ctx.fillStyle = indicatorColors[i % colorLength] || indicatorDataStyle.text.color\n      ctx.fillText(`${label.toUpperCase()}: `, indicatorLabelX, labelY)\n\n      ctx.textAlign = 'right'\n      ctx.fillText(\n        indicatorValues[i] || '--',\n        rectX + floatRectWidth - floatRectBorderSize - indicatorTextMarginRight - floatRectPaddingRight,\n        labelY\n      )\n      labelY += (indicatorTextSize + indicatorTextMarginBottom)\n    })\n    ctx.textAlign = 'left'\n  }\n\n  /**\n   * 渲染圆角矩形\n   * @param ctx\n   * @param x\n   * @param y\n   * @param w\n   * @param h\n   * @param r\n   */\n  renderRoundRect (ctx, x, y, w, h, r) {\n    ctx.beginPath()\n    ctx.moveTo(x + r, y)\n    ctx.arcTo(x + w, y, x + w, y + h, r)\n    ctx.arcTo(x + w, y + h, x, y + h, r)\n    ctx.arcTo(x, y + h, x, y, r)\n    ctx.arcTo(x, y, x + w, y, r)\n    ctx.closePath()\n  }\n\n  /**\n   * 获取主信息提示值\n   * @param kLineData\n   * @param baseDataStyle\n   * @param precision\n   * @returns {*}\n   */\n  getCandleChartBaseValues (kLineData, baseDataStyle, precision) {\n    const baseValues = baseDataStyle.values\n    let values = []\n    if (baseValues) {\n      if (isFunction(baseValues)) {\n        values = baseValues(kLineData) || []\n      } else {\n        values = baseValues\n      }\n    } else {\n      values = [\n        formatValue(kLineData, 'timestamp'),\n        formatValue(kLineData, 'open'),\n        formatValue(kLineData, 'close'),\n        formatValue(kLineData, 'high'),\n        formatValue(kLineData, 'low'),\n        formatValue(kLineData, 'volume')\n      ]\n      values.forEach((value, index) => {\n        switch (index) {\n          case 0: {\n            values[index] = formatDate(value, 'YYYY-MM-DD hh:mm')\n            break\n          }\n          case values.length - 1: {\n            values[index] = formatPrecision(value, precision.volumePrecision)\n            break\n          }\n          default: {\n            values[index] = formatPrecision(value, precision.pricePrecision)\n            break\n          }\n        }\n      })\n    }\n    return values\n  }\n\n  /**\n   * 绘制指标提示文字\n   * @param ctx\n   * @param startY\n   * @param data\n   * @param indicatorDataStyle\n   * @param indicatorColors\n   */\n  renderIndicatorTooltipText (ctx, startY, data, indicatorDataStyle, indicatorColors = []) {\n    const nameText = data.name\n    const labels = data.labels\n    const values = data.values\n    const indicatorText = indicatorDataStyle.text\n    const textMarginLeft = indicatorText.marginLeft\n    const textMarginRight = indicatorText.marginRight\n    let labelX = this.handler.contentLeft() + textMarginLeft\n    const textSize = indicatorText.size\n    const textColor = indicatorDataStyle.text.color\n    const lineColorSize = indicatorColors.length\n    ctx.textBaseline = 'top'\n    ctx.font = getFont(textSize)\n    const nameTextWidth = calcTextWidth(textSize, nameText)\n    ctx.fillStyle = textColor\n    ctx.fillText(nameText, labelX, startY)\n    labelX += (textMarginLeft + nameTextWidth)\n    for (let i = 0; i < labels.length; i++) {\n      const text = `${labels[i].toUpperCase()}: ${values[i] || '--'}`\n      const textWidth = calcTextWidth(textSize, text)\n      ctx.fillStyle = indicatorColors[i % lineColorSize] || textColor\n      ctx.fillText(text, labelX, startY)\n      labelX += (textMarginLeft + textMarginRight + textWidth)\n    }\n  }\n\n  /**\n   * 渲染指标线上的圆点\n   * @param ctx\n   * @param indicatorType\n   * @param values\n   * @param offsetTop\n   * @param yAxisRender\n   * @param indicatorColors\n   * @param isShowCross\n   */\n  renderIndicatorLineCircle (ctx, indicatorType, offsetTop, values = [], yAxisRender, indicatorColors = [], isShowCross) {\n    const crossPoint = this.storage.crossPoint\n    if (!crossPoint ||\n      this.storage.graphicMarkType !== GraphicMarkType.NONE ||\n      indicatorType === IndicatorType.SAR ||\n      !isShowCross ||\n      this.storage.isDragGraphicMark) {\n      return\n    }\n    const colorSize = indicatorColors.length\n    const valueSize = indicatorType === IndicatorType.MACD || indicatorType === IndicatorType.VOL ? values.length - 1 : values.length\n    for (let i = 0; i < valueSize; i++) {\n      const value = values[i]\n      if (value || value === 0) {\n        const y = yAxisRender.getY(value) + offsetTop\n        ctx.fillStyle = indicatorColors[i % colorSize]\n        ctx.beginPath()\n        ctx.arc(crossPoint.x, y, 3, 0, Math.PI * 2)\n        ctx.closePath()\n        ctx.fill()\n      }\n    }\n  }\n\n  /**\n   * 获取需要渲染的指标提示数据\n   * @param kLineData\n   * @param indicatorType\n   * @param indicatorDataStyle\n   * @param precision\n   * @returns {{values: Array, labels: Array}}\n   */\n  getRenderIndicatorTooltipData (kLineData, indicatorType, indicatorDataStyle, precision) {\n    const values = []\n    let labels = []\n    const params = this.indicatorParams[indicatorType] || []\n    switch (indicatorType) {\n      case IndicatorType.MA: {\n        params.forEach(p => {\n          labels.push(`ma${p}`)\n        })\n        break\n      }\n      case IndicatorType.VOL: {\n        params.forEach(p => {\n          labels.push(`ma${p}`)\n        })\n        labels.push('num')\n        break\n      }\n      case IndicatorType.MACD: {\n        labels = ['diff', 'dea', 'macd']\n        break\n      }\n      case IndicatorType.BOLL: {\n        labels = ['up', 'mid', 'dn']\n        break\n      }\n      case IndicatorType.BIAS: {\n        params.forEach(p => {\n          labels.push(`bias${p}`)\n        })\n        break\n      }\n      case IndicatorType.BRAR: {\n        labels = ['br', 'ar']\n        break\n      }\n      case IndicatorType.CCI: {\n        labels = ['cci']\n        break\n      }\n      case IndicatorType.CR: {\n        labels = ['cr', 'ma1', 'ma2', 'ma3', 'ma4']\n        break\n      }\n      case IndicatorType.DMA: {\n        labels = ['dif', 'difMa']\n        break\n      }\n      case IndicatorType.DMI: {\n        labels = ['mdi', 'pdi', 'adx', 'adxr']\n        break\n      }\n      case IndicatorType.KDJ: {\n        labels = ['k', 'd', 'j']\n        break\n      }\n\n      case IndicatorType.RSI: {\n        params.forEach(p => {\n          labels.push(`rsi${p}`)\n        })\n        break\n      }\n      case IndicatorType.PSY: {\n        labels = ['psy']\n        break\n      }\n      case IndicatorType.TRIX: {\n        labels = ['trix', 'maTrix']\n        break\n      }\n      case IndicatorType.OBV: {\n        labels = ['obv', 'maObv']\n        break\n      }\n      case IndicatorType.VR: {\n        labels = ['vr', 'maVr']\n        break\n      }\n      case IndicatorType.WR: {\n        labels = ['wr1', 'wr2', 'wr3']\n        break\n      }\n      case IndicatorType.MTM: {\n        labels = ['mtm', 'mtmMa']\n        break\n      }\n\n      case IndicatorType.EMV: {\n        labels = ['emv', 'maEmv']\n        break\n      }\n\n      case IndicatorType.SAR: {\n        labels = ['sar']\n        break\n      }\n    }\n    let name = ''\n    if (labels.length > 0) {\n      name = `${indicatorType}`\n      if (params && isArray(params) && params.length > 0) {\n        name = `${name}(${params.join(',')})`\n      }\n      const indicatorData = formatValue(kLineData, indicatorType.toLowerCase())\n      labels.forEach(label => {\n        values.push(formatValue(indicatorData, label))\n      })\n      const decimal = getIndicatorPrecision(precision.pricePrecision, precision.volumePrecision)[indicatorType]\n      values.forEach((value, index) => {\n        values[index] = formatPrecision(value, decimal)\n      })\n    }\n    return { labels, values, name }\n  }\n}\n\nexport default TooltipRender\n","import Chart from './Chart'\nimport TooltipRender from '../render/TooltipRender'\nimport { IndicatorType, YAxisPosition, YAxisTextPosition, ChartType, TooltipTextDisplayRule, GraphicMarkType } from '../internal/constants'\n\nclass TooltipChart extends Chart {\n  constructor (dom, style, candleChart, volChart, subIndicatorChart, xAxisChart, storage, indicatorParams, precision) {\n    super(dom, style)\n    this.candleChart = candleChart\n    this.volChart = volChart\n    this.subIndicatorChart = subIndicatorChart\n    this.storage = storage\n    this.tooltipRender = new TooltipRender(\n      this.handler, storage, indicatorParams,\n      candleChart.handler, volChart.handler, subIndicatorChart.handler,\n      candleChart.yAxisRender, volChart.yAxisRender, subIndicatorChart.yAxisRender\n    )\n    this.precision = precision\n  }\n\n  draw () {\n    const kLineData = this.storage.dataList[this.storage.tooltipDataPos] || {}\n    const tooltip = this.style.tooltip\n    // 如果不是绘图才显示十字线\n    if (this.storage.graphicMarkType === GraphicMarkType.NONE && !this.storage.isDragGraphicMark) {\n      this.tooltipRender.renderCrossHorizontalLine(\n        this.ctx,\n        this.candleChart.indicatorType,\n        this.subIndicatorChart.indicatorType,\n        this.style.yAxis.position === YAxisPosition.LEFT,\n        this.style.yAxis.tick.text.position === YAxisTextPosition.OUTSIDE,\n        tooltip, this.precision\n      )\n      this.tooltipRender.renderCrossVerticalLine(this.ctx, kLineData, tooltip)\n    }\n    if (this.storage.dataList.length > 0) {\n      const tooltipData = tooltip.data\n      if (tooltipData.displayRule === TooltipTextDisplayRule.ALWAYS ||\n        (tooltipData.displayRule === TooltipTextDisplayRule.FOLLOW_CROSS && this.storage.crossPoint)) {\n        const indicator = this.style.indicator\n\n        this.tooltipRender.renderCandleChartTooltip(\n          this.ctx, kLineData,\n          this.candleChart.indicatorType,\n          this.candleChart.chartType === ChartType.CANDLE,\n          tooltip, indicator, this.precision\n        )\n        if (this.volChart.indicatorType !== IndicatorType.NO) {\n          this.tooltipRender.renderIndicatorChartTooltip(\n            this.ctx, this.candleChart.handler.height,\n            kLineData, IndicatorType.VOL, tooltip, indicator, true, this.precision\n          )\n        }\n        if (this.subIndicatorChart.indicatorType !== IndicatorType.NO) {\n          this.tooltipRender.renderIndicatorChartTooltip(\n            this.ctx, this.candleChart.handler.height + this.volChart.handler.height,\n            kLineData, this.subIndicatorChart.indicatorType, tooltip, indicator, false, this.precision\n          )\n        }\n      }\n    }\n  }\n}\n\nexport default TooltipChart\n","import AxisRender from './AxisRender'\n\nimport { DATA_MARGIN_SPACE_RATE } from '../internal/Storage'\nimport { formatDate } from '../utils/date'\nimport { calcTextWidth, getFont } from '../utils/draw'\nimport { LineStyle } from '../internal/constants'\n\nclass XAxisRender extends AxisRender {\n  /**\n   * 绘制轴线\n   * @param ctx\n   * @param xAxis\n   */\n  renderAxisLine (ctx, xAxis) {\n    if (!xAxis.display || !xAxis.line.display) {\n      return\n    }\n    ctx.strokeStyle = xAxis.line.color\n    ctx.lineWidth = xAxis.line.size\n    ctx.beginPath()\n    ctx.moveTo(this.handler.contentLeft(), this.handler.contentBottom())\n    ctx.lineTo(this.handler.contentRight(), this.handler.contentBottom())\n    ctx.stroke()\n    ctx.closePath()\n  }\n\n  /**\n   * 绘制坐标轴上的文字\n   * @param ctx\n   * @param xAxis\n   * @param period\n   */\n  renderAxisLabels (ctx, xAxis, period) {\n    const tickText = xAxis.tick.text\n    if (!xAxis.display || !tickText.display) {\n      return\n    }\n    const periodType = period.replace(/[1-9]/, '').toUpperCase()\n    let dateFormatType\n    switch (periodType) {\n      case 'D':\n      case 'W': {\n        dateFormatType = 'YYYY-MM-DD'\n        break\n      }\n      case 'M': {\n        dateFormatType = 'YYYY-MM'\n        break\n      }\n      case 'Y': {\n        dateFormatType = 'YYYY'\n        break\n      }\n      default: {\n        dateFormatType = 'hh:mm'\n        break\n      }\n    }\n    const tickLine = xAxis.tick.line\n\n    ctx.textBaseline = 'top'\n    ctx.font = getFont(tickText.size)\n    ctx.textAlign = 'center'\n    ctx.fillStyle = tickText.color\n\n    let labelY = this.handler.contentBottom() + tickText.margin\n    if (tickLine.display) {\n      labelY += (tickLine.length)\n    }\n    const valueLength = this.values.length\n    for (let i = 0; i < valueLength; i++) {\n      const x = this.values[i].x\n      const dataPos = parseInt(this.values[i].v)\n      const kLineModel = this.storage.dataList[dataPos]\n      const timestamp = kLineModel.timestamp\n      let dateText = formatDate(timestamp, dateFormatType)\n      if (i !== valueLength - 1) {\n        const nextDataPos = parseInt(this.values[i + 1].v)\n        const nextKLineModel = this.storage.dataList[nextDataPos]\n        const nextTimestamp = nextKLineModel.timestamp\n        if (periodType === 'D' || periodType === 'W') {\n          const month = formatDate(timestamp, 'YYYY-MM')\n          if (month !== formatDate(nextTimestamp, 'YYYY-MM')) {\n            dateText = month\n          }\n        } else if (periodType === 'M') {\n          const year = formatDate(timestamp, 'YYYY')\n          if (year !== formatDate(nextTimestamp, 'YYYY')) {\n            dateText = year\n          }\n        } else if (!periodType) {\n          const day = formatDate(timestamp, 'MM-DD')\n          if (day !== formatDate(nextTimestamp, 'MM-DD')) {\n            dateText = day\n          }\n        }\n      }\n      ctx.fillText(dateText, x, labelY)\n    }\n  }\n\n  /**\n   * 绘制分割线\n   * @param ctx\n   * @param xAxis\n   */\n  renderSeparatorLines (ctx, xAxis) {\n    if (!xAxis.display || !xAxis.separatorLine.display) {\n      return\n    }\n    ctx.strokeStyle = xAxis.separatorLine.color\n    ctx.lineWidth = xAxis.separatorLine.size\n    if (xAxis.separatorLine.style === LineStyle.DASH) {\n      ctx.setLineDash(xAxis.separatorLine.dashValue)\n    }\n    for (let i = 0; i < this.values.length; i++) {\n      const x = this.values[i].x\n      ctx.beginPath()\n      ctx.moveTo(x, this.handler.contentTop())\n      ctx.lineTo(x, this.handler.contentBottom())\n      ctx.stroke()\n      ctx.closePath()\n    }\n    ctx.setLineDash([])\n  }\n\n  /**\n   * 绘制tick线\n   * @param ctx\n   * @param xAxis\n   */\n  renderTickLines (ctx, xAxis) {\n    const tickLine = xAxis.tick.line\n    if (!xAxis.display || !tickLine.display) {\n      return\n    }\n    ctx.lineWidth = tickLine.size\n    ctx.strokeStyle = tickLine.color\n\n    const startY = this.handler.contentBottom()\n\n    const endY = startY + tickLine.length\n\n    for (let i = 0; i < this.values.length; i++) {\n      const x = this.values[i].x\n      ctx.beginPath()\n      ctx.moveTo(x, startY)\n      ctx.lineTo(x, endY)\n      ctx.stroke()\n      ctx.closePath()\n    }\n  }\n\n  computeAxis (xAxis) {\n    const minPos = this.storage.minPos\n    this.axisMinimum = minPos\n    this.axisMaximum = Math.min(minPos + this.storage.range - 1, this.storage.dataList.length - 1)\n    this.axisRange = this.axisMaximum - this.axisMinimum + 1\n    this.computeAxisValues()\n    this.fixComputeAxisValues(xAxis)\n  }\n\n  fixComputeAxisValues (xAxis) {\n    const valueLength = this.values.length\n    if (valueLength > 0) {\n      const defaultLabelWidth = calcTextWidth(xAxis.tick.text.size, '00-00 00:00')\n      const firstValueX = this.getX(this.values[0].v)\n      let subValueCount = 1\n      if (valueLength > 1) {\n        const secondValueX = this.getX(this.values[1].v)\n        const subX = Math.abs(secondValueX - firstValueX)\n        if (subX < defaultLabelWidth) {\n          subValueCount = Math.ceil(defaultLabelWidth / subX)\n        }\n      }\n      const values = []\n      for (let i = 0; i < valueLength; i += subValueCount) {\n        const v = this.values[i].v\n        const x = this.getX(v)\n        if (x > this.handler.contentLeft() + defaultLabelWidth / 2 &&\n          x < this.handler.contentRight() - defaultLabelWidth / 2) {\n          values.push({ v, x })\n        }\n      }\n      this.values = values\n    }\n  }\n\n  /**\n   * 获取x轴点\n   * @param pos\n   * @returns {*}\n   */\n  getX (pos) {\n    return this.handler.contentLeft() + ((pos - this.storage.minPos) * this.storage.dataSpace + this.storage.dataSpace * (1 - DATA_MARGIN_SPACE_RATE) / 2)\n  }\n}\n\nexport default XAxisRender\n","import Chart from './Chart'\nimport XAxisRender from '../render/XAxisRender'\n\nclass XAxisChart extends Chart {\n  constructor (dom, style, storage, period) {\n    super(dom, style)\n    this.xAxisRender = new XAxisRender(this.handler, storage)\n    this.period = period\n  }\n\n  draw () {\n    const xAxis = this.style.xAxis\n    this.xAxisRender.computeAxis(xAxis)\n    this.xAxisRender.renderAxisLine(this.ctx, xAxis)\n    this.xAxisRender.renderAxisLabels(this.ctx, xAxis, this.period.period)\n    this.xAxisRender.renderSeparatorLines(this.ctx, xAxis)\n    this.xAxisRender.renderTickLines(this.ctx, xAxis)\n  }\n}\n\nexport default XAxisChart\n","import { IndicatorType } from '../internal/constants'\nimport { isArray } from '../utils/data'\n\nconst calcIndicator = {}\n\nexport default calcIndicator\n\n/**\n * 计算均价\n * @param dataList\n * @returns {*}\n */\ncalcIndicator.average = function (dataList) {\n  let totalTurnover = 0\n  let totalVolume = 0\n  return calc(dataList, (i) => {\n    const turnover = dataList[i].turnover || 0\n    totalVolume += dataList[i].volume || 0\n    totalTurnover += turnover\n    if (totalVolume !== 0) {\n      dataList[i].average = totalTurnover / totalVolume\n    } else {\n      dataList[i].average = 0\n    }\n  })\n}\n\n/**\n * 计算均线数据\n * 默认参数5，10，20，60\n * @param dataList\n * @param params\n * @returns {*}\n */\ncalcIndicator[IndicatorType.MA] = function (dataList, params) {\n  if (!checkParams(params)) {\n    return dataList\n  }\n  const closeSums = []\n  const paramsLength = params.length\n  return calc(dataList, (i) => {\n    const ma = {}\n    const close = dataList[i].close\n    for (let j = 0; j < paramsLength; j++) {\n      closeSums[j] = (closeSums[j] || 0) + close\n      const p = params[j]\n      if (i < p) {\n        ma[`ma${p}`] = closeSums[j] / (i + 1)\n      } else {\n        closeSums[j] -= dataList[i - p].close\n        ma[`ma${p}`] = closeSums[j] / p\n      }\n    }\n    dataList[i].ma = ma\n  })\n}\n\n/**\n * 计算成交量包含ma5、ma10、ma20\n * 默认参数5，10，20\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.VOL] = function (dataList, params) {\n  if (!checkParams(params)) {\n    return dataList\n  }\n  const volumeSums = []\n  const paramsLength = params.length\n  return calc(dataList, (i) => {\n    const num = dataList[i].volume\n    const vol = {}\n    for (let j = 0; j < paramsLength; j++) {\n      volumeSums[j] = (volumeSums[j] || 0) + num\n      const p = params[j]\n      if (i < p) {\n        vol[`ma${p}`] = volumeSums[j] / (i + 1)\n      } else {\n        volumeSums[j] -= dataList[i - p].volume\n        vol[`ma${p}`] = volumeSums[j] / p\n      }\n    }\n    vol.num = num\n    dataList[i].vol = vol\n  })\n}\n\n/**\n * 计算MACD指标\n *\n * MACD：参数快线移动平均、慢线移动平均、移动平均，\n * 默认参数值12、26、9。\n * 公式：⒈首先分别计算出收盘价12日指数平滑移动平均线与26日指数平滑移动平均线，分别记为EMA(12）与EMA(26）。\n * ⒉求这两条指数平滑移动平均线的差，即：DIFF=EMA（SHORT）－EMA（LONG）。\n * ⒊再计算DIFF的M日的平均的指数平滑移动平均线，记为DEA。\n * ⒋最后用DIFF减DEA，得MACD。MACD通常绘制成围绕零轴线波动的柱形图。MACD柱状大于0涨颜色，小于0跌颜色。\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.MACD] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 3)) {\n    return dataList\n  }\n  let emaShort\n  let emaLong\n  let oldEmaShort = 0\n  let oldEmaLong = 0\n  let diff = 0\n  let dea = 0\n  let oldDea = 0\n  let macd = 0\n\n  return calc(dataList, (i) => {\n    const closePrice = dataList[i].close\n    if (i === 0) {\n      emaShort = closePrice\n      emaLong = closePrice\n    } else {\n      emaShort = (2 * closePrice + (params[0] - 1) * oldEmaShort) / (params[0] + 1)\n      emaLong = (2 * closePrice + (params[1] - 1) * oldEmaLong) / (params[1] + 1)\n    }\n\n    diff = emaShort - emaLong\n    dea = (diff * 2 + oldDea * (params[2] - 1)) / (params[2] + 1)\n    macd = (diff - dea) * 2\n    oldEmaShort = emaShort\n    oldEmaLong = emaLong\n    oldDea = dea\n\n    dataList[i].macd = { diff, dea, macd }\n  })\n}\n\n/**\n * 计算BOLL指标\n * 默认参数20\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.BOLL] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 1)) {\n    return dataList\n  }\n  let closeSum = 0\n  let ma// 中轨线\n  let md// 标准差\n  let up// 上轨线\n  let dn// 下轨线\n\n  return calc(dataList, (i) => {\n    const closePrice = dataList[i].close\n    closeSum += closePrice\n    if (i < params[0]) {\n      ma = closeSum / (i + 1)\n      md = getBollMd(dataList.slice(0, i + 1), ma)\n    } else {\n      closeSum -= dataList[i - params[0]].close\n      ma = closeSum / params[0]\n      md = getBollMd(dataList.slice(i - (params[0] - 1), i + 1), ma)\n    }\n    up = ma + 2 * md\n    dn = ma - 2 * md\n    dataList[i].boll = { up, mid: ma, dn }\n  })\n}\n\n/**\n * 计算KDJ\n * 默认参数9，3，3\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.KDJ] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 3)) {\n    return dataList\n  }\n  let k\n  let d\n  let j\n\n  // n日内最低价\n  let ln\n  // n日内最高价\n  let hn\n\n  return calc(dataList, (i) => {\n    // n日收盘价\n    const cn = dataList[i].close\n\n    if (i < (params[0] - 1)) {\n      ln = getLow(dataList.slice(0, i + 1))\n      hn = getHigh(dataList.slice(0, i + 1))\n    } else {\n      ln = getLow(dataList.slice(i - (params[0] - 1), i + 1))\n      hn = getHigh(dataList.slice(i - (params[0] - 1), i + 1))\n    }\n    const rsv = (cn - ln) / (hn - ln === 0 ? 1 : hn - ln) * 100\n    // 当日K值=2/3×前一日K值+1/3×当日RSV\n    // 当日D值=2/3×前一日D值+1/3×当日K值\n    // 若无前一日K 值与D值，则可分别用50来代替。\n    // J值=3*当日K值-2*当日D值\n    k = (params[1] - 1) / params[1] * (i < (params[0] - 1) ? 50.0 : dataList[i - 1].kdj.k) + 1.0 / params[1] * rsv\n    d = (params[2] - 1) / params[2] * (i < (params[0] - 1) ? 50.0 : dataList[i - 1].kdj.d) + 1.0 / params[2] * k\n    j = 3.0 * k - 2.0 * d\n    dataList[i].kdj = { k, d, j }\n  })\n}\n\n/**\n * 计算RSI\n * 默认参数6，12，24\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.RSI] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 3)) {\n    return dataList\n  }\n  // N日RSI =\n  // N日内收盘涨幅的平均值/(N日内收盘涨幅均值+N日内收盘跌幅均值) ×100%\n  let sumCloseA1 = 0\n  let sumCloseB1 = 0\n\n  let sumCloseA2 = 0\n  let sumCloseB2 = 0\n\n  let sumCloseA3 = 0\n  let sumCloseB3 = 0\n\n  let a1\n  let b1\n\n  let a2\n  let b2\n\n  let a3\n  let b3\n\n  return calc(dataList, (i) => {\n    const rsi = { [`rsi${params[0]}`]: 0, [`rsi${params[1]}`]: 0, [`rsi${params[2]}`]: 0 }\n    if (i > 0) {\n      const tmp = dataList[i].close - dataList[i - 1].close\n      if (tmp > 0) {\n        sumCloseA1 += tmp\n        sumCloseA2 += tmp\n        sumCloseA3 += tmp\n      } else {\n        const absTmp = Math.abs(tmp)\n        sumCloseB1 += absTmp\n        sumCloseB2 += absTmp\n        sumCloseB3 += absTmp\n      }\n\n      if (i < params[0]) {\n        a1 = sumCloseA1 / (i + 1)\n        b1 = (sumCloseA1 + sumCloseB1) / (i + 1)\n      } else {\n        if (i > params[0]) {\n          const agoTmp = dataList[i - params[0]].close - dataList[i - params[0] - 1].close\n          if (agoTmp > 0) {\n            sumCloseA1 -= agoTmp\n          } else {\n            sumCloseB1 -= Math.abs(agoTmp)\n          }\n        }\n        a1 = sumCloseA1 / params[0]\n        b1 = (sumCloseA1 + sumCloseB1) / params[0]\n      }\n      rsi[`rsi${params[0]}`] = b1 !== 0.0 ? a1 / b1 * 100 : 0.0\n\n      if (i < params[1]) {\n        a2 = sumCloseA2 / (i + 1)\n        b2 = (sumCloseA2 + sumCloseB2) / (i + 1)\n      } else {\n        if (i > params[1]) {\n          const agoTmp = dataList[i - params[1]].close - dataList[i - params[1] - 1].close\n          if (agoTmp > 0) {\n            sumCloseA2 -= agoTmp\n          } else {\n            sumCloseB2 -= Math.abs(agoTmp)\n          }\n        }\n        a2 = sumCloseA2 / params[1]\n        b2 = (sumCloseA2 + sumCloseB2) / params[1]\n      }\n      rsi[`rsi${params[1]}`] = b2 !== 0.0 ? a2 / b2 * 100 : 0.0\n\n      if (i < params[2]) {\n        a3 = sumCloseA3 / (i + 1)\n        b3 = (sumCloseA3 + sumCloseB3) / (i + 1)\n      } else {\n        if (i > params[2]) {\n          const agoTmp = dataList[i - params[2]].close - dataList[i - params[2] - 1].close\n          if (agoTmp > 0) {\n            sumCloseA3 -= agoTmp\n          } else {\n            sumCloseB3 -= Math.abs(agoTmp)\n          }\n        }\n        a3 = sumCloseA3 / params[2]\n        b3 = (sumCloseA3 + sumCloseB3) / params[2]\n      }\n      rsi[`rsi${params[2]}`] = b3 !== 0.0 ? a3 / b3 * 100 : 0.0\n    }\n    dataList[i].rsi = rsi\n  })\n}\n\n/**\n * 计算BIAS指标\n * 乖离率=[(当日收盘价-N日平均价)/N日平均价]*100%\n * 默认参数：6，12、24\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.BIAS] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 3)) {\n    return dataList\n  }\n  let mean1\n  let mean2\n  let mean3\n  let closes1 = 0\n  let closes2 = 0\n  let closes3 = 0\n\n  return calc(dataList, (i) => {\n    const bias = {}\n    const closePrice = dataList[i].close\n    closes1 += closePrice\n    closes2 += closePrice\n    closes3 += closePrice\n\n    if (i < params[0]) {\n      mean1 = closes1 / (i + 1)\n    } else {\n      closes1 -= dataList[i - params[0]].close\n      mean1 = closes1 / params[0]\n    }\n    bias[`bias${params[0]}`] = ((closePrice - mean1) / mean1) * 100\n\n    if (i < params[1]) {\n      mean2 = closes2 / (i + 1)\n    } else {\n      closes2 -= dataList[i - params[1]].close\n      mean2 = closes2 / params[1]\n    }\n    bias[`bias${params[1]}`] = ((closePrice - mean2) / mean2) * 100\n\n    if (i < params[2]) {\n      mean3 = closes3 / (i + 1)\n    } else {\n      closes3 -= dataList[i - params[2]].close\n      mean3 = closes3 / params[2]\n    }\n    bias[`bias${params[2]}`] = ((closePrice - mean3) / mean3) * 100\n\n    dataList[i].bias = bias\n  })\n}\n\n/**\n * 计算BRAR指标\n * 默认参数是26。\n * 公式N日BR=N日内（H－CY）之和除以N日内（CY－L）之和*100，\n * 其中，H为当日最高价，L为当日最低价，CY为前一交易日的收盘价，N为设定的时间参数。\n * N日AR=(N日内（H－O）之和除以N日内（O－L）之和)*100，\n * 其中，H为当日最高价，L为当日最低价，O为当日开盘价，N为设定的时间参数\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.BRAR] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 1)) {\n    return dataList\n  }\n  let br = 0\n  let ar = 0\n  let hcy = 0\n  let cyl = 0\n  let ho = 0\n  let ol = 0\n\n  return calc(dataList, (i) => {\n    const high = dataList[i].high\n    const low = dataList[i].low\n    const open = dataList[i].open\n    ho += (high - open)\n    ol += (open - low)\n    if (i > 0) {\n      const refClose = dataList[i - 1].close\n      hcy += (high - refClose)\n      cyl += (refClose - low)\n      if (i > params[0] - 1) {\n        const agoHigh = dataList[i - params[0]].high\n        const agoLow = dataList[i - params[0]].low\n        const agoOpen = dataList[i - params[0]].open\n        if (i > params[0]) {\n          const agoRefClose = dataList[i - params[0] - 1].close\n          hcy -= (agoHigh - agoRefClose)\n          cyl -= (agoRefClose - agoLow)\n        }\n        ho -= (agoHigh - agoOpen)\n        ol -= (agoOpen - agoLow)\n      }\n      if (ol !== 0) {\n        ar = ho / ol * 100\n      } else {\n        ar = 0\n      }\n      if (cyl !== 0) {\n        br = hcy / cyl * 100\n      } else {\n        br = 0\n      }\n    }\n    dataList[i].brar = { br, ar }\n  })\n}\n\n/**\n * 计算CCI指标\n * CCI（N日）=（TP－MA）÷MD÷0.015\n * 其中，TP=（最高价+最低价+收盘价）÷3\n * MA=近N日收盘价的累计之和÷N\n * MD=近N日（MA－收盘价）的累计之和÷N\n * 默认参数13\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.CCI] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 1)) {\n    return dataList\n  }\n  let closes = 0.0\n  let closeMa\n  const closeMaList = []\n  let md\n  let maCloseSum = 0.0\n  let cci\n\n  return calc(dataList, (i) => {\n    const closePrice = dataList[i].close\n    closes += closePrice\n\n    const tp = (dataList[i].high + dataList[i].low + closePrice) / 3\n    if (i < params[0]) {\n      closeMa = closes / (i + 1)\n      maCloseSum += Math.abs(closeMa - closePrice)\n      closeMaList.push(closeMa)\n      md = maCloseSum / (i + 1)\n    } else {\n      const agoClosePrice = dataList[i - params[0]].close\n      closes -= agoClosePrice\n      closeMa = closes / params[0]\n      closeMaList.push(closeMa)\n      maCloseSum += Math.abs(closeMa - closePrice)\n      maCloseSum -= Math.abs(closeMaList[i - params[0]] - agoClosePrice)\n      md = maCloseSum / params[0]\n    }\n    cci = md !== 0.0 ? (tp - closeMa) / md / 0.015 : 0.0\n    dataList[i].cci = { cci }\n  })\n}\n\n/**\n * 计算DMI\n *\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.DMI] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 2)) {\n    return dataList\n  }\n  // 默认参数 14，6\n  // MTR:=EXPMEMA(MAX(MAX(HIGH-LOW,ABS(HIGH-REF(CLOSE,1))),ABS(REF(CLOSE,1)-LOW)),N)\n  // HD :=HIGH-REF(HIGH,1);\n  // LD :=REF(LOW,1)-LOW;\n  // DMP:=EXPMEMA(IF(HD>0&&HD>LD,HD,0),N);\n  // DMM:=EXPMEMA(IF(LD>0&&LD>HD,LD,0),N);\n  //\n  // PDI: DMP*100/MTR;\n  // MDI: DMM*100/MTR;\n  // ADX: EXPMEMA(ABS(MDI-PDI)/(MDI+PDI)*100,MM);\n  // ADXR:EXPMEMA(ADX,MM);\n  // 公式含义：\n  // MTR赋值:最高价-最低价和最高价-昨收的绝对值的较大值和昨收-最低价的绝对值的较大值的N日指数平滑移动平均\n  // HD赋值:最高价-昨日最高价\n  // LD赋值:昨日最低价-最低价\n  // DMP赋值:如果HD>0并且HD>LD,返回HD,否则返回0的N日指数平滑移动平均\n  // DMM赋值:如果LD>0并且LD>HD,返回LD,否则返回0的N日指数平滑移动平均\n  // 输出PDI:DMP*100/MTR\n  // 输出MDI:DMM*100/MTR\n  // 输出ADX:MDI-PDI的绝对值/(MDI+PDI)*100的MM日指数平滑移动平均\n  // 输出ADXR:ADX的MM日指数平滑移动平均\n  let pdi = 0.0\n  let mdi = 0.0\n  let adx = 0.0\n  let adxr = 0.0\n\n  const trList = [0.0]\n  let trSum = 0.0\n  const dmpList = [0.0]\n  let dmpSum = 0.0\n  const dmmList = [0.0]\n  let dmmSum = 0.0\n  const dxList = [0.0]\n  let dxSum = 0.0\n\n  return calc(dataList, (i) => {\n    if (i > 0) {\n      const refClose = dataList[i - 1].close\n      const highPrice = dataList[i].high\n      const lowPrice = dataList[i].low\n      const hl = highPrice - lowPrice\n      const hcy = Math.abs(highPrice - refClose)\n      const lcy = Math.abs(lowPrice - refClose)\n      const hhy = highPrice - dataList[i - 1].high\n      const lyl = dataList[i - 1].low - lowPrice\n      const tr = Math.max(Math.max(hl, hcy), lcy)\n      trSum += tr\n      trList.push(tr)\n\n      const h = (hhy > 0.0 && hhy > lyl) ? hhy : 0.0\n      dmpSum += h\n      dmpList.push(h)\n\n      const l = (lyl > 0 && lyl > hhy) ? lyl : 0.0\n      dmmSum += l\n      dmmList.push(l)\n\n      if (i > params[0] - 1) {\n        trSum -= trList[i - params[0]]\n        dmpSum -= dmpList[i - params[0]]\n        dmmSum -= dmmList[i - params[0]]\n      }\n\n      if (trSum === 0) {\n        pdi = 0\n        mdi = 0\n      } else {\n        pdi = dmpSum * 100 / trSum\n        mdi = dmmSum * 100 / trSum\n      }\n\n      const dx = Math.abs((mdi - pdi)) / (mdi + pdi) * 100\n      dxSum += dx\n      dxList.push(dx)\n      if (i < params[1]) {\n        adx = dxSum / (i + 1)\n        adxr = adx\n      } else {\n        const agoAdx = dxList[i - params[1]]\n        dxSum -= agoAdx\n        adx = dxSum / params[1]\n        adxr = (adx + agoAdx) / 2\n      }\n    }\n    dataList[i].dmi = { pdi, mdi, adx, adxr }\n  })\n}\n\n/**\n * 计算CR\n *\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.CR] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 5)) {\n    return dataList\n  }\n  // 默认参数26、10、20、40、60\n  // MID:=REF(HIGH+LOW,1)/2;\n  // CR:SUM(MAX(0,HIGH-MID),N)/SUM(MAX(0,MID-LOW),N)*100;\n  // MA1:REF(MA(CR,M1),M1/2.5+1);\n  // MA2:REF(MA(CR,M2),M2/2.5+1);\n  // MA3:REF(MA(CR,M3),M3/2.5+1);\n  // MA4:REF(MA(CR,M4),M4/2.5+1);\n  // MID赋值:(昨日最高价+昨日最低价)/2\n  // 输出带状能量线:0和最高价-MID的较大值的N日累和/0和MID-最低价的较大值的N日累和*100\n  // 输出MA1:M1(5)/2.5+1日前的CR的M1(5)日简单移动平均\n  // 输出MA2:M2(10)/2.5+1日前的CR的M2(10)日简单移动平均\n  // 输出MA3:M3(20)/2.5+1日前的CR的M3(20)日简单移动平均\n  // 输出MA4:M4/2.5+1日前的CR的M4日简单移动平均\n  let cr = 0\n  let ma1\n  let ma2\n  let ma3\n  let ma4\n  let p1 = 0\n  let p2 = 0\n  let ma1Sum = 0\n  let ma1Mean\n  const ma1List = []\n  let ma2Sum = 0\n  let ma2Mean\n  const ma2List = []\n  let ma3Sum = 0\n  let ma3Mean\n  const ma3List = []\n  let ma4Sum = 0\n  let ma4Mean\n  const ma4List = []\n\n  return calc(dataList, (i) => {\n    if (i > 0) {\n      const preHighestPrice = dataList[i - 1].high\n      const preLowestPrice = dataList[i - 1].low\n      const preClosePrice = dataList[i - 1].close\n      const preOpenPrice = dataList[i - 1].open\n      const preMidPrice = (preHighestPrice + preClosePrice + preLowestPrice + preOpenPrice) / 4\n\n      const highestPrice = dataList[i].high\n      const lowestPrice = dataList[i].low\n\n      let highSubPreMid = highestPrice - preMidPrice\n      if (highSubPreMid < 0) {\n        highSubPreMid = 0\n      }\n      p1 += highSubPreMid\n\n      let preMidSubLow = preMidPrice - lowestPrice\n      if (preMidSubLow < 0) {\n        preMidSubLow = 0\n      }\n      p2 += preMidSubLow\n\n      if (i > params[0]) {\n        const firstHighestPrice = dataList[i - params[0] - 1].high\n        const firstLowestPrice = dataList[i - params[0] - 1].low\n        const firstClosePrice = dataList[i - params[0] - 1].close\n        const firstOpenPrice = dataList[i - params[0] - 1].open\n        const firstMidPrice = (firstHighestPrice + firstLowestPrice + firstClosePrice + firstOpenPrice) / 4\n\n        const secondHighestPrice = dataList[i - params[0]].high\n        const secondLowestPrice = dataList[i - params[0]].low\n\n        let secondHighSubFirstMid = secondHighestPrice - firstMidPrice\n        if (secondHighSubFirstMid < 0) {\n          secondHighSubFirstMid = 0\n        }\n\n        let firstMidSubSecondLow = firstMidPrice - secondLowestPrice\n        if (firstMidSubSecondLow < 0) {\n          firstMidSubSecondLow = 0\n        }\n        p1 -= secondHighSubFirstMid\n        p2 -= firstMidSubSecondLow\n      }\n\n      if (p2 !== 0) {\n        cr = p1 / p2 * 100\n      }\n\n      const YM = (dataList[i - 1].high + dataList[i - 1].low + dataList[i - 1].close) / 3\n      const HYM = dataList[i].high - YM\n      p1 += (HYM <= 0 ? 0 : HYM)\n      const LYM = YM - dataList[i].low\n      p2 += (LYM <= 0 ? 0 : LYM)\n    }\n    ma1Sum += cr\n    ma2Sum += cr\n    ma3Sum += cr\n    ma4Sum += cr\n\n    if (i < params[1]) {\n      ma1Mean = ma1Sum / (i + 1)\n    } else {\n      ma1Sum -= dataList[i - params[1]].cr.cr\n      ma1Mean = ma1Sum / params[1]\n    }\n    ma1List.push(ma1Mean)\n\n    if (i < params[2]) {\n      ma2Mean = ma2Sum / (i + 1)\n    } else {\n      ma2Sum -= dataList[i - params[2]].cr.cr\n      ma2Mean = ma2Sum / params[2]\n    }\n    ma2List.push(ma2Mean)\n\n    if (i < params[3]) {\n      ma3Mean = ma3Sum / (i + 1)\n    } else {\n      ma3Sum -= dataList[i - params[3]].cr.cr\n      ma3Mean = ma3Sum / params[3]\n    }\n    ma3List.push(ma3Mean)\n\n    if (i < params[4]) {\n      ma4Mean = ma4Sum / (i + 1)\n    } else {\n      ma4Sum -= dataList[i - params[4]].cr.cr\n      ma4Mean = ma4Sum / params[4]\n    }\n    ma4List.push(ma4Mean)\n\n    if (i < 5) {\n      ma1 = ma1List[0]\n    } else {\n      ma1 = ma1List[i - 5]\n    }\n\n    if (i < 9) {\n      ma2 = ma2List[0]\n    } else {\n      ma2 = ma2List[i - 9]\n    }\n\n    if (i < 17) {\n      ma3 = ma3List[0]\n    } else {\n      ma3 = ma3List[i - 17]\n    }\n\n    if (i < 25) {\n      ma4 = ma4List[0]\n    } else {\n      ma4 = ma4List[i - 25]\n    }\n    dataList[i].cr = { cr, ma1, ma2, ma3, ma4 }\n  })\n}\n\n/**\n * 计算PSY\n * 默认参数是12。公式：PSY=N日内的上涨天数/N×100%。\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.PSY] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 1)) {\n    return dataList\n  }\n  let psy = 0\n  let upDay = 0\n\n  return calc(dataList, (i) => {\n    if (i > 0) {\n      upDay += (dataList[i].close - dataList[i - 1].close > 0 ? 1 : 0)\n      if (i < params[0]) {\n        psy = upDay / (i + 1) * 100\n      } else {\n        if (i > params[0]) {\n          upDay -= ((dataList[i - params[0] + 1].close - dataList[i - params[0]].close > 0) ? 1.0 : 0.0)\n        }\n        psy = upDay / params[0] * 100\n      }\n    }\n    dataList[i].psy = { psy }\n  })\n}\n\n/**\n * 计算DMA\n * 默认参数是10、50、10。\n * 公式：DIF:MA(CLOSE,N1)-MA(CLOSE,N2);DIFMA:MA(DIF,M)\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.DMA] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 3)) {\n    return dataList\n  }\n  let dif\n  let difMa\n  let ma1Sum = 0\n  let ma1\n  let ma2Sum = 0\n  let ma2\n  let difSum = 0\n  return calc(dataList, (i) => {\n    const closePrice = dataList[i].close\n\n    ma1Sum += closePrice\n    ma2Sum += closePrice\n\n    if (i < params[0]) {\n      ma1 = ma1Sum / (i + 1)\n    } else {\n      ma1Sum -= dataList[i - params[0]].close\n      ma1 = ma1Sum / params[0]\n    }\n\n    if (i < params[1]) {\n      ma2 = ma2Sum / (i + 1)\n    } else {\n      ma2Sum -= dataList[i - params[1]].close\n      ma2 = ma2Sum / params[1]\n    }\n    dif = ma1 - ma2\n    difSum += dif\n\n    if (i < params[2]) {\n      difMa = difSum / (i + 1)\n    } else {\n      difSum -= dataList[i - params[2]].dma.dif\n      difMa = difSum / params[2]\n    }\n\n    dataList[i].dma = { dif, difMa }\n  })\n}\n\n/**\n * 计算TRIX\n *\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.TRIX] = function (dataList, params) {\n  // TR=收盘价的N日指数移动平均的N日指数移动平均的N日指数移动平均；\n  // TRIX=(TR-昨日TR)/昨日TR*100；\n  // MATRIX=TRIX的M日简单移动平均；\n  // 默认参数N设为12，默认参数M设为20；\n  // 默认参数12、20\n  // 公式：MTR:=EMA(EMA(EMA(CLOSE,N),N),N)\n  // TRIX:(MTR-REF(MTR,1))/REF(MTR,1)*100;\n  // TRMA:MA(TRIX,M)\n  if (!checkParamsWithSize(params, 2)) {\n    return dataList\n  }\n  let trix = 0\n  let maTrix\n  let sumTrix = 0\n\n  let emaClose1\n  let oldEmaClose1 = 0.0\n\n  let emaClose2\n  let oldEmaClose2 = 0.0\n\n  let emaClose3\n  let oldEmaClose3 = 0.0\n  const emaClose3List = []\n\n  return calc(dataList, (i) => {\n    const closePrice = dataList[i].close\n    if (i === 0) {\n      emaClose1 = closePrice\n      emaClose2 = emaClose1\n      emaClose3 = emaClose2\n    } else {\n      emaClose1 = (2 * closePrice + (params[0] - 1) * oldEmaClose1) / (params[0] + 1)\n      emaClose2 = (2 * emaClose1 + (params[0] - 1) * oldEmaClose2) / (params[0] + 1)\n      emaClose3 = (2 * emaClose2 + (params[0] - 1) * oldEmaClose3) / (params[0] + 1)\n      const refEmaClose3 = emaClose3List[i - 1]\n      trix = refEmaClose3 === 0.0 ? 0.0 : (emaClose3 - refEmaClose3) / refEmaClose3 * 100\n    }\n    oldEmaClose1 = emaClose1\n    oldEmaClose2 = emaClose2\n    oldEmaClose3 = emaClose3\n    emaClose3List.push(emaClose3)\n    sumTrix += trix\n    if (i < params[1]) {\n      maTrix = sumTrix / (i + 1)\n    } else {\n      sumTrix -= dataList[i - params[1]].trix.trix\n      maTrix = sumTrix / params[1]\n    }\n    dataList[i].trix = { trix, maTrix }\n  })\n}\n\n/**\n * 计算obv指标\n * VA:=IF(CLOSE>REF(CLOSE,1),VOL,-VOL);\n * OBV:SUM(IF(CLOSE=REF(CLOSE,1),0,VA),0);\n * MAOBV:MA(OBV,M);\n * VA赋值:如果收盘价>昨收,返回成交量(手),否则返回-成交量(手)\n * 输出OBV:如果收盘价=昨收,返回0,否则返回VA的历史累和\n * 输出MAOBV:OBV的M日简单移动平均\n * 默认参数30\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.OBV] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 1)) {\n    return dataList\n  }\n  let obv\n  let sumObv = 0.0\n  let maObv\n  let sumVa = 0.0\n\n  return calc(dataList, (i) => {\n    const volume = dataList[i].volume\n    if (i === 0) {\n      obv = volume\n      sumVa += volume\n    } else {\n      const refClosePrice = dataList[i - 1].close\n      const closePrice = dataList[i].close\n      const va = closePrice > refClosePrice ? volume : -volume\n\n      sumVa += va\n      obv = closePrice === refClosePrice ? 0.0 : sumVa\n    }\n    sumObv += obv\n    if (i < params[0]) {\n      maObv = sumObv / (i + 1)\n    } else {\n      sumObv -= dataList[i - params[0]].obv.obv\n      maObv = sumObv / params[0]\n    }\n    dataList[i].obv = { obv, maObv }\n  })\n}\n\n/**\n * 计算vr指标\n * 默认参数24 ， 30\n * VR=（AVS+1/2CVS）/（BVS+1/2CVS）\n * 24天以来凡是股价上涨那一天的成交量都称为AV，将24天内的AV总和相加后称为AVS\n * 24天以来凡是股价下跌那一天的成交量都称为BV，将24天内的BV总和相加后称为BVS\n * 24天以来凡是股价不涨不跌，则那一天的成交量都称为CV，将24天内的CV总和相加后称为CVS\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.VR] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 2)) {\n    return dataList\n  }\n  let avs = 0\n  let bvs = 0\n  let cvs = 0\n  let vr = 0\n  let maVr\n  let sumVr = 0\n  return calc(dataList, (i) => {\n    const closePrice = dataList[i].close\n    const openPrice = dataList[i].open\n    const volume = dataList[i].volume\n    if (closePrice > openPrice) {\n      avs += volume\n    } else if (closePrice < openPrice) {\n      bvs += volume\n    } else {\n      cvs += volume\n    }\n\n    if (i > params[0] - 1) {\n      const agoClosePrice = dataList[i - params[0]].close\n      const agoOpenPrice = dataList[i - params[0]].open\n      const agoVolume = dataList[i - params[0]].volume\n      if (agoClosePrice > agoOpenPrice) {\n        avs -= agoVolume\n      } else if (agoClosePrice < agoOpenPrice) {\n        bvs -= agoVolume\n      } else {\n        cvs -= agoVolume\n      }\n    }\n\n    const v = bvs + 1 / 2 * cvs\n    if (v !== 0) {\n      vr = (avs + 1 / 2 * cvs) / v * 100\n    }\n    sumVr += vr\n    if (i < params[1]) {\n      maVr = sumVr / (i + 1)\n    } else {\n      sumVr -= dataList[i - params[1]].vr.vr\n      maVr = sumVr / params[1]\n    }\n    dataList[i].vr = { vr, maVr }\n  })\n}\n\n/**\n * 计算wr指标\n * 默认参数13 34 89\n * 公式 WR(N) = 100 * [ HIGH(N)-C ] / [ HIGH(N)-LOW(N) ]\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.WR] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 3)) {\n    return dataList\n  }\n  let wr1\n  let wr2\n  let wr3\n  let h1 = Number.MIN_SAFE_INTEGER\n  let l1 = Number.MAX_SAFE_INTEGER\n  let h2 = Number.MIN_SAFE_INTEGER\n  let l2 = Number.MAX_SAFE_INTEGER\n  let h3 = Number.MIN_SAFE_INTEGER\n  let l3 = Number.MAX_SAFE_INTEGER\n\n  let hl1\n  let hl2\n  let hl3\n\n  return calc(dataList, (i) => {\n    const closePrice = dataList[i].close\n    const highPrice = dataList[i].high\n    const lowPrice = dataList[i].low\n\n    if (i < params[0]) {\n      h1 = Math.max(highPrice, h1)\n      l1 = Math.min(lowPrice, l1)\n    } else {\n      const highLowPriceArray = getHighLow(dataList.slice(i - params[0], i))\n      h1 = highLowPriceArray[0]\n      l1 = highLowPriceArray[1]\n    }\n    hl1 = h1 - l1\n    wr1 = hl1 !== 0 ? (h1 - closePrice) / hl1 * 100 : 0.0\n\n    if (i < params[1]) {\n      h2 = Math.max(highPrice, h2)\n      l2 = Math.min(lowPrice, l2)\n    } else {\n      const highLowPriceArray = getHighLow(dataList.slice(i - params[1], i))\n      h2 = highLowPriceArray[0]\n      l2 = highLowPriceArray[1]\n    }\n    hl2 = h2 - l2\n    wr2 = hl2 !== 0 ? (h2 - closePrice) / hl2 * 100 : 0.0\n\n    if (i < params[2]) {\n      h3 = Math.max(highPrice, h3)\n      l3 = Math.min(lowPrice, l3)\n    } else {\n      const highLowPriceArray = getHighLow(dataList.slice(i - params[2], i))\n      h3 = highLowPriceArray[0]\n      l3 = highLowPriceArray[1]\n    }\n    hl3 = h3 - l3\n    wr3 = hl3 !== 0.0 ? (h3 - closePrice) / hl3 * 100 : 0.0\n\n    dataList[i].wr = { wr1, wr2, wr3 }\n  })\n}\n\n/**\n * 计算mtm指标\n * 默认参数6 10\n * 公式 MTM（N日）=C－CN\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.MTM] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 2)) {\n    return dataList\n  }\n  let mtm\n  let mtmSum = 0\n  let mtmMa\n  return calc(dataList, (i) => {\n    if (i < params[0]) {\n      mtm = 0.0\n      mtmMa = 0.0\n    } else {\n      const closePrice = dataList[i].close\n      mtm = closePrice - dataList[i - params[0]].close\n      mtmSum += mtm\n      if (i < params[0] + params[1]) {\n        mtmMa = mtmSum / (i - params[0] + 1)\n      } else {\n        mtmMa = mtmSum / params[1]\n        mtmSum -= dataList[i - params[1]].mtm.mtm\n      }\n    }\n    dataList[i].mtm = { mtm, mtmMa }\n  })\n}\n\n/**\n * 简易波动指标\n * 默认参数N为14，默认参数M为9\n * 公式：\n * A=（今日最高+今日最低）/2\n * B=（前日最高+前日最低）/2\n * C=今日最高-今日最低\n * EM=（A-B）*C/今日成交额\n * EMV=N日内EM的累和\n * MAEMV=EMV的M日的简单移动平均\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.EMV] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 2)) {\n    return dataList\n  }\n\n  let emv = 0\n  let maEmv\n  let sumEmv = 0\n  let em = 0\n\n  const emList = []\n\n  return calc(dataList, (i) => {\n    if (i > 0) {\n      const turnover = dataList[i].turnover\n      const highestPrice = dataList[i].high\n      const lowestPrice = dataList[i].low\n      const preHighestPrice = dataList[i - 1].high\n      const preLowestPrice = dataList[i - 1].low\n      const highSubLow = highestPrice - lowestPrice\n      const halfHighAddLow = (highestPrice + lowestPrice) / 2\n      const preHalfHighAddLow = (preHighestPrice + preLowestPrice) / 2\n      em = (halfHighAddLow - preHalfHighAddLow) * highSubLow / turnover\n    }\n    emList.push(em)\n    if (i < params[0]) {\n      emv += em\n    } else {\n      emv -= emList[i - params[0]]\n    }\n    sumEmv += emv\n    if (i < params[1]) {\n      maEmv = sumEmv / (i + 1)\n    } else {\n      sumEmv -= dataList[i - params[1]].emv.emv\n      maEmv = sumEmv / params[1]\n    }\n    dataList[i].emv = { emv, maEmv }\n  })\n}\n\n/**\n * 计算sar\n * 默认参数2， 2， 20（开始值，步长，最大值）\n * @param dataList\n * @param params\n * @return\n */\ncalcIndicator[IndicatorType.SAR] = function (dataList, params) {\n  if (!checkParamsWithSize(params, 3)) {\n    return dataList\n  }\n  const startAf = params[0] / 100\n  const step = params[1] / 100\n  const maxAf = params[2] / 100\n  // 加速因子\n  let af = startAf\n  // 极值\n  let ep = -100\n  // 判断是上涨还是下跌  false：下跌\n  let isIncreasing = false\n  let sar = 0\n\n  return calc(dataList, (i) => {\n    // 上一个周期的sar\n    const preSar = sar\n    const highestPrice = dataList[i].high\n    const lowestPrice = dataList[i].low\n    if (isIncreasing) {\n      // 上涨\n      if (ep === -100 || ep < highestPrice) {\n        // 重新初始化值\n        ep = highestPrice\n        af = Math.min(af + step, maxAf)\n      }\n      sar = preSar + af * (ep - preSar)\n      const lowestPriceMin = Math.min(dataList[Math.max(1, i) - 1].low, lowestPrice)\n      if (sar > dataList[i].low) {\n        sar = ep\n        // 重新初始化值\n        af = startAf\n        ep = -100\n        isIncreasing = !isIncreasing\n      } else if (sar > lowestPriceMin) {\n        sar = lowestPriceMin\n      }\n    } else {\n      if (ep === -100 || ep > lowestPrice) {\n        // 重新初始化值\n        ep = lowestPrice\n        af = Math.min(af + step, maxAf)\n      }\n      sar = preSar + af * (ep - preSar)\n      const highestPriceMax = Math.max(dataList[Math.max(1, i) - 1].high, highestPrice)\n      if (sar < dataList[i].high) {\n        sar = ep\n        // 重新初始化值\n        af = 0\n        ep = -100\n        isIncreasing = !isIncreasing\n      } else if (sar < highestPriceMax) {\n        sar = highestPriceMax\n      }\n    }\n    dataList[i].sar = { sar }\n  })\n}\n\n/**\n * 计算\n * @param dataList\n * @param calcIndicator\n */\nfunction calc (dataList, calcIndicator) {\n  const dataSize = dataList.length\n  for (let i = 0; i < dataSize; i++) {\n    calcIndicator(i)\n  }\n  return dataList\n}\n\n/**\n * 计算布林指标中的标准差\n *\n * @param list\n * @param ma\n * @return\n */\nfunction getBollMd (list, ma) {\n  let sum = 0\n  for (let i = 0; i < list.length; i++) {\n    const closeMa = list[i].close - ma\n    sum += closeMa * closeMa\n  }\n  const b = sum > 0\n  sum = Math.abs(sum)\n  const md = Math.sqrt(sum / list.length)\n  return b ? md : -1 * md\n}\n\n/**\n * 获取list中的最大的最高价\n *\n * @param list\n * @return\n */\nfunction getHigh (list) {\n  let high = 0\n  if (list && list.length > 0) {\n    const size = list.length\n    high = list[0].high\n    for (let i = 1; i < size; i++) {\n      high = Math.max(list[i].high, high)\n    }\n  }\n  return high\n}\n\n/**\n * 获取list中的最小的最低价\n *\n * @param list\n * @return\n */\nfunction getLow (list) {\n  let low = 0\n  if (list && list.length > 0) {\n    const size = list.length\n    low = list[0].low\n    for (let i = 1; i < size; i++) {\n      low = Math.min(list[i].low, low)\n    }\n  }\n  return low\n}\n\n/**\n * 获取最大最小值\n * @param list\n * @returns {number[]}\n */\nfunction getHighLow (list) {\n  let high = 0\n  let low = 0\n  if (list && list.length > 0) {\n    const size = list.length\n    high = list[0].high\n    low = list[0].low\n    for (let i = 1; i < size; i++) {\n      high = Math.max(list[i].high, high)\n      low = Math.min(list[i].low, low)\n    }\n  }\n  return [high, low]\n}\n\n/**\n * 检查参数\n * @param params\n */\nfunction checkParams (params) {\n  return params && isArray(params)\n}\n\n/**\n * 检查参数, 并检查参数个数\n * @param params\n * @param paramsSize\n */\nfunction checkParamsWithSize (params, paramsSize) {\n  return checkParams(params) && params.length === paramsSize\n}\n","export function isIPad (ua) {\n  return ua.match(/(iPad).*OS\\s([\\d_]+)/)\n}\n\nexport function isIPhone (ua) {\n  return !isIPad(ua) && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/)\n}\n\nexport function isAndroid (ua) {\n  // eslint-disable-next-line no-useless-escape\n  return ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/)\n}\n\nexport function isMobile (ua) {\n  return isIPad(ua) || isIPhone(ua) || isAndroid(ua)\n}\n","class Event {\n  constructor (\n    tooltipChart, candleChart, volChart,\n    subIndicatorChart, xAxisChart, storage\n  ) {\n    this.tooltipChart = tooltipChart\n    this.candleChart = candleChart\n    this.volChart = volChart\n    this.subIndicatorChart = subIndicatorChart\n    this.xAxisChart = xAxisChart\n    this.storage = storage\n    this.handler = tooltipChart.handler\n  }\n\n  /**\n   * 拖拽\n   * @param eventPoint\n   * @param dragX\n   * @param loadMore\n   * @returns {boolean}\n   */\n  drag (eventPoint, dragX, loadMore) {\n    const dataSpace = this.storage.dataSpace\n    const dataSize = this.storage.dataList.length\n    const range = this.storage.range\n    let minPos = this.storage.minPos\n    const moveDist = dragX - eventPoint.x\n    if (moveDist > dataSpace / 2) {\n      if (minPos === 0 || dataSize < range) {\n        return false\n      }\n\n      eventPoint.x = dragX\n\n      let moveRange = +Math.abs(moveDist / dataSpace).toFixed(0)\n      if (moveRange === 0) {\n        moveRange = 1\n      }\n\n      minPos -= moveRange\n      if (minPos < 0) {\n        minPos = 0\n      }\n      this.storage.minPos = minPos\n      this.candleChart.flush()\n      this.volChart.flush()\n      this.subIndicatorChart.flush()\n      this.xAxisChart.flush()\n      if (minPos === 0) {\n        loadMore()\n      }\n      return true\n    } else if (moveDist < 0 - dataSpace / 2) {\n      if (minPos + range === dataSize || dataSize < range) {\n        return false\n      }\n\n      eventPoint.x = dragX\n\n      let moveRange = +Math.abs(moveDist / dataSpace).toFixed(0)\n      if (moveRange === 0) {\n        moveRange = 1\n      }\n\n      minPos += moveRange\n      if (minPos >= dataSize - range) {\n        minPos = dataSize - range\n      }\n      this.storage.minPos = minPos\n      this.candleChart.flush()\n      this.volChart.flush()\n      this.subIndicatorChart.flush()\n      this.xAxisChart.flush()\n      return true\n    }\n    return false\n  }\n\n  /**\n   * 缩放\n   * @param isZoomingOut\n   * @param scaleX\n   * @param touchStartPosition\n   * @param touchRange\n   * @returns {boolean}\n   */\n  zoom (isZoomingOut, scaleX, touchStartPosition, touchRange) {\n    let range = this.storage.range\n    const maxRange = this.storage.maxRange\n    const minRange = this.storage.minRange\n    if (isZoomingOut) {\n      if (range >= maxRange) {\n        // 无法继续缩小\n        return false\n      }\n    } else {\n      if (range <= minRange) {\n        // 无法继续放大\n        return false\n      }\n    }\n\n    // 计算缩放后的range大小\n    range = +(touchRange / scaleX).toFixed(0)\n\n    range = Math.min(Math.max(range, minRange), maxRange)\n    let minPos = touchStartPosition + touchRange - range\n\n    if (minPos + range > this.storage.dataList.length || minPos < 0) {\n      minPos = 0\n    }\n    this.storage.range = range\n    this.storage.minPos = minPos\n    this.storage.space(this.handler.contentRight() - this.handler.contentLeft())\n    this.candleChart.flush()\n    this.volChart.flush()\n    this.subIndicatorChart.flush()\n    this.xAxisChart.flush()\n    return true\n  }\n\n  /**\n   * 十字光标\n   * @param point\n   */\n  cross (point) {\n    this.storage.crossPoint = { x: point.x, y: point.y }\n    this.storage.calcCurrentTooltipDataPos(this.handler.contentLeft(), point.x)\n    this.tooltipChart.flush()\n  }\n}\n\nexport default Event\n","/**\n * 是否是有效事件\n * @param point\n * @param handler\n * @returns {boolean}\n */\nexport function isValidEvent (point, handler) {\n  return !(point.x < handler.contentLeft() ||\n    point.x > handler.contentRight() ||\n    point.y < handler.contentTop() ||\n    point.y > handler.contentBottom())\n}\n\n/**\n * 获取事件对应画布上的点\n * @param e\n * @param canvasDom\n * @returns {{x: number, y: number}}\n */\nexport function getCanvasPoint (e, canvasDom) {\n  const rect = canvasDom.getBoundingClientRect()\n  const x = Math.round(e.clientX - rect.left)\n  const y = Math.round(e.clientY - rect.top)\n  return { x: x, y: y }\n}\n\n/**\n * 阻止事件\n * @param e\n */\nexport function stopEvent (e) {\n  if (e && e.stopPropagation) {\n    e.stopPropagation()\n  } else {\n    window.event.cancelBubble = true\n  }\n  if (e && e.preventDefault) {\n    e.preventDefault()\n  } else {\n    window.event.returnValue = false\n  }\n}\n\n/**\n * 两点之间的距离\n * @param eventX\n * @param startX\n * @param eventY\n * @param startY\n * @returns {*}\n */\nexport function distance (eventX, startX, eventY, startY) {\n  const dx = eventX - startX\n  const dy = eventY - startY\n  return Math.sqrt(dx * dx + dy * dy)\n}\n\n/**\n * 计算移动距离\n * @param e\n * @param canvasDom\n * @returns {number}\n */\nexport function spacing (e, canvasDom) {\n  if (e.targetTouches.length < 2) {\n    return 0\n  }\n  const point1 = getCanvasPoint(e.targetTouches[0], canvasDom)\n  const point2 = getCanvasPoint(e.targetTouches[1], canvasDom)\n  const x = Math.abs(point1.x - point2.x)\n  const y = Math.abs(point1.y - point2.y)\n  return Math.sqrt(x * x + y * y)\n}\n\n/**\n * 获取两点间x的距离\n * @param e\n * @param canvasDom\n * @returns {number}\n */\nexport function getXDist (e, canvasDom) {\n  const point1 = getCanvasPoint(e.targetTouches[0], canvasDom)\n  const point2 = getCanvasPoint(e.targetTouches[1], canvasDom)\n  return Math.abs(point1.x - point2.x)\n}\n","import Event from './Event'\nimport { isValidEvent, stopEvent, distance, getXDist, spacing, getCanvasPoint } from './eventHelper'\n\n/**\n * 无\n */\nconst TOUCH_NO = 0\n\n/**\n * 拖拽\n */\nconst TOUCH_DRAG = 1\n\n/**\n * 缩放\n */\nconst TOUCH_ZOOM = 2\n\n/**\n *\n */\nconst TOUCH_POST_ZOOM = 3\n\n/**\n * 十字光标\n */\nconst TOUCH_CROSS = 4\n\n/**\n * 十字光标取消\n */\nconst TOUCH_CROSS_CANCEL = 5\n\nclass TouchEvent extends Event {\n  constructor (\n    tooltipChart, candleChart, volChart,\n    subIndicatorChart, xAxisChart, storage\n  ) {\n    super(tooltipChart, candleChart, volChart, subIndicatorChart, xAxisChart, storage)\n    // 事件模型\n    this.touchMode = TOUCH_NO\n    this.touchStartPoint = { x: 0, y: 0 }\n    this.touchMovePoint = { x: 0, y: 0 }\n    this.touchCrossPoint = { x: 0, y: 0 }\n    this.savedDist = 1\n    this.savedXDist = 1\n    this.touchRange = storage.range\n    this.touchStartPosition = storage.minPos\n    this.delayTimeout = null\n    this.delayActiveCross = () => {\n      if (this.touchMode === TOUCH_NO || this.touchMode === TOUCH_CROSS_CANCEL) {\n        if (this.tooltipChart) {\n          this.touchMode = TOUCH_CROSS\n          this.touchCrossPoint = { x: this.touchStartPoint.x, y: this.touchStartPoint.y }\n          this.cross(this.touchCrossPoint)\n        }\n      }\n    }\n  }\n\n  /**\n   * 触摸事件开始\n   * @param e\n   */\n  touchStart (e) {\n    if (this.storage.dataList.length === 0) {\n      return\n    }\n    if (e.targetTouches.length === 1) {\n      const point = getCanvasPoint(e.targetTouches[0], this.tooltipChart.canvasDom)\n      this.touchStartPoint = { x: point.x, y: point.y }\n      this.touchMovePoint = { x: point.x, y: point.y }\n      if (!isValidEvent(this.touchStartPoint, this.handler)) {\n        return\n      }\n      if (this.touchMode === TOUCH_CROSS) {\n        stopEvent(e)\n        const crossRadius = distance(point.x, this.touchCrossPoint.x, point.y, this.touchCrossPoint.y)\n        if (crossRadius < 10) {\n          this.performCross(e)\n        } else {\n          this.touchMode = TOUCH_CROSS_CANCEL\n          this.storage.crossPoint = null\n          this.tooltipChart.flush()\n        }\n      } else {\n        this.touchMode = TOUCH_NO\n      }\n      this.removeDelayActiveCross()\n      this.postDelayDelayActiveCross()\n    } else if (e.targetTouches.length > 1) {\n      if (!isValidEvent(this.touchStartPoint, this.handler)) {\n        return\n      }\n      if (this.touchMode !== TOUCH_CROSS) {\n        stopEvent(e)\n        this.savedDist = spacing(e, this.tooltipChart.canvasDom)\n        this.savedXDist = getXDist(e, this.tooltipChart.canvasDom)\n        if (this.savedDist > 3) {\n          this.touchMode = TOUCH_ZOOM\n        }\n        this.touchRange = this.storage.range\n        this.touchStartPosition = this.storage.minPos\n      }\n    }\n  }\n\n  /**\n   * 触摸事件移动\n   * @param e\n   * @param loadMore\n   */\n  touchMove (e, loadMore) {\n    if (!isValidEvent(this.touchStartPoint, this.handler) || this.storage.dataList.length === 0) {\n      return\n    }\n    if (!this.waitingForMouseMoveAnimationFrame) {\n      this.waitingForMouseMoveAnimationFrame = true\n      switch (this.touchMode) {\n        case TOUCH_ZOOM: {\n          stopEvent(e)\n          this.performZoom(e)\n          break\n        }\n        case TOUCH_DRAG: {\n          stopEvent(e)\n          const point = getCanvasPoint(e.targetTouches[0], this.tooltipChart.canvasDom)\n          this.drag(this.touchMovePoint, point.x, loadMore)\n          break\n        }\n        case TOUCH_CROSS: {\n          stopEvent(e)\n          this.performCross(e)\n          break\n        }\n        case TOUCH_CROSS_CANCEL: {\n          this.removeDelayActiveCross()\n          break\n        }\n        case TOUCH_NO: {\n          const point = getCanvasPoint(e.targetTouches[0], this.tooltipChart.canvasDom)\n          const dis = Math.abs(distance(point.x, this.touchStartPoint.x, point.y, this.touchStartPoint.y))\n          if (dis > 10) {\n            const distanceX = Math.abs(point.x - this.touchStartPoint.x)\n            const distanceY = Math.abs(point.y - this.touchStartPoint.y)\n            if (distanceY <= distanceX) {\n              stopEvent(e)\n              this.storage.crossPoint = null\n              this.touchMode = TOUCH_DRAG\n              this.tooltipChart.flush()\n            }\n          }\n          this.removeDelayActiveCross()\n        }\n      }\n      this.waitingForMouseMoveAnimationFrame = false\n    }\n  }\n\n  /**\n   * 触摸事件结束\n   * @param e\n   */\n  touchEnd (e) {\n    if (!isValidEvent(this.touchStartPoint, this.handler) || this.storage.dataList.length === 0) {\n      return\n    }\n    stopEvent(e)\n    if (e.targetTouches.length > 0) {\n      if (this.touchMode === TOUCH_CROSS) {\n        this.performCross(e)\n      } else {\n        this.touchMode = TOUCH_POST_ZOOM\n      }\n    } else {\n      this.removeDelayActiveCross()\n      // 拿起\n      if (this.touchMode !== TOUCH_CROSS) {\n        if (this.touchMode === TOUCH_NO) {\n          this.touchMode = TOUCH_CROSS\n          this.touchCrossPoint = { ...this.touchStartPoint }\n          this.cross(this.touchCrossPoint)\n        } else {\n          this.touchMode = TOUCH_NO\n          this.storage.crossPoint = null\n          this.tooltipChart.flush()\n        }\n      }\n    }\n  }\n\n  /**\n   * 处理缩放\n   * @param e\n   * @returns {boolean}\n   */\n  performZoom (e) {\n    if (e.targetTouches.length > 1) {\n      const totalDist = spacing(e, this.tooltipChart.canvasDom)\n      if (totalDist > 10) {\n        const xDist = getXDist(e, this.tooltipChart.canvasDom)\n        // x轴方向 scale\n        const scaleX = xDist / this.savedXDist\n\n        // 是否缩小\n        const isZoomingOut = scaleX < 1\n        this.zoom(isZoomingOut, scaleX, this.touchStartPosition, this.touchRange)\n      }\n    }\n  }\n\n  /**\n   * 处理移动光标\n   * @param e\n   * @returns {boolean}\n   */\n  performCross (e) {\n    const point = getCanvasPoint(e.targetTouches[0], this.tooltipChart.canvasDom)\n    this.touchCrossPoint = { x: point.x, y: point.y }\n    this.cross(this.touchCrossPoint)\n  }\n\n  /**\n   * 执行延迟事件\n   */\n  postDelayDelayActiveCross () {\n    this.delayTimeout = setTimeout(this.delayActiveCross, 200)\n  }\n\n  /**\n   * 移除延迟事件\n   */\n  removeDelayActiveCross () {\n    if (this.delayTimeout) {\n      clearTimeout(this.delayTimeout)\n      this.delayTimeout = null\n    }\n  }\n}\nexport default TouchEvent\n","import Event from './Event'\nimport { stopEvent, isValidEvent, getCanvasPoint } from './eventHelper'\n\nconst CROSS = 'cross'\nconst DRAG = 'drag'\n\nclass MouseEvent extends Event {\n  constructor (\n    tooltipChart, candleChart, volChart,\n    subIndicatorChart, xAxisChart,\n    markerChart, storage\n  ) {\n    super(tooltipChart, candleChart, volChart, subIndicatorChart, xAxisChart, storage)\n    this.markerChart = markerChart\n    // 事件模型\n    this.mouseMode = CROSS\n    this.mouseDownPoint = { x: 0, y: 0 }\n    this.documentMouseUp = () => {\n      document.removeEventListener('mouseup', this.documentMouseUp, false)\n      this.mouseMode = CROSS\n      this.storage.isDragGraphicMark = false\n      this.tooltipChart.flush()\n    }\n  }\n\n  /**\n   * 鼠标按下事件\n   * @param e\n   */\n  mouseDown (e) {\n    if (this.storage.dataList.length === 0) {\n      return\n    }\n    if (e.button === 0) {\n      const point = getCanvasPoint(e, this.tooltipChart.canvasDom)\n      if (!isValidEvent(point, this.handler)) {\n        return\n      }\n      document.addEventListener('mouseup', this.documentMouseUp, false)\n      this.mouseDownPoint.x = e.x\n      this.mouseDownPoint.y = e.y\n      this.mouseMode = DRAG\n      this.storage.crossPoint = null\n      this.tooltipChart.flush()\n    }\n  }\n\n  /**\n   * 鼠标抬起时事件\n   * @param e\n   */\n  mouseUp (e) {\n    if (this.storage.dataList.length === 0) {\n      return\n    }\n    stopEvent(e)\n    const point = getCanvasPoint(e, this.tooltipChart.canvasDom)\n    if (!isValidEvent(point, this.handler)) {\n      return\n    }\n    document.removeEventListener('mouseup', this.documentMouseUp, false)\n    this.mouseMode = CROSS\n    this.storage.crossPoint = { x: point.x, y: point.y }\n    this.storage.isDragGraphicMark = false\n    this.tooltipChart.flush()\n  }\n\n  mouseLeave (e) {\n    if (this.storage.dataList.length === 0) {\n      return\n    }\n    stopEvent(e)\n    this.storage.crossPoint = null\n    this.tooltipChart.flush()\n  }\n\n  /**\n   * 鼠标移动时事件\n   * @param e\n   * @param loadMore\n   */\n  mouseMove (e, loadMore) {\n    if (this.storage.dataList.length === 0) {\n      return\n    }\n    stopEvent(e)\n    const point = getCanvasPoint(e, this.tooltipChart.canvasDom)\n    if (!isValidEvent(point, this.handler)) {\n      this.storage.crossPoint = null\n      this.tooltipChart.flush()\n      return\n    }\n    if (!this.waitingForMouseMoveAnimationFrame) {\n      this.waitingForMouseMoveAnimationFrame = true\n      if (this.mouseMode === DRAG) {\n        if (this.storage.isDragGraphicMark) {\n          this.cross(point)\n        } else {\n          if (this.drag(this.mouseDownPoint, e.x, loadMore)) {\n            this.markerChart.flush()\n          }\n        }\n      } else if (this.mouseMode === CROSS) {\n        this.cross(point)\n      }\n      this.waitingForMouseMoveAnimationFrame = false\n    }\n  }\n\n  /**\n   * 鼠标滚轮事件\n   * @param e\n   */\n  mouseWheel (e) {\n    if (this.storage.dataList.length === 0 || this.storage.isDragGraphicMark) {\n      return\n    }\n    stopEvent(e)\n    const point = getCanvasPoint(e, this.tooltipChart.canvasDom)\n    if (!isValidEvent(point, this.handler)) {\n      return\n    }\n    const touchStartPosition = this.storage.minPos\n    const touchRange = this.storage.range\n    const delta = Math.max(-1, Math.min(1, (e.wheelDelta || -e.deltaY)))\n    // 是否缩小\n    const isZoomingOut = delta === 1\n    let scaleX = 1\n    if (isZoomingOut) {\n      scaleX = 0.95\n    } else {\n      scaleX = 1.05\n    }\n    if (this.zoom(isZoomingOut, scaleX, touchStartPosition, touchRange)) {\n      this.cross(point)\n      this.markerChart.flush()\n    }\n  }\n}\n\nexport default MouseEvent\n","import { getCanvasPoint, isValidEvent } from './eventHelper'\nimport {\n  checkPointOnCircle, checkPointOnStraightLine,\n  checkPointOnRayLine, checkPointOnSegmentLine,\n  getParallelLines, getFibonacciLines\n} from '../utils/graphicMark'\nimport { isFunction } from '../utils/data'\nimport { GraphicMarkDrawStep, GraphicMarkType } from '../internal/constants'\n\nclass GraphicMarkEvent {\n  constructor (storage, graphicMarkChart, style) {\n    this.storage = storage\n    this.graphicMarkChart = graphicMarkChart\n    this.handler = graphicMarkChart.handler\n    this.yRender = graphicMarkChart.graphicMarkRender.yRender\n    this.style = style\n    // 标记当没有画线时鼠标是否按下\n    this.noneMarkerMouseDownFlag = false\n\n    // 用来记录当没有绘制标记图形时，鼠标操作后落点线上的数据\n    this.noneMarkerMouseDownActiveData = {\n      markKey: null,\n      dataIndex: -1,\n      onLine: false,\n      onCircle: false,\n      pointIndex: -1\n    }\n  }\n\n  /**\n   * 鼠标抬起事件\n   */\n  mouseUp () {\n    this.noneMarkerMouseDownFlag = false\n    this.noneMarkerMouseDownActiveData = {\n      markKey: null,\n      dataIndex: -1,\n      onLine: false,\n      onCircle: false,\n      pointIndex: -1\n    }\n  }\n\n  /**\n   * 鼠标按下事件\n   * @param e\n   */\n  mouseDown (e) {\n    const point = getCanvasPoint(e, this.graphicMarkChart.canvasDom)\n    this.storage.graphicMarkPoint = { ...point }\n    if (!isValidEvent(point, this.handler)) {\n      return\n    }\n    const graphicMarkType = this.storage.graphicMarkType\n    switch (graphicMarkType) {\n      case GraphicMarkType.HORIZONTAL_STRAIGHT_LINE:\n      case GraphicMarkType.VERTICAL_STRAIGHT_LINE:\n      case GraphicMarkType.STRAIGHT_LINE:\n      case GraphicMarkType.HORIZONTAL_RAY_LINE:\n      case GraphicMarkType.VERTICAL_RAY_LINE:\n      case GraphicMarkType.RAY_LINE:\n      case GraphicMarkType.HORIZONTAL_SEGMENT_LINE:\n      case GraphicMarkType.VERTICAL_SEGMENT_LINE:\n      case GraphicMarkType.SEGMENT_LINE:\n      case GraphicMarkType.PRICE_LINE:\n      case GraphicMarkType.FIBONACCI_LINE: {\n        this.twoStepMarkerMouseDown(e, graphicMarkType)\n        break\n      }\n      case GraphicMarkType.PRICE_CHANNEL_LINE:\n      case GraphicMarkType.PARALLEL_STRAIGHT_LINE: {\n        this.threeStepMarkerMouseDown(e, graphicMarkType)\n        break\n      }\n      case GraphicMarkType.NONE: {\n        this.noneMarkerMouseDown(e)\n        break\n      }\n    }\n  }\n\n  /**\n   * 两步形成的标记图形鼠标按下处理\n   * @param e\n   * @param markKey\n   */\n  twoStepMarkerMouseDown (e, markKey) {\n    this.markerMouseDown(e, markKey, (lastLineData) => {\n      switch (lastLineData.drawStep) {\n        case GraphicMarkDrawStep.STEP_1: {\n          lastLineData.drawStep = GraphicMarkDrawStep.STEP_2\n          break\n        }\n        case GraphicMarkDrawStep.STEP_2: {\n          lastLineData.drawStep = GraphicMarkDrawStep.STEP_DONE\n          this.storage.graphicMarkType = GraphicMarkType.NONE\n          break\n        }\n      }\n    })\n  }\n\n  /**\n   * 两个点形成的标记图形鼠标按下事件\n   * @param e\n   * @param markKey\n   */\n  threeStepMarkerMouseDown (e, markKey) {\n    this.markerMouseDown(e, markKey, (lastLineData) => {\n      switch (lastLineData.drawStep) {\n        case GraphicMarkDrawStep.STEP_1: {\n          lastLineData.drawStep = GraphicMarkDrawStep.STEP_2\n          break\n        }\n        case GraphicMarkDrawStep.STEP_2: {\n          lastLineData.drawStep = GraphicMarkDrawStep.STEP_3\n          break\n        }\n        case GraphicMarkDrawStep.STEP_3: {\n          lastLineData.drawStep = GraphicMarkDrawStep.STEP_DONE\n          this.storage.graphicMarkType = GraphicMarkType.NONE\n          break\n        }\n      }\n    })\n  }\n\n  /**\n   * 绘制标记图形时鼠标按下事件\n   * @param e\n   * @param markKey\n   * @param performDifPoint\n   */\n  markerMouseDown (e, markKey, performDifPoint) {\n    const graphicMarkData = this.storage.graphicMarkDatas[markKey]\n    if (e.button === 2) {\n      graphicMarkData.splice(graphicMarkData.length - 1, 1)\n      this.storage.graphicMarkType = GraphicMarkType.NONE\n    } else {\n      const lastLineData = graphicMarkData[graphicMarkData.length - 1]\n      performDifPoint(lastLineData)\n      graphicMarkData[graphicMarkData.length - 1] = lastLineData\n    }\n    this.storage.graphicMarkDatas[markKey] = graphicMarkData\n    this.graphicMarkChart.flush()\n  }\n\n  /**\n   * 没有绘制时鼠标按下事件\n   */\n  noneMarkerMouseDown (e) {\n    this.findNoneMarkerMouseDownActiveData(e)\n    const markKey = this.noneMarkerMouseDownActiveData.markKey\n    const dataIndex = this.noneMarkerMouseDownActiveData.dataIndex\n    if (markKey && dataIndex !== -1) {\n      if (e.button === 2) {\n        // 鼠标右键\n        const graphicMarkData = this.storage.graphicMarkDatas[markKey]\n        graphicMarkData.splice(dataIndex, 1)\n        this.storage.graphicMarkDatas[markKey] = graphicMarkData\n        this.graphicMarkChart.flush()\n      } else {\n        if (this.noneMarkerMouseDownActiveData.onCircle) {\n          this.noneMarkerMouseDownFlag = true\n          this.storage.isDragGraphicMark = true\n        }\n      }\n    }\n  }\n\n  /**\n   * 查找没有绘制时鼠标按下时在哪条数据上\n   * @param e\n   */\n  findNoneMarkerMouseDownActiveData (e) {\n    const point = getCanvasPoint(e, this.graphicMarkChart.canvasDom)\n    const keys = Object.keys(this.storage.graphicMarkDatas)\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      switch (key) {\n        case GraphicMarkType.HORIZONTAL_STRAIGHT_LINE:\n        case GraphicMarkType.PRICE_LINE: {\n          if (this.realFindNoneMarkerMouseDownActiveData(key, point, (xyPoints) => {\n            return checkPointOnStraightLine(\n              xyPoints[0], { x: this.handler.contentRight(), y: xyPoints[0].y }, point\n            )\n          })) {\n            return\n          }\n          break\n        }\n        case GraphicMarkType.VERTICAL_STRAIGHT_LINE: {\n          if (this.realFindNoneMarkerMouseDownActiveData(key, point, (xyPoints) => {\n            return checkPointOnStraightLine(\n              xyPoints[0], { x: xyPoints[0].x, y: this.handler.contentBottom() }, point\n            )\n          })) {\n            return\n          }\n          break\n        }\n        case GraphicMarkType.STRAIGHT_LINE: {\n          if (this.realFindNoneMarkerMouseDownActiveData(key, point, (xyPoints) => {\n            return checkPointOnStraightLine(xyPoints[0], xyPoints[1], point)\n          })) {\n            return\n          }\n          break\n        }\n        case GraphicMarkType.HORIZONTAL_RAY_LINE:\n        case GraphicMarkType.VERTICAL_RAY_LINE:\n        case GraphicMarkType.RAY_LINE: {\n          if (this.realFindNoneMarkerMouseDownActiveData(key, point, (xyPoints) => {\n            return checkPointOnRayLine(xyPoints[0], xyPoints[1], point)\n          })) {\n            return\n          }\n          break\n        }\n        case GraphicMarkType.HORIZONTAL_SEGMENT_LINE:\n        case GraphicMarkType.VERTICAL_SEGMENT_LINE:\n        case GraphicMarkType.SEGMENT_LINE: {\n          if (this.realFindNoneMarkerMouseDownActiveData(key, point, (xyPoints) => {\n            return checkPointOnSegmentLine(xyPoints[0], xyPoints[1], point)\n          })) {\n            return\n          }\n          break\n        }\n        case GraphicMarkType.PRICE_CHANNEL_LINE:\n        case GraphicMarkType.PARALLEL_STRAIGHT_LINE:\n        case GraphicMarkType.FIBONACCI_LINE: {\n          if (this.realFindNoneMarkerMouseDownActiveData(key, point, (xyPoints) => {\n            let linePoints = []\n            switch (key) {\n              case GraphicMarkType.PRICE_CHANNEL_LINE: {\n                linePoints = getParallelLines(xyPoints, this.handler, true)\n                break\n              }\n              case GraphicMarkType.PARALLEL_STRAIGHT_LINE: {\n                linePoints = getParallelLines(xyPoints, this.handler)\n                break\n              }\n              case GraphicMarkType.FIBONACCI_LINE: {\n                linePoints = getFibonacciLines(xyPoints, this.handler)\n                break\n              }\n            }\n            let isOnMarker = false\n            for (let i = 0; i < linePoints.length; i++) {\n              const points = linePoints[i]\n              isOnMarker = checkPointOnStraightLine(points[0], points[1], point)\n              if (isOnMarker) {\n                return isOnMarker\n              }\n            }\n            return isOnMarker\n          })) {\n            return\n          }\n          break\n        }\n      }\n    }\n  }\n\n  /**\n   * 查找没有绘制图时鼠标按下时落点在哪条数据上\n   * @param markKey\n   * @param point\n   * @param checkPointOnLine\n   * @returns {boolean}\n   */\n  realFindNoneMarkerMouseDownActiveData (markKey, point, checkPointOnLine) {\n    const graphicMarkData = this.storage.graphicMarkDatas[markKey]\n    graphicMarkData.forEach((data, index) => {\n      const points = data.points\n      const xyPoints = []\n      let isOnCircle = false\n      let pointIndex = -1\n      points.forEach((p, i) => {\n        const x = (p.xPos - this.storage.minPos) * this.storage.dataSpace\n        const y = this.yRender.getY(p.price)\n        xyPoints.push({ x, y })\n        const isOn = checkPointOnCircle({ x, y }, this.style.marker.point.radius, point)\n        if (isOn) {\n          pointIndex = i\n        }\n        if (!isOnCircle) {\n          isOnCircle = isOn\n        }\n      })\n      const isOnLine = checkPointOnLine(xyPoints, point)\n      if (isOnLine || isOnCircle) {\n        this.noneMarkerMouseDownActiveData = {\n          markKey: markKey,\n          dataIndex: index,\n          onLine: isOnLine,\n          onCircle: isOnCircle,\n          pointIndex\n        }\n        return true\n      }\n    })\n    return false\n  }\n\n  /**\n   * 鼠标移动事件\n   */\n  mouseMove (e) {\n    const point = getCanvasPoint(e, this.graphicMarkChart.canvasDom)\n    this.storage.graphicMarkPoint = { ...point }\n    if (!isValidEvent(point, this.handler)) {\n      return\n    }\n    if (!this.waitingForMouseMoveAnimationFrame) {\n      this.waitingForMouseMoveAnimationFrame = true\n      const graphicMarkType = this.storage.graphicMarkType\n      switch (graphicMarkType) {\n        case GraphicMarkType.HORIZONTAL_STRAIGHT_LINE:\n        case GraphicMarkType.VERTICAL_STRAIGHT_LINE:\n        case GraphicMarkType.PRICE_LINE: {\n          this.onePointMarkerMouseMove(point, graphicMarkType)\n          break\n        }\n        case GraphicMarkType.STRAIGHT_LINE:\n        case GraphicMarkType.RAY_LINE:\n        case GraphicMarkType.SEGMENT_LINE:\n        case GraphicMarkType.FIBONACCI_LINE: {\n          this.twoPointMarkerMouseMove(point, graphicMarkType)\n          break\n        }\n        case GraphicMarkType.HORIZONTAL_RAY_LINE:\n        case GraphicMarkType.HORIZONTAL_SEGMENT_LINE: {\n          this.twoPointMarkerMouseMove(point, graphicMarkType, (lastLineData, { price }) => {\n            lastLineData.points[0].price = price\n          })\n          break\n        }\n        case GraphicMarkType.VERTICAL_RAY_LINE:\n        case GraphicMarkType.VERTICAL_SEGMENT_LINE: {\n          this.twoPointMarkerMouseMove(point, graphicMarkType, (lastLineData, { xPos }) => {\n            lastLineData.points[0].xPos = xPos\n          })\n          break\n        }\n        case GraphicMarkType.PRICE_CHANNEL_LINE:\n        case GraphicMarkType.PARALLEL_STRAIGHT_LINE: {\n          this.threePointMarkerMouseMove(point, graphicMarkType)\n          break\n        }\n        case GraphicMarkType.NONE: {\n          this.noneMarkerMouseMove(point)\n          break\n        }\n      }\n      this.waitingForMouseMoveAnimationFrame = false\n    }\n  }\n\n  /**\n   * 一个点形成的图形鼠标移动事件\n   * @param point\n   * @param markKey\n   */\n  onePointMarkerMouseMove (point, markKey) {\n    this.markerMouseMove(point, markKey, (graphicMarkData, lastLineData) => {\n      const xPos = this.storage.minPos + (point.x - this.handler.contentLeft()) / this.storage.dataSpace\n      const price = this.yRender.getValue(point.y)\n      switch (lastLineData.drawStep) {\n        case GraphicMarkDrawStep.STEP_DONE: {\n          graphicMarkData.push({ points: [{ xPos, price }], drawStep: GraphicMarkDrawStep.STEP_1 })\n          break\n        }\n        case GraphicMarkDrawStep.STEP_1:\n        case GraphicMarkDrawStep.STEP_2: {\n          lastLineData.points[0].xPos = xPos\n          lastLineData.points[0].price = price\n          graphicMarkData[graphicMarkData.length - 1] = lastLineData\n          break\n        }\n      }\n    })\n  }\n\n  /**\n   * 两个点形成的线鼠标移动事件\n   * @param point\n   * @param markKey\n   * @param stepTwo\n   */\n  twoPointMarkerMouseMove (point, markKey, stepTwo) {\n    this.markerMouseMove(point, markKey, (graphicMarkData, lastLineData) => {\n      const xPos = this.storage.minPos + (point.x - this.handler.contentLeft()) / this.storage.dataSpace\n      const price = this.yRender.getValue(point.y)\n      switch (lastLineData.drawStep) {\n        case GraphicMarkDrawStep.STEP_DONE: {\n          graphicMarkData.push({ points: [{ xPos, price }, { xPos, price }], drawStep: GraphicMarkDrawStep.STEP_1 })\n          break\n        }\n        case GraphicMarkDrawStep.STEP_1: {\n          lastLineData.points[0] = { xPos, price }\n          lastLineData.points[1] = { xPos, price }\n          graphicMarkData[graphicMarkData.length - 1] = lastLineData\n          break\n        }\n        case GraphicMarkDrawStep.STEP_2: {\n          lastLineData.points[1] = { xPos, price }\n          if (isFunction(stepTwo)) {\n            stepTwo(lastLineData, { xPos, price })\n          }\n          graphicMarkData[graphicMarkData.length - 1] = lastLineData\n          break\n        }\n      }\n    })\n  }\n\n  /**\n   * 三步形成的标记图形鼠标移动事件\n   * @param point\n   * @param markKey\n   * @param stepTwo\n   */\n  threePointMarkerMouseMove (point, markKey, stepTwo) {\n    this.markerMouseMove(point, markKey, (graphicMarkData, lastLineData) => {\n      const xPos = this.storage.minPos + (point.x - this.handler.contentLeft()) / this.storage.dataSpace\n      const price = this.yRender.getValue(point.y)\n      switch (lastLineData.drawStep) {\n        case GraphicMarkDrawStep.STEP_DONE: {\n          graphicMarkData.push({ points: [{ xPos, price }, { xPos, price }], drawStep: GraphicMarkDrawStep.STEP_1 })\n          break\n        }\n        case GraphicMarkDrawStep.STEP_1: {\n          lastLineData.points[0] = { xPos, price }\n          lastLineData.points[1] = { xPos, price }\n          graphicMarkData[graphicMarkData.length - 1] = lastLineData\n          break\n        }\n        case GraphicMarkDrawStep.STEP_2: {\n          if (isFunction(stepTwo)) {\n            stepTwo(lastLineData, { xPos, price })\n          }\n          lastLineData.points[1] = { xPos, price }\n          graphicMarkData[graphicMarkData.length - 1] = lastLineData\n          break\n        }\n        case GraphicMarkDrawStep.STEP_3: {\n          lastLineData.points[2] = { xPos, price }\n          graphicMarkData[graphicMarkData.length - 1] = lastLineData\n          break\n        }\n      }\n    })\n  }\n\n  /**\n   * 绘制标记图形时鼠标移动事件\n   * @param point\n   * @param markKey\n   * @param performDifPoint\n   */\n  markerMouseMove (point, markKey, performDifPoint) {\n    const graphicMarkData = this.storage.graphicMarkDatas[markKey]\n    const lastLineData = graphicMarkData[graphicMarkData.length - 1] || { drawStep: GraphicMarkDrawStep.STEP_DONE }\n    performDifPoint(graphicMarkData, lastLineData)\n    this.storage.graphicMarkDatas[markKey] = graphicMarkData\n    this.graphicMarkChart.flush()\n  }\n\n  /**\n   * 没有绘制标记时鼠标移动事件\n   * @param point\n   */\n  noneMarkerMouseMove (point) {\n    if (this.noneMarkerMouseDownFlag) {\n      const markKey = this.noneMarkerMouseDownActiveData.markKey\n      const dataIndex = this.noneMarkerMouseDownActiveData.dataIndex\n      if (markKey && dataIndex !== -1) {\n        const graphicMarkData = this.storage.graphicMarkDatas[markKey]\n        switch (markKey) {\n          case GraphicMarkType.HORIZONTAL_STRAIGHT_LINE:\n          case GraphicMarkType.VERTICAL_STRAIGHT_LINE:\n          case GraphicMarkType.PRICE_LINE:\n          case GraphicMarkType.STRAIGHT_LINE:\n          case GraphicMarkType.RAY_LINE:\n          case GraphicMarkType.SEGMENT_LINE:\n          case GraphicMarkType.PRICE_CHANNEL_LINE:\n          case GraphicMarkType.PARALLEL_STRAIGHT_LINE:\n          case GraphicMarkType.FIBONACCI_LINE: {\n            const pointIndex = this.noneMarkerMouseDownActiveData.pointIndex\n            if (pointIndex !== -1) {\n              graphicMarkData[dataIndex].points[pointIndex].xPos = (point.x - this.handler.contentLeft()) / this.storage.dataSpace + this.storage.minPos\n              graphicMarkData[dataIndex].points[pointIndex].price = this.yRender.getValue(point.y)\n            }\n            break\n          }\n          case GraphicMarkType.HORIZONTAL_RAY_LINE:\n          case GraphicMarkType.HORIZONTAL_SEGMENT_LINE: {\n            const pointIndex = this.noneMarkerMouseDownActiveData.pointIndex\n            if (pointIndex !== -1) {\n              const price = this.yRender.getValue(point.y)\n              graphicMarkData[dataIndex].points[pointIndex].xPos = (point.x - this.handler.contentLeft()) / this.storage.dataSpace + this.storage.minPos\n              graphicMarkData[dataIndex].points[0].price = price\n              graphicMarkData[dataIndex].points[1].price = price\n            }\n            break\n          }\n          case GraphicMarkType.VERTICAL_RAY_LINE:\n          case GraphicMarkType.VERTICAL_SEGMENT_LINE: {\n            const pointIndex = this.noneMarkerMouseDownActiveData.pointIndex\n            if (pointIndex !== -1) {\n              const xPos = (point.x - this.handler.contentLeft()) / this.storage.dataSpace + this.storage.minPos\n              graphicMarkData[dataIndex].points[0].xPos = xPos\n              graphicMarkData[dataIndex].points[1].xPos = xPos\n              graphicMarkData[dataIndex].points[pointIndex].price = this.yRender.getValue(point.y)\n            }\n            break\n          }\n        }\n        this.storage.graphicMarkDatas[markKey] = graphicMarkData\n      }\n    }\n    this.graphicMarkChart.flush()\n  }\n}\n\nexport default GraphicMarkEvent\n","import Event from './Event'\nimport { stopEvent } from './eventHelper'\n\nclass KeyboardEvent extends Event {\n  constructor (\n    candleChart, volChart, subIndicatorChart,\n    tooltipChart, markerChart, xAxisChart, storage\n  ) {\n    super(tooltipChart, candleChart, volChart, subIndicatorChart, xAxisChart, storage)\n    this.markerChart = markerChart\n  }\n\n  /**\n   * 按键按下事件\n   * @param e\n   * @param loadMore\n   */\n  keyDown (e, loadMore) {\n    stopEvent(e)\n    if (e.keyCode === 37 || e.keyCode === 39) {\n      let shouldFlush = false\n      if (e.keyCode === 37) {\n        // 左移\n        if (this.storage.minPos > 0) {\n          this.storage.minPos--\n          this.storage.tooltipDataPos--\n          shouldFlush = true\n        }\n      } else {\n        // 右移\n        if (this.storage.minPos < this.storage.dataList.length - this.storage.range) {\n          this.storage.minPos++\n          this.storage.tooltipDataPos++\n          shouldFlush = true\n        }\n      }\n      if (shouldFlush) {\n        this.candleChart.flush()\n        this.volChart.flush()\n        this.subIndicatorChart.flush()\n        this.xAxisChart.flush()\n        this.markerChart.flush()\n        if (this.storage.crossPoint) {\n          this.tooltipChart.flush()\n        }\n        if (this.storage.minPos === 0) {\n          loadMore()\n        }\n      }\n    } else if (e.keyCode === 38 || e.keyCode === 40) {\n      let isZoomingOut = true\n      let scaleX = 0.95\n      if (e.keyCode === 38) {\n        // 放大\n        isZoomingOut = false\n        scaleX = 1.05\n      }\n      if (this.zoom(isZoomingOut, scaleX, this.storage.minPos, this.storage.range)) {\n        if (this.storage.crossPoint) {\n          this.cross(this.storage.crossPoint)\n        }\n        this.markerChart.flush()\n      }\n    }\n  }\n}\n\nexport default KeyboardEvent\n","export const DEV = process.env.NODE_ENV === 'development'\n","import CandleChart from './CandleChart'\nimport GraphicMarkChart from './GraphicMarkChart'\nimport IndicatorChart from './IndicatorChart'\nimport TooltipChart from './TooltipChart'\nimport XAxisChart from './XAxisChart'\nimport { isArray, isFunction, isNumber, isBoolean, merge, formatValue, isObject } from '../utils/data'\nimport { formatDate } from '../utils/date'\nimport { calcTextWidth, requestAnimationFrame } from '../utils/draw'\nimport calcIndicator from '../internal/calcIndicator'\n\nimport Storage from '../internal/Storage'\n\nimport { getDefaultStyle, getDefaultIndicatorParams, getDefaultPrecision, getDefaultPeriod } from '../internal/config'\nimport { isMobile } from '../utils/platform'\nimport TouchEvent from '../event/TouchEvent'\nimport MouseEvent from '../event/MouseEvent'\nimport GraphicMarkEvent from '../event/GraphicMarkEvent'\nimport KeyboardEvent from '../event/KeyboardEvent'\n\nimport { IndicatorType, YAxisPosition, YAxisTextPosition, GraphicMarkType, ChartType } from '../internal/constants'\n\nimport { DEV } from '../utils/env'\n\nclass RootChart {\n  constructor (dom, s = {}) {\n    // 是否没有更多\n    this.noMore = true\n    this.style = getDefaultStyle()\n    merge(this.style, s)\n    this.indicatorParams = getDefaultIndicatorParams()\n    this.precision = getDefaultPrecision()\n    this.period = getDefaultPeriod()\n    dom.style.position = 'relative'\n    dom.style.outline = 'none'\n    dom.style.borderStyle = 'none'\n    dom.tabIndex = 1\n    this.dom = dom\n    this.storage = new Storage()\n    this.xAxisChart = new XAxisChart(dom, this.style, this.storage, this.period)\n    this.candleChart = new CandleChart(dom, this.style, this.storage, this.indicatorParams, this.precision)\n    this.graphicMarkChart = new GraphicMarkChart(dom, this.style, this.storage, this.candleChart.yAxisRender, this.precision)\n    this.volIndicatorChart = new IndicatorChart(dom, this.style, this.storage, this.indicatorParams, IndicatorType.VOL)\n    this.subIndicatorChart = new IndicatorChart(dom, this.style, this.storage, this.indicatorParams)\n    this.tooltipChart = new TooltipChart(\n      dom, this.style,\n      this.candleChart, this.volIndicatorChart, this.subIndicatorChart,\n      this.xAxisChart, this.storage, this.indicatorParams, this.precision\n    )\n    this.calcChartDimensions()\n    this.initEvent()\n  }\n\n  /**\n   * 初始化事件\n   */\n  initEvent () {\n    const mobile = isMobile(window.navigator.userAgent)\n    this.dom.addEventListener('contextmenu', (e) => { e.preventDefault() }, false)\n    const loadMore = () => {\n      // 有更多并且没有在加载则去加载更多\n      if (!this.noMore && !this.loading && this.loadMoreCallback && isFunction(this.loadMoreCallback)) {\n        this.loading = true\n        this.loadMoreCallback((this.storage.dataList[0] || {}).timestamp)\n      }\n    }\n    if (mobile) {\n      const motionEvent = new TouchEvent(\n        this.tooltipChart, this.candleChart,\n        this.volIndicatorChart, this.subIndicatorChart,\n        this.xAxisChart, this.storage\n      )\n      this.dom.addEventListener('touchstart', (e) => { motionEvent.touchStart(e) }, false)\n      this.dom.addEventListener('touchmove', (e) => {\n        motionEvent.touchMove(e, loadMore)\n      }, false)\n      this.dom.addEventListener('touchend', (e) => { motionEvent.touchEnd(e) }, false)\n    } else {\n      const motionEvent = new MouseEvent(\n        this.tooltipChart, this.candleChart,\n        this.volIndicatorChart, this.subIndicatorChart,\n        this.xAxisChart, this.graphicMarkChart, this.storage\n      )\n      const graphicMarkEvent = new GraphicMarkEvent(this.storage, this.graphicMarkChart, this.style)\n      const keyboardEvent = new KeyboardEvent(\n        this.candleChart, this.volIndicatorChart, this.subIndicatorChart,\n        this.tooltipChart, this.graphicMarkChart, this.xAxisChart, this.storage\n      )\n      this.dom.addEventListener('mousedown', (e) => {\n        motionEvent.mouseDown(e)\n        graphicMarkEvent.mouseDown(e)\n      }, false)\n      this.dom.addEventListener('mouseup', (e) => {\n        motionEvent.mouseUp(e)\n        graphicMarkEvent.mouseUp(e)\n      }, false)\n      this.dom.addEventListener('mousemove', (e) => {\n        motionEvent.mouseMove(e, loadMore)\n        graphicMarkEvent.mouseMove(e)\n      }, false)\n      this.dom.addEventListener('mouseleave', (e) => { motionEvent.mouseLeave(e) }, false)\n      this.dom.addEventListener('wheel', (e) => { motionEvent.mouseWheel(e) }, false)\n      this.dom.addEventListener('keydown', (e) => {\n        keyboardEvent.keyDown(e, loadMore)\n      }, false)\n    }\n  }\n\n  /**\n   * 刷新图\n   * @param charts\n   */\n  flushCharts (charts = []) {\n    for (const chart of charts) {\n      chart.flush()\n    }\n  }\n\n  /**\n   * 计算图的尺寸\n   */\n  calcChartDimensions () {\n    const xAxisHeight = this.calcXAxisHeight()\n    const yAxisWidth = this.calcYAxisWidth()\n    const domWidth = this.dom.offsetWidth\n    const domHeight = this.dom.offsetHeight\n    this.domWidth = domWidth\n    this.domHeight = domHeight\n    const contentHeight = domHeight - xAxisHeight\n    let chartTop = 0\n    let volChartHeight = 0\n    let subIndicatorChartHeight = 0\n    const isShowVolIndicator = this.volIndicatorChart.indicatorType !== IndicatorType.NO\n    const isShowSubIndicator = this.subIndicatorChart.indicatorType !== IndicatorType.NO\n    if (isShowVolIndicator && isShowSubIndicator) {\n      const height = +((contentHeight * 0.18).toFixed(0))\n      volChartHeight = height\n      subIndicatorChartHeight = height\n    } else if ((!isShowVolIndicator && isShowSubIndicator) || (isShowVolIndicator && !isShowSubIndicator)) {\n      const height = +((contentHeight * 0.26).toFixed(0))\n      if (isShowVolIndicator) {\n        volChartHeight = height\n      } else {\n        subIndicatorChartHeight = height\n      }\n    }\n    let offsetLeft = 0\n    let offsetRight = 0\n    if (this.style.yAxis.position === YAxisPosition.LEFT) {\n      offsetLeft = yAxisWidth\n    } else {\n      offsetRight = yAxisWidth\n    }\n    this.storage.space(domWidth - offsetRight - offsetLeft)\n    this.xAxisChart.setChartDimensions(0, domWidth, domHeight, offsetLeft, offsetRight, 0, xAxisHeight)\n    const candleChartHeight = contentHeight - volChartHeight - subIndicatorChartHeight\n    this.candleChart.setChartDimensions(chartTop, domWidth, candleChartHeight, offsetLeft, offsetRight)\n    this.graphicMarkChart.setChartDimensions(chartTop, domWidth, candleChartHeight, offsetLeft, offsetRight)\n    chartTop += candleChartHeight\n    this.volIndicatorChart.setChartDimensions(chartTop, domWidth, volChartHeight, offsetLeft, offsetRight)\n    chartTop += volChartHeight\n    this.subIndicatorChart.setChartDimensions(chartTop, domWidth, subIndicatorChartHeight, offsetLeft, offsetRight)\n    this.tooltipChart.setChartDimensions(0, domWidth, domHeight, offsetLeft, offsetRight, 0, xAxisHeight)\n  }\n\n  /**\n   * 计算x轴高度\n   */\n  calcXAxisHeight () {\n    const xAxis = this.style.xAxis\n    const tickText = xAxis.tick.text\n    const tickLine = xAxis.tick.line\n    let height = tickText.size + tickText.margin\n    if (xAxis.display && tickLine.display) {\n      height += tickLine.length\n    }\n    if (xAxis.display && xAxis.line.display) {\n      height += xAxis.line.size\n    }\n    height = Math.max(xAxis.minHeight, Math.min(height, xAxis.maxHeight))\n    return (+Math.ceil(Number(height)).toFixed(0))\n  }\n\n  /**\n   * 计算y轴宽度\n   */\n  calcYAxisWidth () {\n    const yAxis = this.style.yAxis\n    const tickText = yAxis.tick.text\n    const tickLine = yAxis.tick.line\n    const needsOffset = (((tickText.display || tickLine.display || tickText.margin > 0) && tickText.position === YAxisTextPosition.OUTSIDE) || yAxis.line.display) && yAxis.display\n    if (needsOffset) {\n      let width = 0\n      if (tickText.position === YAxisTextPosition.OUTSIDE) {\n        width += calcTextWidth(tickText.size, '0000000') + tickText.margin\n        if (yAxis.display && tickLine.display) {\n          width += tickLine.length\n        }\n      }\n      const axisLineSize = yAxis.line.size\n      if (yAxis.display && yAxis.line.display) {\n        width += axisLineSize\n      }\n      if (width > axisLineSize) {\n        width = Math.max(yAxis.minWidth, Math.min(width, yAxis.maxWidth))\n      }\n      return Math.ceil(width)\n    }\n    return 0\n  }\n\n  /**\n   * 计算图表指标\n   */\n  calcChartIndicator () {\n    if (this.candleChart.chartType === ChartType.REAL_TIME) {\n      if (this.style.realTime.averageLine.display) {\n        this.storage.dataList = calcIndicator.average(this.storage.dataList)\n        this.flushCharts([this.candleChart])\n      }\n    } else {\n      if (this.candleChart.indicatorType !== IndicatorType.NO) {\n        this.calcIndicator(this.candleChart.indicatorType, this.candleChart)\n      } else {\n        this.flushCharts([this.candleChart])\n      }\n    }\n    if (this.volIndicatorChart.indicatorType !== IndicatorType.NO) {\n      this.calcIndicator(IndicatorType.VOL, this.volIndicatorChart)\n    }\n    if (this.subIndicatorChart.indicatorType !== IndicatorType.NO) {\n      this.calcIndicator(this.subIndicatorChart.indicatorType, this.subIndicatorChart)\n    }\n  }\n\n  /**\n   * 计算指标\n   * @param indicatorType\n   * @param chart\n   */\n  calcIndicator (indicatorType, chart) {\n    Promise.resolve().then(() => {\n      const calc = calcIndicator[indicatorType]\n      if (isFunction(calc)) {\n        this.storage.dataList = calc(this.storage.dataList, this.indicatorParams[indicatorType])\n        this.flushCharts([chart, this.tooltipChart])\n      }\n    })\n  }\n\n  /**\n   * 调整尺寸\n   */\n  resize () {\n    if (this.domWidth !== this.dom.offsetWidth || this.domHeight !== this.dom.offsetHeight) {\n      requestAnimationFrame(() => {\n        this.calcChartDimensions()\n      })\n    }\n  }\n\n  /**\n   * 添加数据集合\n   * @param data\n   * @param noMore\n   */\n  addData (data, noMore) {\n    if (isBoolean(noMore)) {\n      this.noMore = noMore\n    }\n    if (isObject(data)) {\n      const dataList = this.getDataList()\n      const dataSize = dataList.length\n      let pos = -1\n      if (isArray(data)) {\n        if (dataSize > 0) {\n          // 当数据是数组，且有历史数据时则判断是在加载更多的数据请求来的，将loading重置为未加载状态\n          this.loading = false\n        }\n        pos = 0\n      } else {\n        // 这里判断单个数据应该添加到哪个位置\n        const timestamp = +formatValue(data, 'timestamp', 0)\n        const lastDataTimestamp = +formatValue(dataList[dataSize - 1], 'timestamp', 0)\n        const periodValue = this.period.period\n        const periodType = periodValue.replace(/[1-9]/, '').toUpperCase()\n        const periodNumber = +((periodValue.replace(/[DWMY]/i, '')) || 1)\n        const timeDiff = Math.abs(timestamp - lastDataTimestamp)\n        switch (periodType) {\n          case 'D': {\n            if (timeDiff < periodNumber * 24 * 3600 * 1000) {\n              pos = dataSize - 1\n            } else if (timestamp > lastDataTimestamp) {\n              pos = dataSize\n            }\n            break\n          }\n          case 'W': {\n            if (timeDiff < periodNumber * 7 * 24 * 3600 * 1000) {\n              pos = dataSize - 1\n            } else if (timestamp > lastDataTimestamp) {\n              pos = dataSize\n            }\n            break\n          }\n          case 'M': {\n            const lastDataYear = +formatDate(lastDataTimestamp, 'YYYY')\n            const lastDataMonth = +formatDate(lastDataTimestamp, 'MM')\n            const year = +formatDate(timestamp, 'YYYY')\n            const month = +formatDate(timestamp, 'MM')\n            const monthDiff = Math.abs((year - lastDataYear) * 12 + month - lastDataMonth)\n            if (month === lastDataMonth) {\n              pos = dataSize - 1\n            } else if (monthDiff >= periodNumber) {\n              pos = dataSize\n            }\n            break\n          }\n          case 'Y': {\n            const lastDataYear = +formatDate(lastDataTimestamp, 'YYYY')\n            const year = +formatDate(timestamp, 'YYYY')\n            const yearDiff = Math.abs(year - lastDataYear)\n            if (year === lastDataYear) {\n              pos = dataSize - 1\n            } else if (yearDiff >= periodNumber) {\n              pos = dataSize\n            }\n            break\n          }\n          default: {\n            if (timeDiff < periodNumber * 60 * 1000) {\n              pos = dataSize - 1\n            } else if (timestamp > lastDataTimestamp) {\n              pos = dataSize\n            }\n            break\n          }\n        }\n        if (pos === dataSize - 1) {\n          data.timestamp = lastDataTimestamp\n        } else {\n          data.timestamp = Math.floor(timestamp / 60 / 1000) * 60 * 1000\n        }\n      }\n      if (pos !== -1) {\n        this.storage.addData(data, pos)\n        this.calcChartIndicator()\n        this.xAxisChart.flush()\n      }\n    }\n  }\n\n  /**\n   * 设置样式\n   * @param s\n   */\n  setStyle (s = {}) {\n    merge(this.style, s)\n    this.calcChartDimensions()\n  }\n\n  /**\n   * 设置主图类型\n   * @param chartType\n   */\n  setMainChartType (chartType) {\n    if (this.candleChart.chartType !== chartType) {\n      this.candleChart.chartType = chartType\n      if (chartType === ChartType.REAL_TIME && this.style.realTime.averageLine.display) {\n        this.storage.dataList = calcIndicator.average(this.storage.dataList)\n      }\n      this.flushCharts([this.candleChart, this.tooltipChart])\n      this.clearAllMarker()\n      if (this.period.period !== '1') {\n        this.clearData()\n      }\n    }\n  }\n\n  /**\n   * 设置主图指标\n   * @param indicatorType\n   */\n  setMainIndicatorType (indicatorType) {\n    if (this.candleChart.indicatorType !== indicatorType) {\n      this.candleChart.indicatorType = indicatorType\n      if (indicatorType === IndicatorType.NO) {\n        this.flushCharts([this.candleChart])\n      } else {\n        this.calcIndicator(indicatorType, this.candleChart)\n      }\n    }\n  }\n\n  /**\n   * 设置副图指标\n   * @param indicatorType\n   */\n  setSubIndicatorType (indicatorType) {\n    if (this.subIndicatorChart.indicatorType !== indicatorType) {\n      const shouldCalcChartHeight = indicatorType === IndicatorType.NO || this.subIndicatorChart.indicatorType === IndicatorType.NO\n      this.subIndicatorChart.indicatorType = indicatorType\n      if (shouldCalcChartHeight) {\n        this.calcChartDimensions()\n      }\n      if (indicatorType !== IndicatorType.NO) {\n        this.calcIndicator(indicatorType, this.subIndicatorChart)\n      }\n    }\n  }\n\n  /**\n   * 设置指标参数\n   * @param indicatorType\n   * @param params\n   */\n  setIndicatorParams (indicatorType, params) {\n    if (!this.indicatorParams.hasOwnProperty(indicatorType) ||\n      (indicatorType !== IndicatorType.MA &&\n      indicatorType !== IndicatorType.VOL &&\n      params.length !== this.indicatorParams[indicatorType].length)) {\n      return\n    }\n    this.indicatorParams[indicatorType] = params\n    if (this.getMainIndicatorType() === indicatorType) {\n      this.calcIndicator(indicatorType, this.candleChart)\n    }\n    if (this.isShowVolChart() && indicatorType === IndicatorType.VOL) {\n      this.calcIndicator(indicatorType, this.volIndicatorChart)\n    }\n    if (this.getSubIndicatorType() === indicatorType) {\n      this.calcIndicator(indicatorType, this.subIndicatorChart)\n    }\n  }\n\n  /**\n   * 获取指标参数\n   * @returns {{DMI: number[], OBV: [number], SAR: number[], BIAS: number[], MTM: number[], CCI: [number], RSI: number[], TRIX: number[], CR: number[], EMV: number[], KDJ: number[], VOL: number[], BOLL: [number], MA: number[], MACD: number[], PSY: [number], DMA: number[], WR: number[], VR: number[], BRAR: [number]}}\n   */\n  getIndicatorParams (indicatorType) {\n    if (indicatorType) {\n      return this.indicatorParams[indicatorType] || []\n    }\n    return this.indicatorParams\n  }\n\n  /**\n   * 设置精度\n   * @param pricePrecision\n   * @param volumePrecision\n   */\n  setPrecision (pricePrecision = this.precision.pricePrecision, volumePrecision = this.precision.volumePrecision) {\n    this.precision.pricePrecision = pricePrecision\n    this.precision.volumePrecision = volumePrecision\n  }\n\n  /**\n   * 设置k线周期\n   * @param period\n   */\n  setPeriod (period) {\n    const periodValue = `${period}`\n    if (this.period.period !== periodValue && period && (/^[1-9]*?[DWMY]?$/i).test(periodValue)) {\n      this.period.period = periodValue\n      // 设置新周期后清空现有数据\n      this.clearData()\n    }\n  }\n\n  /**\n   * 设置交易时段\n   * @param session\n   */\n  setSession (session) {\n    // 0900-1630,1015-1130,2100-0100|0900-1400:234;6\n    /^[[012][0-9]{3}-[012][0-9]{3},]*[:[0-6]{1,6}]?[|[[012][0-9]{3}-[012][0-9]{3},]*[:[0-6]{1,6}]?]*[;[0-6]]?$/.test('0900-1630,1015-1130,2100-0100|0900-1400:234;6')\n    const rootSplitArray = session.split(';')\n    switch (rootSplitArray.length) {\n      case 1: {\n        break\n      }\n      case 2: {\n        const weekStartTradingDay = rootSplitArray[1]\n        if (!(/^[0-6]$/.test(weekStartTradingDay))) {\n          if (DEV) {\n            console.warn('The trading day is set incorrectly for the first trading day of the week. The parameters should be 0, 1, 2, 3, 4, 5, 6.')\n          }\n          return\n        }\n        console.log(1)\n        break\n      }\n      default: {\n        if (DEV) {\n          console.warn('The format of the trading session is incorrect.')\n        }\n      }\n    }\n  }\n\n  /**\n   * 显示成交量图\n   * @param isShow\n   */\n  showVolChart (isShow) {\n    const isShowVol = this.volIndicatorChart.indicatorType !== IndicatorType.NO\n    if (isShow !== isShowVol) {\n      this.volIndicatorChart.indicatorType = isShow ? IndicatorType.VOL : IndicatorType.NO\n      this.calcChartDimensions()\n      if (isShow) {\n        this.calcIndicator(IndicatorType.VOL, this.volIndicatorChart)\n      }\n    }\n  }\n\n  /**\n   * 设置默认的range\n   * @param range\n   */\n  setDefaultRange (range) {\n    if (isNumber(range) && range >= this.storage.minRange && range <= this.storage.maxRange) {\n      this.storage.range = range\n      this.storage.space(this.tooltipChart.handler.contentRight() - this.tooltipChart.handler.contentLeft())\n      if (this.storage.minPos + range > this.storage.dataList.length) {\n        this.storage.minPos = this.storage.dataList.length - range\n        if (this.storage.minPos < 0) {\n          this.storage.minPos = 0\n        }\n      }\n      this.flushCharts([this.candleChart, this.volIndicatorChart, this.subIndicatorChart, this.xAxisChart])\n    }\n  }\n\n  /**\n   * 设置最小range\n   * @param range\n   */\n  setMinRange (range) {\n    if (isNumber(range) && range <= this.storage.range) {\n      this.storage.minRange = range\n    }\n  }\n\n  /**\n   * 设置最大range\n   * @param range\n   */\n  setMaxRange (range) {\n    if (isNumber(range) && range >= this.storage.range) {\n      this.storage.maxRange = range\n    }\n  }\n\n  /**\n   * 获取主图指标类型\n   * @returns {string}\n   */\n  getMainIndicatorType () {\n    return this.candleChart.indicatorType\n  }\n\n  /**\n   * 获取附图指标类型\n   * @returns {string}\n   */\n  getSubIndicatorType () {\n    return this.subIndicatorChart.indicatorType\n  }\n\n  /**\n   * 成交量图是否显示\n   * @returns {boolean}\n   */\n  isShowVolChart () {\n    return this.volIndicatorChart.indicatorType !== IndicatorType.NO\n  }\n\n  /**\n   * 获取数据集合\n   * @returns {Array}\n   */\n  getDataList () {\n    return this.storage.dataList\n  }\n\n  /**\n   * 获取当前样式\n   * @returns {{indicator, yAxis, xAxis, grid, candle, tooltip}}\n   */\n  getStyle () {\n    return this.style\n  }\n\n  /**\n   * 清空数据\n   */\n  clearData () {\n    this.storage.dataList = []\n  }\n\n  /**\n   * 绘制标记图形\n   * @param type\n   */\n  drawMarker (type) {\n    // 如果当前是正在绘制其它的线模型，则清除掉当前正在绘制的数据\n    const graphicMarkType = this.storage.graphicMarkType\n    if (graphicMarkType !== type) {\n      const graphicMarkData = this.storage.graphicMarkDatas[graphicMarkType]\n      if (graphicMarkData && isArray(graphicMarkData)) {\n        graphicMarkData.splice(graphicMarkData.length - 1, 1)\n        this.storage.graphicMarkDatas[graphicMarkType] = graphicMarkData\n        this.tooltipChart.flush()\n      }\n    }\n    this.storage.graphicMarkType = type\n  }\n\n  /**\n   * 清空所有标记图形\n   */\n  clearAllMarker () {\n    const graphicMarkDatas = this.storage.graphicMarkDatas\n    Object.keys(graphicMarkDatas).forEach(key => {\n      this.storage.graphicMarkDatas[key] = []\n    })\n    this.storage.graphicMarkType = GraphicMarkType.NONE\n    this.graphicMarkChart.flush()\n  }\n\n  /**\n   * 加载更多\n   * @param cb\n   */\n  loadMore (cb) {\n    this.loadMoreCallback = cb\n  }\n\n  /**\n   * 获取图表转换为图片后url\n   * @param type\n   * @param excludes\n   */\n  getConvertPictureUrl (type = 'jpeg', excludes = []) {\n    if (type !== 'png' && type !== 'jpeg' && type !== 'bmp') {\n      throw new Error('Picture format only supports jpeg, png and bmp!!!')\n    }\n    const c = document.createElement('canvas')\n    const xAxisCanvas = this.xAxisChart.canvasDom\n    const candleCanvas = this.candleChart.canvasDom\n    const volCanvas = this.volIndicatorChart.canvasDom\n    const indicatorCanvas = this.subIndicatorChart.canvasDom\n    const tooltipCanvas = this.tooltipChart.canvasDom\n    c.width = tooltipCanvas.width\n    c.height = tooltipCanvas.height\n    c.style.width = tooltipCanvas.style.width\n    c.style.height = tooltipCanvas.style.height\n    const ctx = c.getContext('2d')\n    ctx.drawImage(xAxisCanvas, 0, 0, xAxisCanvas.width, xAxisCanvas.height)\n    if (!excludes || excludes.indexOf('candle') < 0) {\n      ctx.drawImage(candleCanvas, 0, 0, candleCanvas.width, candleCanvas.height)\n    }\n    if (!excludes || excludes.indexOf('vol') < 0) {\n      ctx.drawImage(volCanvas, 0, candleCanvas.height, volCanvas.width, volCanvas.height)\n    }\n    if (!excludes || excludes.indexOf('subIndicator') < 0) {\n      ctx.drawImage(indicatorCanvas, 0, candleCanvas.height + volCanvas.height, indicatorCanvas.width, indicatorCanvas.height)\n    }\n    if (!excludes || excludes.indexOf('marker') < 0) {\n      const markerCanvas = this.graphicMarkChart.canvasDom\n      ctx.drawImage(markerCanvas, 0, 0, markerCanvas.width, markerCanvas.height)\n    }\n    if (!excludes || excludes.indexOf('tooltip') < 0) {\n      ctx.drawImage(tooltipCanvas, 0, 0, tooltipCanvas.width, tooltipCanvas.height)\n    }\n    return c.toDataURL(`image/${type}`)\n  }\n}\n\nexport default RootChart\n","import RootChart from './chart/RootChart'\nimport { DEV } from './utils/env'\n\nconst instances = {}\nlet idBase = 1\n\n/**\n * 获取版本号\n * @returns {string}\n */\nfunction version () {\n  return 'K_LINE_VERSION'\n}\n\n/**\n * 初始化\n * @param dom\n * @param style\n * @returns {RootChart}\n */\nfunction init (dom, style = {}) {\n  if (!dom) {\n    throw new Error('Chart version is K_LINE_VERSION. Root dom is null, can not initialize the chart!!!')\n  }\n  const instance = instances[dom.chart_id || '']\n  if (instance) {\n    if (DEV) {\n      console.warn('The chart has been initialized on the dom！！！')\n    }\n    return instance\n  }\n  const id = `k_line_chart_${idBase++}`\n  const chart = new RootChart(dom, style)\n  chart.id = id\n  dom.chart_id = id\n  instances[id] = chart\n  return chart\n}\n\n/**\n * 销毁\n * @param dc\n */\nfunction dispose (dc) {\n  if (dc) {\n    let id = dc.chart_id\n    if (!id && dc instanceof RootChart) {\n      id = dc.id\n    }\n    if (id) {\n      delete instances[id]\n    }\n  }\n}\n\nexport { version, init, dispose }\n"],"names":["Handler","contentRect","left","right","top","bottom","height","width","offsetLeft","offsetRight","offsetTop","offsetBottom","contentRight","contentLeft","contentBottom","contentTop","point","x","y","ctx","document","createElement","getContext","pixelRatio","getPixelRatio","scale","backingStore","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","window","devicePixelRatio","requestAnimationFrame","fn","setTimeout","cancelAnimationFrame","id","clearTimeout","calcTextWidth","fontSize","text","font","getFont","measureText","Chart","dom","style","handler","init","canvasDom","position","appendChild","chartTop","clearCanvas","canvasWidth","canvasHeight","setDimensions","translate","draw","clearRect","requestAnimationId","Render","storage","formatValue","data","key","defaultValue","isObject","value","merge","target","source","hasOwnProperty","targetProp","sourceProp","isArray","Object","prototype","toString","call","isFunction","type","isNumber","isNaN","isBoolean","IndicatorType","NO","MA","VOL","MACD","BOLL","KDJ","RSI","BIAS","BRAR","CCI","DMI","CR","PSY","DMA","TRIX","OBV","VR","WR","MTM","EMV","SAR","LineStyle","DASH","SOLID","YAxisPosition","LEFT","RIGHT","YAxisTextPosition","INSIDE","OUTSIDE","ChartType","REAL_TIME","CANDLE","CandleStyle","STROKE","INCREASING_STROKE","DECREASING_STROKE","OHLC","TooltipTextDisplayRule","ALWAYS","FOLLOW_CROSS","NONE","TooltipCandleChartTextDisplayType","FLOAT","FIXED","GraphicMarkType","HORIZONTAL_STRAIGHT_LINE","VERTICAL_STRAIGHT_LINE","STRAIGHT_LINE","HORIZONTAL_RAY_LINE","VERTICAL_RAY_LINE","RAY_LINE","HORIZONTAL_SEGMENT_LINE","VERTICAL_SEGMENT_LINE","SEGMENT_LINE","PRICE_LINE","PRICE_CHANNEL_LINE","PARALLEL_STRAIGHT_LINE","FIBONACCI_LINE","GraphicMarkDrawStep","STEP_1","STEP_2","STEP_3","STEP_DONE","DATA_MARGIN_SPACE_RATE","Storage","dataList","minPos","range","maxRange","minRange","dataSpace","tooltipDataPos","crossPoint","graphicMarkType","graphicMarkPoint","isDragGraphicMark","graphicMarkDatas","horizontalStraightLine","verticalStraightLine","straightLine","horizontalRayLine","verticalRayLine","rayLine","horizontalSegmentLine","verticalSegmentLine","segmentLine","priceLine","parallelStraightLine","priceChannelLine","fibonacciLine","pos","tooltipDataMoveCount","length","push","unshift","moveToLast","concat","Math","ceil","toFixed","sub","IndicatorRender","yAxisRender","xAxis","lineSize","line","size","strokeStyle","color","lineWidth","beginPath","moveTo","lineTo","stroke","closePath","indicatorType","indicator","indicatorParams","isMainIndicator","onRendering","params","linePoints","dataKeys","forEach","p","i","kLineData","halfBarSpace","ohlcIndicatorRendering","values","prepareLinePoints","macd","diff","dea","refKLineData","macdValue","refMacdValue","Number","MIN_SAFE_INTEGER","increasingColor","fillStyle","decreasingColor","isFill","renderBars","vol","lineValues","close","refClose","num","bias","brar","br","ar","cci","cr","ma1","ma2","ma3","ma4","dma","dif","difMa","dmi","mdi","pdi","adx","adxr","kdj","k","d","j","rsi","psy","trix","maTrix","obv","maObv","vr","maVr","wr","wr1","wr2","wr3","mtm","mtmMa","emv","maEmv","sar","dataY","getY","high","low","arc","PI","renderGraphics","renderLines","prepare","indicatorData","toLowerCase","renderOhlc","onRenderEnd","startX","lastPos","min","endX","valueY","colors","lineColors","pointCount","lineColorSize","points","barData","zeroY","barHeight","abs","fillRect","strokeRect","openY","open","closeY","highY","lowY","nice","exponent","floor","log","exp10","pow","f","nf","getIntervalPrecision","str","eIndex","indexOf","precision","slice","dotIndex","round","max","formatPrecision","v","formatBigNumber","AxisRender","axisMaximum","axisMinimum","axisRange","interval","first","last","n","YAxisRender","yAxis","display","tickText","tick","tickLine","tickTextPosition","tickLineDisplay","tickLineLength","tickTextMargin","margin","initX","textSize","textBaseline","textAlign","fillText","separatorLine","setLineDash","dashValue","isCandleChart","isRealTimeChart","isShowAverageLine","minMaxArray","MAX_SAFE_INTEGER","minCompareArray","maxCompareArray","average","apply","compareMinMax","keys","computeAxisValues","fixComputeAxisValues","valueLength","textHeight","firstValueY","subValueCount","secondValueY","subY","getContentHeight","IndicatorChart","defaultIndicatorType","chartRender","isDrawChart","calcYAxisMinMax","computeAxis","renderSeparatorLines","drawChart","renderAxisLine","renderTickLines","renderAxisLabels","renderIndicator","renderHorizontalSeparatorLine","calcAxisMinMax","CandleRender","candle","pricePrecision","rect","markHighestPrice","markHighestPriceX","markLowestPrice","markLowestPriceX","highLine","lowLine","highestMarkData","price","lowestMarkData","highestPriceMark","renderLowestHighestPriceMark","lowestPriceMark","priceMark","isHigh","save","clip","priceY","startY","restore","lastPriceMark","isRenderTextLeft","isRenderTextOutside","dataSize","preKLineData","preLastPrice","lastPrice","lineStartX","lineEndX","priceMarkText","displayText","rectWidth","paddingLeft","paddingRight","rectHeight","paddingTop","paddingBottom","rectStartX","priceMarkLine","realTime","timeLinePoints","timeLineAreaPoints","averageLinePoints","averageY","timeLine","areaFillColor","fill","averageLine","CandleChart","chartType","renderLastPriceMark","renderCandle","renderHighestPriceMark","renderLowestPriceMark","renderTimeLine","getLinearY","point1","point2","targetPoints","subX","b","checkPointOnStraightLine","targetPoint","checkPointOnRayLine","checkPointOnSegmentLine","a","sqrt","c","checkPointOnCircle","circleCenterPoint","radius","getParallelLines","isPriceChannelLine","lines","endY","distance","b1","b2","getFibonacciLines","yDistance","GraphicMarkRender","yRender","graphicMark","renderPointGraphicMark","markerKey","checkPointOnLine","generatedLinePoints","isRenderPrice","priceExtendsText","graphicMarkData","drawStep","circlePoints","xPos","renderGraphicMark","isOnLine","isOn","getValue","priceText","marginLeft","marginBottom","isCircleActive","circlePoint","isOnCircle","circleRadius","circleColor","backgroundColor","circleBorderColor","borderColor","circleBorderSize","borderSize","activeRadius","activeBackgroundColor","activeBorderColor","activeBorderSize","GraphicMarkChart","graphicMarkRender","marker","renderHorizontalStraightLine","renderVerticalStraightLine","renderStraightLine","renderHorizontalRayLine","renderVerticalRayLine","renderRayLine","renderSegmentLine","renderPriceLine","renderPriceChannelLine","renderParallelStraightLine","renderFibonacciLine","formatDate","timestamp","format","date","getDate","year","getFullYear","month","getMonth","day","hours","getHours","minutes","getMinutes","monthText","dayText","hourText","minuteText","Date","getDefaultStyle","maxHeight","minHeight","maxWidth","minWidth","tooltip","cross","horizontal","vertical","displayRule","base","showType","labels","marginTop","marginRight","floatRect","borderRadius","fillColor","valueFormatter","getDefaultIndicatorParams","getDefaultPrecision","volumePrecision","getDefaultPeriod","period","getIndicatorPrecision","TooltipRender","candleHandler","volHandler","subIndicatorHandler","candleYAxisRender","volYAxisRender","subIndicatorYAxisRender","mainIndicatorType","subIndicatorType","isRenderYAxisLeft","isRenderYAxisTextOutside","yAxisDataLabel","getCrossYAxisLabel","textHorizontal","yAxisDataLabelWidth","centerPoint","getContentCenter","rectY","eventY","yData","precisionConfig","crossLine","textVertical","labelWidth","xAxisLabelX","rectLeft","rectTop","rectRight","rectBottom","isCandle","baseDataStyle","indicatorDataStyle","indicatorColors","getRenderIndicatorTooltipData","renderCandleChartFixedBaseDataTooltipText","renderIndicatorTooltipText","renderCandleChartFloatRectText","renderIndicatorLineCircle","isVolChart","indicatorLineColors","circleOffsetTop","getCandleChartBaseValues","textMarginLeft","textMarginRight","textColor","label","labelText","valueText","textWidth","baseLabels","baseValues","baseTextMarginLeft","baseTextMarginRight","baseTextMarginTop","baseTextMarginBottom","baseTextSize","baseTextColor","maxLabelWidth","indicatorLabels","indicatorValues","indicatorTextMarginLeft","indicatorTextMarginRight","indicatorTextMarginTop","indicatorTextMarginBottom","indicatorTextSize","floatRectBorderSize","floatRectPaddingLeft","floatRectPaddingRight","floatRectPaddingTop","floatRectPaddingBottom","floatRectLeft","floatRectRight","floatRectWidth","floatRectHeight","rectX","renderRoundRect","baseLabelX","labelY","indicatorLabelX","colorLength","toUpperCase","w","h","r","arcTo","index","nameText","name","indicatorText","labelX","nameTextWidth","isShowCross","colorSize","valueSize","join","decimal","TooltipChart","candleChart","volChart","subIndicatorChart","xAxisChart","tooltipRender","renderCrossHorizontalLine","renderCrossVerticalLine","tooltipData","renderCandleChartTooltip","renderIndicatorChartTooltip","XAxisRender","periodType","replace","dateFormatType","dataPos","parseInt","kLineModel","dateText","nextDataPos","nextKLineModel","nextTimestamp","defaultLabelWidth","firstValueX","getX","secondValueX","XAxisChart","xAxisRender","calcIndicator","totalTurnover","totalVolume","calc","turnover","volume","checkParams","closeSums","paramsLength","ma","volumeSums","checkParamsWithSize","emaShort","emaLong","oldEmaShort","oldEmaLong","oldDea","closePrice","closeSum","md","up","dn","getBollMd","boll","mid","ln","hn","cn","getLow","getHigh","rsv","sumCloseA1","sumCloseB1","sumCloseA2","sumCloseB2","sumCloseA3","sumCloseB3","a1","a2","a3","b3","tmp","absTmp","agoTmp","mean1","mean2","mean3","closes1","closes2","closes3","hcy","cyl","ho","ol","agoHigh","agoLow","agoOpen","agoRefClose","closes","closeMa","closeMaList","maCloseSum","tp","agoClosePrice","trList","trSum","dmpList","dmpSum","dmmList","dmmSum","dxList","dxSum","highPrice","lowPrice","hl","lcy","hhy","lyl","tr","l","dx","agoAdx","p1","p2","ma1Sum","ma1Mean","ma1List","ma2Sum","ma2Mean","ma2List","ma3Sum","ma3Mean","ma3List","ma4Sum","ma4Mean","ma4List","preHighestPrice","preLowestPrice","preClosePrice","preOpenPrice","preMidPrice","highestPrice","lowestPrice","highSubPreMid","preMidSubLow","firstHighestPrice","firstLowestPrice","firstClosePrice","firstOpenPrice","firstMidPrice","secondHighestPrice","secondLowestPrice","secondHighSubFirstMid","firstMidSubSecondLow","YM","HYM","LYM","upDay","difSum","sumTrix","emaClose1","oldEmaClose1","emaClose2","oldEmaClose2","emaClose3","oldEmaClose3","emaClose3List","refEmaClose3","sumObv","sumVa","refClosePrice","va","avs","bvs","cvs","sumVr","openPrice","agoOpenPrice","agoVolume","h1","l1","h2","l2","h3","l3","hl1","hl2","hl3","highLowPriceArray","getHighLow","mtmSum","sumEmv","em","emList","highSubLow","halfHighAddLow","preHalfHighAddLow","startAf","step","maxAf","af","ep","isIncreasing","preSar","lowestPriceMin","highestPriceMax","list","sum","paramsSize","isIPad","ua","match","isIPhone","isAndroid","isMobile","Event","tooltipChart","eventPoint","dragX","loadMore","moveDist","moveRange","flush","isZoomingOut","scaleX","touchStartPosition","touchRange","space","calcCurrentTooltipDataPos","isValidEvent","getCanvasPoint","e","getBoundingClientRect","clientX","clientY","stopEvent","stopPropagation","event","cancelBubble","preventDefault","returnValue","eventX","dy","spacing","targetTouches","getXDist","TOUCH_NO","TOUCH_DRAG","TOUCH_ZOOM","TOUCH_POST_ZOOM","TOUCH_CROSS","TOUCH_CROSS_CANCEL","TouchEvent","touchMode","touchStartPoint","touchMovePoint","touchCrossPoint","savedDist","savedXDist","delayTimeout","delayActiveCross","crossRadius","performCross","removeDelayActiveCross","postDelayDelayActiveCross","waitingForMouseMoveAnimationFrame","performZoom","drag","dis","distanceX","distanceY","totalDist","xDist","zoom","CROSS","DRAG","MouseEvent","markerChart","mouseMode","mouseDownPoint","documentMouseUp","removeEventListener","button","addEventListener","delta","wheelDelta","deltaY","GraphicMarkEvent","graphicMarkChart","noneMarkerMouseDownFlag","noneMarkerMouseDownActiveData","markKey","dataIndex","onLine","onCircle","pointIndex","twoStepMarkerMouseDown","threeStepMarkerMouseDown","noneMarkerMouseDown","markerMouseDown","lastLineData","performDifPoint","splice","findNoneMarkerMouseDownActiveData","realFindNoneMarkerMouseDownActiveData","xyPoints","isOnMarker","onePointMarkerMouseMove","twoPointMarkerMouseMove","threePointMarkerMouseMove","noneMarkerMouseMove","markerMouseMove","stepTwo","KeyboardEvent","keyCode","shouldFlush","DEV","process","env","NODE_ENV","RootChart","s","noMore","outline","borderStyle","tabIndex","volIndicatorChart","calcChartDimensions","initEvent","mobile","navigator","userAgent","loading","loadMoreCallback","motionEvent","touchStart","touchMove","touchEnd","graphicMarkEvent","keyboardEvent","mouseDown","mouseUp","mouseMove","mouseLeave","mouseWheel","keyDown","charts","chart","xAxisHeight","calcXAxisHeight","yAxisWidth","calcYAxisWidth","domWidth","offsetWidth","domHeight","offsetHeight","contentHeight","volChartHeight","subIndicatorChartHeight","isShowVolIndicator","isShowSubIndicator","setChartDimensions","candleChartHeight","needsOffset","axisLineSize","flushCharts","Promise","resolve","then","getDataList","lastDataTimestamp","periodValue","periodNumber","timeDiff","lastDataYear","lastDataMonth","monthDiff","yearDiff","addData","calcChartIndicator","clearAllMarker","clearData","shouldCalcChartHeight","getMainIndicatorType","isShowVolChart","getSubIndicatorType","test","session","rootSplitArray","split","weekStartTradingDay","console","warn","isShow","isShowVol","cb","excludes","Error","xAxisCanvas","candleCanvas","volCanvas","indicatorCanvas","tooltipCanvas","drawImage","markerCanvas","toDataURL","instances","idBase","version","instance","chart_id","dispose","dc"],"mappings":"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"}