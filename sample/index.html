<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>kline sample</title>

</head>
<body>
  <script type="text/javascript" src="../dist/klinecharts.production.js"></script>
  <div id="kline" style="height: 500px"></div>
  <script>
    function generatedDataList () {
      var dataList = []
      var timestamp = new Date().getTime() - 12 * 24 * 3600
      var baseValue = Math.random() * 12000
      const prices = []
      for (var i = 0; i < 2000; i++) {
        baseValue = baseValue + Math.random() * 20 - 10
        for (var j = 0; j < 4; j++) {
          prices[j] = (Math.random() - 0.5) * 12 + baseValue
        }
        prices.sort()
        var openIdx = +Math.round(Math.random() * 3).toFixed(0)
        var closeIdx = +Math.round(Math.random() * 2).toFixed(0)
        if (closeIdx === openIdx) {
          closeIdx++
        }
        var volume = Math.random() * 100

        timestamp += 60 * 1000

        var kLineModel = {
          open: prices[openIdx],
          low: prices[0],
          high: prices[3],
          close: prices[closeIdx],
          volume: volume,
          timestamp,
          turnover: prices[closeIdx] * volume
        }
        dataList.push(kLineModel)
      }
      return dataList
    }

    var chart = klinecharts.init(document.getElementById("kline"))
    chart.addData(generatedDataList())
  </script>
</body>
</html>
